function e0(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const r in o)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(o,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>o[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function t0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Af={exports:{}},Ls={},bf={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ir=Symbol.for("react.element"),n0=Symbol.for("react.portal"),o0=Symbol.for("react.fragment"),r0=Symbol.for("react.strict_mode"),s0=Symbol.for("react.profiler"),i0=Symbol.for("react.provider"),l0=Symbol.for("react.context"),a0=Symbol.for("react.forward_ref"),u0=Symbol.for("react.suspense"),c0=Symbol.for("react.memo"),d0=Symbol.for("react.lazy"),Tu=Symbol.iterator;function f0(e){return e===null||typeof e!="object"?null:(e=Tu&&e[Tu]||e["@@iterator"],typeof e=="function"?e:null)}var Rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mf=Object.assign,Pf={};function oo(e,t,n){this.props=e,this.context=t,this.refs=Pf,this.updater=n||Rf}oo.prototype.isReactComponent={};oo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};oo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lf(){}Lf.prototype=oo.prototype;function la(e,t,n){this.props=e,this.context=t,this.refs=Pf,this.updater=n||Rf}var aa=la.prototype=new Lf;aa.constructor=la;Mf(aa,oo.prototype);aa.isPureReactComponent=!0;var Eu=Array.isArray,Df=Object.prototype.hasOwnProperty,ua={current:null},jf={key:!0,ref:!0,__self:!0,__source:!0};function Ff(e,t,n){var o,r={},s=null,l=null;if(t!=null)for(o in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)Df.call(t,o)&&!jf.hasOwnProperty(o)&&(r[o]=t[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var d=Array(u),f=0;f<u;f++)d[f]=arguments[f+2];r.children=d}if(e&&e.defaultProps)for(o in u=e.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:ir,type:e,key:s,ref:l,props:r,_owner:ua.current}}function p0(e,t){return{$$typeof:ir,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ca(e){return typeof e=="object"&&e!==null&&e.$$typeof===ir}function m0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _u=/\/+/g;function ci(e,t){return typeof e=="object"&&e!==null&&e.key!=null?m0(""+e.key):t.toString(36)}function Gr(e,t,n,o,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ir:case n0:l=!0}}if(l)return l=e,r=r(l),e=o===""?"."+ci(l,0):o,Eu(r)?(n="",e!=null&&(n=e.replace(_u,"$&/")+"/"),Gr(r,t,n,"",function(f){return f})):r!=null&&(ca(r)&&(r=p0(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(_u,"$&/")+"/")+e)),t.push(r)),1;if(l=0,o=o===""?".":o+":",Eu(e))for(var u=0;u<e.length;u++){s=e[u];var d=o+ci(s,u);l+=Gr(s,t,n,d,r)}else if(d=f0(e),typeof d=="function")for(e=d.call(e),u=0;!(s=e.next()).done;)s=s.value,d=o+ci(s,u++),l+=Gr(s,t,n,d,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function pr(e,t,n){if(e==null)return e;var o=[],r=0;return Gr(e,o,"","",function(s){return t.call(n,s,r++)}),o}function h0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Re={current:null},Hr={transition:null},g0={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:Hr,ReactCurrentOwner:ua};function Uf(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:pr,forEach:function(e,t,n){pr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pr(e,function(){t++}),t},toArray:function(e){return pr(e,function(t){return t})||[]},only:function(e){if(!ca(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=oo;J.Fragment=o0;J.Profiler=s0;J.PureComponent=la;J.StrictMode=r0;J.Suspense=u0;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g0;J.act=Uf;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Mf({},e.props),r=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=ua.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)Df.call(t,d)&&!jf.hasOwnProperty(d)&&(o[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){u=Array(d);for(var f=0;f<d;f++)u[f]=arguments[f+2];o.children=u}return{$$typeof:ir,type:e.type,key:r,ref:s,props:o,_owner:l}};J.createContext=function(e){return e={$$typeof:l0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:i0,_context:e},e.Consumer=e};J.createElement=Ff;J.createFactory=function(e){var t=Ff.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:a0,render:e}};J.isValidElement=ca;J.lazy=function(e){return{$$typeof:d0,_payload:{_status:-1,_result:e},_init:h0}};J.memo=function(e,t){return{$$typeof:c0,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Hr.transition;Hr.transition={};try{e()}finally{Hr.transition=t}};J.unstable_act=Uf;J.useCallback=function(e,t){return Re.current.useCallback(e,t)};J.useContext=function(e){return Re.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return Re.current.useDeferredValue(e)};J.useEffect=function(e,t){return Re.current.useEffect(e,t)};J.useId=function(){return Re.current.useId()};J.useImperativeHandle=function(e,t,n){return Re.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return Re.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Re.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Re.current.useMemo(e,t)};J.useReducer=function(e,t,n){return Re.current.useReducer(e,t,n)};J.useRef=function(e){return Re.current.useRef(e)};J.useState=function(e){return Re.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return Re.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return Re.current.useTransition()};J.version="18.3.1";bf.exports=J;var _=bf.exports;const Vf=t0(_),v0=e0({__proto__:null,default:Vf},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0=_,y0=Symbol.for("react.element"),C0=Symbol.for("react.fragment"),S0=Object.prototype.hasOwnProperty,w0=x0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N0={key:!0,ref:!0,__self:!0,__source:!0};function Gf(e,t,n){var o,r={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(o in t)S0.call(t,o)&&!N0.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:y0,type:e,key:s,ref:l,props:r,_owner:w0.current}}Ls.Fragment=C0;Ls.jsx=Gf;Ls.jsxs=Gf;Af.exports=Ls;var i=Af.exports,Wi={},Hf={exports:{}},Be={},Bf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,G){var W=P.length;P.push(G);e:for(;0<W;){var ae=W-1>>>1,me=P[ae];if(0<r(me,G))P[ae]=G,P[W]=me,W=ae;else break e}}function n(P){return P.length===0?null:P[0]}function o(P){if(P.length===0)return null;var G=P[0],W=P.pop();if(W!==G){P[0]=W;e:for(var ae=0,me=P.length,dr=me>>>1;ae<dr;){var on=2*(ae+1)-1,ui=P[on],rn=on+1,fr=P[rn];if(0>r(ui,W))rn<me&&0>r(fr,ui)?(P[ae]=fr,P[rn]=W,ae=rn):(P[ae]=ui,P[on]=W,ae=on);else if(rn<me&&0>r(fr,W))P[ae]=fr,P[rn]=W,ae=rn;else break e}}return G}function r(P,G){var W=P.sortIndex-G.sortIndex;return W!==0?W:P.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,h=3,g=!1,v=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(P){for(var G=n(f);G!==null;){if(G.callback===null)o(f);else if(G.startTime<=P)o(f),G.sortIndex=G.expirationTime,t(d,G);else break;G=n(f)}}function N(P){if(w=!1,S(P),!v)if(n(d)!==null)v=!0,Ze(E);else{var G=n(f);G!==null&&Tn(N,G.startTime-P)}}function E(P,G){v=!1,w&&(w=!1,y(k),k=-1),g=!0;var W=h;try{for(S(G),m=n(d);m!==null&&(!(m.expirationTime>G)||P&&!D());){var ae=m.callback;if(typeof ae=="function"){m.callback=null,h=m.priorityLevel;var me=ae(m.expirationTime<=G);G=e.unstable_now(),typeof me=="function"?m.callback=me:m===n(d)&&o(d),S(G)}else o(d);m=n(d)}if(m!==null)var dr=!0;else{var on=n(f);on!==null&&Tn(N,on.startTime-G),dr=!1}return dr}finally{m=null,h=W,g=!1}}var T=!1,I=null,k=-1,b=5,A=-1;function D(){return!(e.unstable_now()-A<b)}function F(){if(I!==null){var P=e.unstable_now();A=P;var G=!0;try{G=I(!0,P)}finally{G?$():(T=!1,I=null)}}else T=!1}var $;if(typeof x=="function")$=function(){x(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Xe=X.port2;X.port1.onmessage=F,$=function(){Xe.postMessage(null)}}else $=function(){C(F,0)};function Ze(P){I=P,T||(T=!0,$())}function Tn(P,G){k=C(function(){P(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,Ze(E))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var W=h;h=G;try{return P()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,G){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var W=h;h=P;try{return G()}finally{h=W}},e.unstable_scheduleCallback=function(P,G,W){var ae=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,P){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=W+me,P={id:p++,callback:G,priorityLevel:P,startTime:W,expirationTime:me,sortIndex:-1},W>ae?(P.sortIndex=W,t(f,P),n(d)===null&&P===n(f)&&(w?(y(k),k=-1):w=!0,Tn(N,W-ae))):(P.sortIndex=me,t(d,P),v||g||(v=!0,Ze(E))),P},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(P){var G=h;return function(){var W=h;h=G;try{return P.apply(this,arguments)}finally{h=W}}}})(zf);Bf.exports=zf;var T0=Bf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0=_,He=T0;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qf=new Set,Vo={};function yn(e,t){Kn(e,t),Kn(e+"Capture",t)}function Kn(e,t){for(Vo[e]=t,e=0;e<t.length;e++)qf.add(t[e])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ji=Object.prototype.hasOwnProperty,_0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iu={},ku={};function I0(e){return Ji.call(ku,e)?!0:Ji.call(Iu,e)?!1:_0.test(e)?ku[e]=!0:(Iu[e]=!0,!1)}function k0(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A0(e,t,n,o){if(t===null||typeof t>"u"||k0(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,n,o,r,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new Me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new Me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new Me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new Me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new Me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new Me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var da=/[\-:]([a-z])/g;function fa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(da,fa);Se[t]=new Me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(da,fa);Se[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(da,fa);Se[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function pa(e,t,n,o){var r=Se.hasOwnProperty(t)?Se[t]:null;(r!==null?r.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(A0(t,n,r,o)&&(n=null),o||r===null?I0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,o=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var _t=E0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mr=Symbol.for("react.element"),In=Symbol.for("react.portal"),kn=Symbol.for("react.fragment"),ma=Symbol.for("react.strict_mode"),Ki=Symbol.for("react.profiler"),Of=Symbol.for("react.provider"),$f=Symbol.for("react.context"),ha=Symbol.for("react.forward_ref"),Yi=Symbol.for("react.suspense"),Qi=Symbol.for("react.suspense_list"),ga=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Wf=Symbol.for("react.offscreen"),Au=Symbol.iterator;function fo(e){return e===null||typeof e!="object"?null:(e=Au&&e[Au]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,di;function No(e){if(di===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);di=t&&t[1]||""}return`
`+di+e}var fi=!1;function pi(e,t){if(!e||fi)return"";fi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var o=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){o=f}e.call(t.prototype)}else{try{throw Error()}catch(f){o=f}e()}}catch(f){if(f&&o&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),s=o.stack.split(`
`),l=r.length-1,u=s.length-1;1<=l&&0<=u&&r[l]!==s[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==s[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==s[u]){var d=`
`+r[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=u);break}}}finally{fi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?No(e):""}function b0(e){switch(e.tag){case 5:return No(e.type);case 16:return No("Lazy");case 13:return No("Suspense");case 19:return No("SuspenseList");case 0:case 2:case 15:return e=pi(e.type,!1),e;case 11:return e=pi(e.type.render,!1),e;case 1:return e=pi(e.type,!0),e;default:return""}}function Xi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kn:return"Fragment";case In:return"Portal";case Ki:return"Profiler";case ma:return"StrictMode";case Yi:return"Suspense";case Qi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $f:return(e.displayName||"Context")+".Consumer";case Of:return(e._context.displayName||"Context")+".Provider";case ha:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ga:return t=e.displayName||null,t!==null?t:Xi(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return Xi(e(t))}catch{}}return null}function R0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xi(t);case 8:return t===ma?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function M0(e){var t=Jf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hr(e){e._valueTracker||(e._valueTracker=M0(e))}function Kf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Jf(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zi(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bu(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=Jt(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yf(e,t){t=t.checked,t!=null&&pa(e,"checked",t,!1)}function el(e,t){Yf(e,t);var n=Jt(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tl(e,t.type,n):t.hasOwnProperty("defaultValue")&&tl(e,t.type,Jt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ru(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function tl(e,t,n){(t!=="number"||ts(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var To=Array.isArray;function Hn(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+Jt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function nl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(To(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jt(n)}}function Qf(e,t){var n=Jt(t.value),o=Jt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function Pu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ol(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gr,Zf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Go(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P0=["Webkit","ms","Moz","O"];Object.keys(ko).forEach(function(e){P0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ko[t]=ko[e]})});function ep(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ko.hasOwnProperty(e)&&ko[e]?(""+t).trim():t+"px"}function tp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=ep(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}var L0=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rl(e,t){if(t){if(L0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function sl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var il=null;function va(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ll=null,Bn=null,zn=null;function Lu(e){if(e=ur(e)){if(typeof ll!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Vs(t),ll(e.stateNode,e.type,t))}}function np(e){Bn?zn?zn.push(e):zn=[e]:Bn=e}function op(){if(Bn){var e=Bn,t=zn;if(zn=Bn=null,Lu(e),t)for(e=0;e<t.length;e++)Lu(t[e])}}function rp(e,t){return e(t)}function sp(){}var mi=!1;function ip(e,t,n){if(mi)return e(t,n);mi=!0;try{return rp(e,t,n)}finally{mi=!1,(Bn!==null||zn!==null)&&(sp(),op())}}function Ho(e,t){var n=e.stateNode;if(n===null)return null;var o=Vs(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var al=!1;if(St)try{var po={};Object.defineProperty(po,"passive",{get:function(){al=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{al=!1}function D0(e,t,n,o,r,s,l,u,d){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(p){this.onError(p)}}var Ao=!1,ns=null,os=!1,ul=null,j0={onError:function(e){Ao=!0,ns=e}};function F0(e,t,n,o,r,s,l,u,d){Ao=!1,ns=null,D0.apply(j0,arguments)}function U0(e,t,n,o,r,s,l,u,d){if(F0.apply(this,arguments),Ao){if(Ao){var f=ns;Ao=!1,ns=null}else throw Error(R(198));os||(os=!0,ul=f)}}function Cn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Du(e){if(Cn(e)!==e)throw Error(R(188))}function V0(e){var t=e.alternate;if(!t){if(t=Cn(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Du(r),e;if(s===o)return Du(r),t;s=s.sibling}throw Error(R(188))}if(n.return!==o.return)n=r,o=s;else{for(var l=!1,u=r.child;u;){if(u===n){l=!0,n=r,o=s;break}if(u===o){l=!0,o=r,n=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===n){l=!0,n=s,o=r;break}if(u===o){l=!0,o=s,n=r;break}u=u.sibling}if(!l)throw Error(R(189))}}if(n.alternate!==o)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function ap(e){return e=V0(e),e!==null?up(e):null}function up(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=up(e);if(t!==null)return t;e=e.sibling}return null}var cp=He.unstable_scheduleCallback,ju=He.unstable_cancelCallback,G0=He.unstable_shouldYield,H0=He.unstable_requestPaint,ue=He.unstable_now,B0=He.unstable_getCurrentPriorityLevel,xa=He.unstable_ImmediatePriority,dp=He.unstable_UserBlockingPriority,rs=He.unstable_NormalPriority,z0=He.unstable_LowPriority,fp=He.unstable_IdlePriority,Ds=null,pt=null;function q0(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Ds,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:W0,O0=Math.log,$0=Math.LN2;function W0(e){return e>>>=0,e===0?32:31-(O0(e)/$0|0)|0}var vr=64,xr=4194304;function Eo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ss(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,r=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~r;u!==0?o=Eo(u):(s&=l,s!==0&&(o=Eo(s)))}else l=n&~r,l!==0?o=Eo(l):s!==0&&(o=Eo(s));if(o===0)return 0;if(t!==0&&t!==o&&!(t&r)&&(r=o&-o,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-rt(t),r=1<<n,o|=e[n],t&=~r;return o}function J0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K0(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-rt(s),u=1<<l,d=r[l];d===-1?(!(u&n)||u&o)&&(r[l]=J0(u,t)):d<=t&&(e.expiredLanes|=u),s&=~u}}function cl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pp(){var e=vr;return vr<<=1,!(vr&4194240)&&(vr=64),e}function hi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=n}function Y0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-rt(n),s=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~s}}function ya(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-rt(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var Q=0;function mp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hp,Ca,gp,vp,xp,dl=!1,yr=[],Vt=null,Gt=null,Ht=null,Bo=new Map,zo=new Map,Pt=[],Q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fu(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":Bo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(t.pointerId)}}function mo(e,t,n,o,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:s,targetContainers:[r]},t!==null&&(t=ur(t),t!==null&&Ca(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function X0(e,t,n,o,r){switch(t){case"focusin":return Vt=mo(Vt,e,t,n,o,r),!0;case"dragenter":return Gt=mo(Gt,e,t,n,o,r),!0;case"mouseover":return Ht=mo(Ht,e,t,n,o,r),!0;case"pointerover":var s=r.pointerId;return Bo.set(s,mo(Bo.get(s)||null,e,t,n,o,r)),!0;case"gotpointercapture":return s=r.pointerId,zo.set(s,mo(zo.get(s)||null,e,t,n,o,r)),!0}return!1}function yp(e){var t=un(e.target);if(t!==null){var n=Cn(t);if(n!==null){if(t=n.tag,t===13){if(t=lp(n),t!==null){e.blockedOn=t,xp(e.priority,function(){gp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Br(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);il=o,n.target.dispatchEvent(o),il=null}else return t=ur(n),t!==null&&Ca(t),e.blockedOn=n,!1;t.shift()}return!0}function Uu(e,t,n){Br(e)&&n.delete(t)}function Z0(){dl=!1,Vt!==null&&Br(Vt)&&(Vt=null),Gt!==null&&Br(Gt)&&(Gt=null),Ht!==null&&Br(Ht)&&(Ht=null),Bo.forEach(Uu),zo.forEach(Uu)}function ho(e,t){e.blockedOn===t&&(e.blockedOn=null,dl||(dl=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Z0)))}function qo(e){function t(r){return ho(r,e)}if(0<yr.length){ho(yr[0],e);for(var n=1;n<yr.length;n++){var o=yr[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Vt!==null&&ho(Vt,e),Gt!==null&&ho(Gt,e),Ht!==null&&ho(Ht,e),Bo.forEach(t),zo.forEach(t),n=0;n<Pt.length;n++)o=Pt[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Pt.length&&(n=Pt[0],n.blockedOn===null);)yp(n),n.blockedOn===null&&Pt.shift()}var qn=_t.ReactCurrentBatchConfig,is=!0;function eg(e,t,n,o){var r=Q,s=qn.transition;qn.transition=null;try{Q=1,Sa(e,t,n,o)}finally{Q=r,qn.transition=s}}function tg(e,t,n,o){var r=Q,s=qn.transition;qn.transition=null;try{Q=4,Sa(e,t,n,o)}finally{Q=r,qn.transition=s}}function Sa(e,t,n,o){if(is){var r=fl(e,t,n,o);if(r===null)Ei(e,t,o,ls,n),Fu(e,o);else if(X0(r,e,t,n,o))o.stopPropagation();else if(Fu(e,o),t&4&&-1<Q0.indexOf(e)){for(;r!==null;){var s=ur(r);if(s!==null&&hp(s),s=fl(e,t,n,o),s===null&&Ei(e,t,o,ls,n),s===r)break;r=s}r!==null&&o.stopPropagation()}else Ei(e,t,o,null,n)}}var ls=null;function fl(e,t,n,o){if(ls=null,e=va(o),e=un(e),e!==null)if(t=Cn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ls=e,null}function Cp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B0()){case xa:return 1;case dp:return 4;case rs:case z0:return 16;case fp:return 536870912;default:return 16}default:return 16}}var Dt=null,wa=null,zr=null;function Sp(){if(zr)return zr;var e,t=wa,n=t.length,o,r="value"in Dt?Dt.value:Dt.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(o=1;o<=l&&t[n-o]===r[s-o];o++);return zr=r.slice(e,1<o?1-o:void 0)}function qr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cr(){return!0}function Vu(){return!1}function ze(e){function t(n,o,r,s,l){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cr:Vu,this.isPropagationStopped=Vu,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),t}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=ze(ro),ar=ie({},ro,{view:0,detail:0}),ng=ze(ar),gi,vi,go,js=ie({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==go&&(go&&e.type==="mousemove"?(gi=e.screenX-go.screenX,vi=e.screenY-go.screenY):vi=gi=0,go=e),gi)},movementY:function(e){return"movementY"in e?e.movementY:vi}}),Gu=ze(js),og=ie({},js,{dataTransfer:0}),rg=ze(og),sg=ie({},ar,{relatedTarget:0}),xi=ze(sg),ig=ie({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),lg=ze(ig),ag=ie({},ro,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ug=ze(ag),cg=ie({},ro,{data:0}),Hu=ze(cg),dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pg[e])?!!t[e]:!1}function Ta(){return mg}var hg=ie({},ar,{key:function(e){if(e.key){var t=dg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(e){return e.type==="keypress"?qr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gg=ze(hg),vg=ie({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bu=ze(vg),xg=ie({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),yg=ze(xg),Cg=ie({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sg=ze(Cg),wg=ie({},js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ng=ze(wg),Tg=[9,13,27,32],Ea=St&&"CompositionEvent"in window,bo=null;St&&"documentMode"in document&&(bo=document.documentMode);var Eg=St&&"TextEvent"in window&&!bo,wp=St&&(!Ea||bo&&8<bo&&11>=bo),zu=" ",qu=!1;function Np(e,t){switch(e){case"keyup":return Tg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var An=!1;function _g(e,t){switch(e){case"compositionend":return Tp(t);case"keypress":return t.which!==32?null:(qu=!0,zu);case"textInput":return e=t.data,e===zu&&qu?null:e;default:return null}}function Ig(e,t){if(An)return e==="compositionend"||!Ea&&Np(e,t)?(e=Sp(),zr=wa=Dt=null,An=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wp&&t.locale!=="ko"?null:t.data;default:return null}}var kg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kg[e.type]:t==="textarea"}function Ep(e,t,n,o){np(o),t=as(t,"onChange"),0<t.length&&(n=new Na("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Ro=null,Oo=null;function Ag(e){jp(e,0)}function Fs(e){var t=Mn(e);if(Kf(t))return e}function bg(e,t){if(e==="change")return t}var _p=!1;if(St){var yi;if(St){var Ci="oninput"in document;if(!Ci){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Ci=typeof $u.oninput=="function"}yi=Ci}else yi=!1;_p=yi&&(!document.documentMode||9<document.documentMode)}function Wu(){Ro&&(Ro.detachEvent("onpropertychange",Ip),Oo=Ro=null)}function Ip(e){if(e.propertyName==="value"&&Fs(Oo)){var t=[];Ep(t,Oo,e,va(e)),ip(Ag,t)}}function Rg(e,t,n){e==="focusin"?(Wu(),Ro=t,Oo=n,Ro.attachEvent("onpropertychange",Ip)):e==="focusout"&&Wu()}function Mg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fs(Oo)}function Pg(e,t){if(e==="click")return Fs(t)}function Lg(e,t){if(e==="input"||e==="change")return Fs(t)}function Dg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:Dg;function $o(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!Ji.call(t,r)||!at(e[r],t[r]))return!1}return!0}function Ju(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ku(e,t){var n=Ju(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ju(n)}}function kp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ap(){for(var e=window,t=ts();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ts(e.document)}return t}function _a(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jg(e){var t=Ap(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kp(n.ownerDocument.documentElement,n)){if(o!==null&&_a(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(o.start,r);o=o.end===void 0?s:Math.min(o.end,r),!e.extend&&s>o&&(r=o,o=s,s=r),r=Ku(n,s);var l=Ku(n,o);r&&l&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>o?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fg=St&&"documentMode"in document&&11>=document.documentMode,bn=null,pl=null,Mo=null,ml=!1;function Yu(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ml||bn==null||bn!==ts(o)||(o=bn,"selectionStart"in o&&_a(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&$o(Mo,o)||(Mo=o,o=as(pl,"onSelect"),0<o.length&&(t=new Na("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=bn)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rn={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Si={},bp={};St&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete Rn.animationend.animation,delete Rn.animationiteration.animation,delete Rn.animationstart.animation),"TransitionEvent"in window||delete Rn.transitionend.transition);function Us(e){if(Si[e])return Si[e];if(!Rn[e])return e;var t=Rn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bp)return Si[e]=t[n];return e}var Rp=Us("animationend"),Mp=Us("animationiteration"),Pp=Us("animationstart"),Lp=Us("transitionend"),Dp=new Map,Qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){Dp.set(e,t),yn(t,[e])}for(var wi=0;wi<Qu.length;wi++){var Ni=Qu[wi],Ug=Ni.toLowerCase(),Vg=Ni[0].toUpperCase()+Ni.slice(1);Qt(Ug,"on"+Vg)}Qt(Rp,"onAnimationEnd");Qt(Mp,"onAnimationIteration");Qt(Pp,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(Lp,"onTransitionEnd");Kn("onMouseEnter",["mouseout","mouseover"]);Kn("onMouseLeave",["mouseout","mouseover"]);Kn("onPointerEnter",["pointerout","pointerover"]);Kn("onPointerLeave",["pointerout","pointerover"]);yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gg=new Set("cancel close invalid load scroll toggle".split(" ").concat(_o));function Xu(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,U0(o,t,void 0,e),e.currentTarget=null}function jp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var s=void 0;if(t)for(var l=o.length-1;0<=l;l--){var u=o[l],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==s&&r.isPropagationStopped())break e;Xu(r,u,f),s=d}else for(l=0;l<o.length;l++){if(u=o[l],d=u.instance,f=u.currentTarget,u=u.listener,d!==s&&r.isPropagationStopped())break e;Xu(r,u,f),s=d}}}if(os)throw e=ul,os=!1,ul=null,e}function ee(e,t){var n=t[yl];n===void 0&&(n=t[yl]=new Set);var o=e+"__bubble";n.has(o)||(Fp(t,e,2,!1),n.add(o))}function Ti(e,t,n){var o=0;t&&(o|=4),Fp(n,e,o,t)}var wr="_reactListening"+Math.random().toString(36).slice(2);function Wo(e){if(!e[wr]){e[wr]=!0,qf.forEach(function(n){n!=="selectionchange"&&(Gg.has(n)||Ti(n,!1,e),Ti(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wr]||(t[wr]=!0,Ti("selectionchange",!1,t))}}function Fp(e,t,n,o){switch(Cp(t)){case 1:var r=eg;break;case 4:r=tg;break;default:r=Sa}n=r.bind(null,t,n,e),r=void 0,!al||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ei(e,t,n,o,r){var s=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;l=l.return}for(;u!==null;){if(l=un(u),l===null)return;if(d=l.tag,d===5||d===6){o=s=l;continue e}u=u.parentNode}}o=o.return}ip(function(){var f=s,p=va(n),m=[];e:{var h=Dp.get(e);if(h!==void 0){var g=Na,v=e;switch(e){case"keypress":if(qr(n)===0)break e;case"keydown":case"keyup":g=gg;break;case"focusin":v="focus",g=xi;break;case"focusout":v="blur",g=xi;break;case"beforeblur":case"afterblur":g=xi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=yg;break;case Rp:case Mp:case Pp:g=lg;break;case Lp:g=Sg;break;case"scroll":g=ng;break;case"wheel":g=Ng;break;case"copy":case"cut":case"paste":g=ug;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Bu}var w=(t&4)!==0,C=!w&&e==="scroll",y=w?h!==null?h+"Capture":null:h;w=[];for(var x=f,S;x!==null;){S=x;var N=S.stateNode;if(S.tag===5&&N!==null&&(S=N,y!==null&&(N=Ho(x,y),N!=null&&w.push(Jo(x,N,S)))),C)break;x=x.return}0<w.length&&(h=new g(h,v,null,n,p),m.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==il&&(v=n.relatedTarget||n.fromElement)&&(un(v)||v[wt]))break e;if((g||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=f,v=v?un(v):null,v!==null&&(C=Cn(v),v!==C||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=f),g!==v)){if(w=Gu,N="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(w=Bu,N="onPointerLeave",y="onPointerEnter",x="pointer"),C=g==null?h:Mn(g),S=v==null?h:Mn(v),h=new w(N,x+"leave",g,n,p),h.target=C,h.relatedTarget=S,N=null,un(p)===f&&(w=new w(y,x+"enter",v,n,p),w.target=S,w.relatedTarget=C,N=w),C=N,g&&v)t:{for(w=g,y=v,x=0,S=w;S;S=En(S))x++;for(S=0,N=y;N;N=En(N))S++;for(;0<x-S;)w=En(w),x--;for(;0<S-x;)y=En(y),S--;for(;x--;){if(w===y||y!==null&&w===y.alternate)break t;w=En(w),y=En(y)}w=null}else w=null;g!==null&&Zu(m,h,g,w,!1),v!==null&&C!==null&&Zu(m,C,v,w,!0)}}e:{if(h=f?Mn(f):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var E=bg;else if(Ou(h))if(_p)E=Lg;else{E=Mg;var T=Rg}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=Pg);if(E&&(E=E(e,f))){Ep(m,E,n,p);break e}T&&T(e,h,f),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&tl(h,"number",h.value)}switch(T=f?Mn(f):window,e){case"focusin":(Ou(T)||T.contentEditable==="true")&&(bn=T,pl=f,Mo=null);break;case"focusout":Mo=pl=bn=null;break;case"mousedown":ml=!0;break;case"contextmenu":case"mouseup":case"dragend":ml=!1,Yu(m,n,p);break;case"selectionchange":if(Fg)break;case"keydown":case"keyup":Yu(m,n,p)}var I;if(Ea)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else An?Np(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(wp&&n.locale!=="ko"&&(An||k!=="onCompositionStart"?k==="onCompositionEnd"&&An&&(I=Sp()):(Dt=p,wa="value"in Dt?Dt.value:Dt.textContent,An=!0)),T=as(f,k),0<T.length&&(k=new Hu(k,e,null,n,p),m.push({event:k,listeners:T}),I?k.data=I:(I=Tp(n),I!==null&&(k.data=I)))),(I=Eg?_g(e,n):Ig(e,n))&&(f=as(f,"onBeforeInput"),0<f.length&&(p=new Hu("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:f}),p.data=I))}jp(m,t)})}function Jo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function as(e,t){for(var n=t+"Capture",o=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Ho(e,n),s!=null&&o.unshift(Jo(e,s,r)),s=Ho(e,t),s!=null&&o.push(Jo(e,s,r))),e=e.return}return o}function En(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zu(e,t,n,o,r){for(var s=t._reactName,l=[];n!==null&&n!==o;){var u=n,d=u.alternate,f=u.stateNode;if(d!==null&&d===o)break;u.tag===5&&f!==null&&(u=f,r?(d=Ho(n,s),d!=null&&l.unshift(Jo(n,d,u))):r||(d=Ho(n,s),d!=null&&l.push(Jo(n,d,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Hg=/\r\n?/g,Bg=/\u0000|\uFFFD/g;function ec(e){return(typeof e=="string"?e:""+e).replace(Hg,`
`).replace(Bg,"")}function Nr(e,t,n){if(t=ec(t),ec(e)!==t&&n)throw Error(R(425))}function us(){}var hl=null,gl=null;function vl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xl=typeof setTimeout=="function"?setTimeout:void 0,zg=typeof clearTimeout=="function"?clearTimeout:void 0,tc=typeof Promise=="function"?Promise:void 0,qg=typeof queueMicrotask=="function"?queueMicrotask:typeof tc<"u"?function(e){return tc.resolve(null).then(e).catch(Og)}:xl;function Og(e){setTimeout(function(){throw e})}function _i(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){e.removeChild(r),qo(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);qo(t)}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var so=Math.random().toString(36).slice(2),ft="__reactFiber$"+so,Ko="__reactProps$"+so,wt="__reactContainer$"+so,yl="__reactEvents$"+so,$g="__reactListeners$"+so,Wg="__reactHandles$"+so;function un(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wt]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nc(e);e!==null;){if(n=e[ft])return n;e=nc(e)}return t}e=n,n=e.parentNode}return null}function ur(e){return e=e[ft]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Vs(e){return e[Ko]||null}var Cl=[],Pn=-1;function Xt(e){return{current:e}}function te(e){0>Pn||(e.current=Cl[Pn],Cl[Pn]=null,Pn--)}function Z(e,t){Pn++,Cl[Pn]=e.current,e.current=t}var Kt={},_e=Xt(Kt),De=Xt(!1),mn=Kt;function Yn(e,t){var n=e.type.contextTypes;if(!n)return Kt;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=t[s];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function je(e){return e=e.childContextTypes,e!=null}function cs(){te(De),te(_e)}function oc(e,t,n){if(_e.current!==Kt)throw Error(R(168));Z(_e,t),Z(De,n)}function Up(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in t))throw Error(R(108,R0(e)||"Unknown",r));return ie({},n,o)}function ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kt,mn=_e.current,Z(_e,e),Z(De,De.current),!0}function rc(e,t,n){var o=e.stateNode;if(!o)throw Error(R(169));n?(e=Up(e,t,mn),o.__reactInternalMemoizedMergedChildContext=e,te(De),te(_e),Z(_e,e)):te(De),Z(De,n)}var vt=null,Gs=!1,Ii=!1;function Vp(e){vt===null?vt=[e]:vt.push(e)}function Jg(e){Gs=!0,Vp(e)}function Zt(){if(!Ii&&vt!==null){Ii=!0;var e=0,t=Q;try{var n=vt;for(Q=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}vt=null,Gs=!1}catch(r){throw vt!==null&&(vt=vt.slice(e+1)),cp(xa,Zt),r}finally{Q=t,Ii=!1}}return null}var Ln=[],Dn=0,fs=null,ps=0,qe=[],Oe=0,hn=null,xt=1,yt="";function sn(e,t){Ln[Dn++]=ps,Ln[Dn++]=fs,fs=e,ps=t}function Gp(e,t,n){qe[Oe++]=xt,qe[Oe++]=yt,qe[Oe++]=hn,hn=e;var o=xt;e=yt;var r=32-rt(o)-1;o&=~(1<<r),n+=1;var s=32-rt(t)+r;if(30<s){var l=r-r%5;s=(o&(1<<l)-1).toString(32),o>>=l,r-=l,xt=1<<32-rt(t)+r|n<<r|o,yt=s+e}else xt=1<<s|n<<r|o,yt=e}function Ia(e){e.return!==null&&(sn(e,1),Gp(e,1,0))}function ka(e){for(;e===fs;)fs=Ln[--Dn],Ln[Dn]=null,ps=Ln[--Dn],Ln[Dn]=null;for(;e===hn;)hn=qe[--Oe],qe[Oe]=null,yt=qe[--Oe],qe[Oe]=null,xt=qe[--Oe],qe[Oe]=null}var Ge=null,Ve=null,ne=!1,ot=null;function Hp(e,t){var n=$e(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ge=e,Ve=Bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ge=e,Ve=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hn!==null?{id:xt,overflow:yt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$e(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ge=e,Ve=null,!0):!1;default:return!1}}function Sl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wl(e){if(ne){var t=Ve;if(t){var n=t;if(!sc(e,t)){if(Sl(e))throw Error(R(418));t=Bt(n.nextSibling);var o=Ge;t&&sc(e,t)?Hp(o,n):(e.flags=e.flags&-4097|2,ne=!1,Ge=e)}}else{if(Sl(e))throw Error(R(418));e.flags=e.flags&-4097|2,ne=!1,Ge=e}}}function ic(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ge=e}function Tr(e){if(e!==Ge)return!1;if(!ne)return ic(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vl(e.type,e.memoizedProps)),t&&(t=Ve)){if(Sl(e))throw Bp(),Error(R(418));for(;t;)Hp(e,t),t=Bt(t.nextSibling)}if(ic(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ve=Bt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ve=null}}else Ve=Ge?Bt(e.stateNode.nextSibling):null;return!0}function Bp(){for(var e=Ve;e;)e=Bt(e.nextSibling)}function Qn(){Ve=Ge=null,ne=!1}function Aa(e){ot===null?ot=[e]:ot.push(e)}var Kg=_t.ReactCurrentBatchConfig;function vo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var o=n.stateNode}if(!o)throw Error(R(147,e));var r=o,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var u=r.refs;l===null?delete u[s]:u[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Er(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lc(e){var t=e._init;return t(e._payload)}function zp(e){function t(y,x){if(e){var S=y.deletions;S===null?(y.deletions=[x],y.flags|=16):S.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function o(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function r(y,x){return y=$t(y,x),y.index=0,y.sibling=null,y}function s(y,x,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<x?(y.flags|=2,x):S):(y.flags|=2,x)):(y.flags|=1048576,x)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function u(y,x,S,N){return x===null||x.tag!==6?(x=Li(S,y.mode,N),x.return=y,x):(x=r(x,S),x.return=y,x)}function d(y,x,S,N){var E=S.type;return E===kn?p(y,x,S.props.children,N,S.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rt&&lc(E)===x.type)?(N=r(x,S.props),N.ref=vo(y,x,S),N.return=y,N):(N=Qr(S.type,S.key,S.props,null,y.mode,N),N.ref=vo(y,x,S),N.return=y,N)}function f(y,x,S,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=Di(S,y.mode,N),x.return=y,x):(x=r(x,S.children||[]),x.return=y,x)}function p(y,x,S,N,E){return x===null||x.tag!==7?(x=pn(S,y.mode,N,E),x.return=y,x):(x=r(x,S),x.return=y,x)}function m(y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Li(""+x,y.mode,S),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mr:return S=Qr(x.type,x.key,x.props,null,y.mode,S),S.ref=vo(y,null,x),S.return=y,S;case In:return x=Di(x,y.mode,S),x.return=y,x;case Rt:var N=x._init;return m(y,N(x._payload),S)}if(To(x)||fo(x))return x=pn(x,y.mode,S,null),x.return=y,x;Er(y,x)}return null}function h(y,x,S,N){var E=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:u(y,x,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case mr:return S.key===E?d(y,x,S,N):null;case In:return S.key===E?f(y,x,S,N):null;case Rt:return E=S._init,h(y,x,E(S._payload),N)}if(To(S)||fo(S))return E!==null?null:p(y,x,S,N,null);Er(y,S)}return null}function g(y,x,S,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(S)||null,u(x,y,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case mr:return y=y.get(N.key===null?S:N.key)||null,d(x,y,N,E);case In:return y=y.get(N.key===null?S:N.key)||null,f(x,y,N,E);case Rt:var T=N._init;return g(y,x,S,T(N._payload),E)}if(To(N)||fo(N))return y=y.get(S)||null,p(x,y,N,E,null);Er(x,N)}return null}function v(y,x,S,N){for(var E=null,T=null,I=x,k=x=0,b=null;I!==null&&k<S.length;k++){I.index>k?(b=I,I=null):b=I.sibling;var A=h(y,I,S[k],N);if(A===null){I===null&&(I=b);break}e&&I&&A.alternate===null&&t(y,I),x=s(A,x,k),T===null?E=A:T.sibling=A,T=A,I=b}if(k===S.length)return n(y,I),ne&&sn(y,k),E;if(I===null){for(;k<S.length;k++)I=m(y,S[k],N),I!==null&&(x=s(I,x,k),T===null?E=I:T.sibling=I,T=I);return ne&&sn(y,k),E}for(I=o(y,I);k<S.length;k++)b=g(I,y,k,S[k],N),b!==null&&(e&&b.alternate!==null&&I.delete(b.key===null?k:b.key),x=s(b,x,k),T===null?E=b:T.sibling=b,T=b);return e&&I.forEach(function(D){return t(y,D)}),ne&&sn(y,k),E}function w(y,x,S,N){var E=fo(S);if(typeof E!="function")throw Error(R(150));if(S=E.call(S),S==null)throw Error(R(151));for(var T=E=null,I=x,k=x=0,b=null,A=S.next();I!==null&&!A.done;k++,A=S.next()){I.index>k?(b=I,I=null):b=I.sibling;var D=h(y,I,A.value,N);if(D===null){I===null&&(I=b);break}e&&I&&D.alternate===null&&t(y,I),x=s(D,x,k),T===null?E=D:T.sibling=D,T=D,I=b}if(A.done)return n(y,I),ne&&sn(y,k),E;if(I===null){for(;!A.done;k++,A=S.next())A=m(y,A.value,N),A!==null&&(x=s(A,x,k),T===null?E=A:T.sibling=A,T=A);return ne&&sn(y,k),E}for(I=o(y,I);!A.done;k++,A=S.next())A=g(I,y,k,A.value,N),A!==null&&(e&&A.alternate!==null&&I.delete(A.key===null?k:A.key),x=s(A,x,k),T===null?E=A:T.sibling=A,T=A);return e&&I.forEach(function(F){return t(y,F)}),ne&&sn(y,k),E}function C(y,x,S,N){if(typeof S=="object"&&S!==null&&S.type===kn&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case mr:e:{for(var E=S.key,T=x;T!==null;){if(T.key===E){if(E=S.type,E===kn){if(T.tag===7){n(y,T.sibling),x=r(T,S.props.children),x.return=y,y=x;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rt&&lc(E)===T.type){n(y,T.sibling),x=r(T,S.props),x.ref=vo(y,T,S),x.return=y,y=x;break e}n(y,T);break}else t(y,T);T=T.sibling}S.type===kn?(x=pn(S.props.children,y.mode,N,S.key),x.return=y,y=x):(N=Qr(S.type,S.key,S.props,null,y.mode,N),N.ref=vo(y,x,S),N.return=y,y=N)}return l(y);case In:e:{for(T=S.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(y,x.sibling),x=r(x,S.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=Di(S,y.mode,N),x.return=y,y=x}return l(y);case Rt:return T=S._init,C(y,x,T(S._payload),N)}if(To(S))return v(y,x,S,N);if(fo(S))return w(y,x,S,N);Er(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(y,x.sibling),x=r(x,S),x.return=y,y=x):(n(y,x),x=Li(S,y.mode,N),x.return=y,y=x),l(y)):n(y,x)}return C}var Xn=zp(!0),qp=zp(!1),ms=Xt(null),hs=null,jn=null,ba=null;function Ra(){ba=jn=hs=null}function Ma(e){var t=ms.current;te(ms),e._currentValue=t}function Nl(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function On(e,t){hs=e,ba=jn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},jn===null){if(hs===null)throw Error(R(308));jn=e,hs.dependencies={lanes:0,firstContext:e}}else jn=jn.next=e;return t}var cn=null;function Pa(e){cn===null?cn=[e]:cn.push(e)}function Op(e,t,n,o){var r=t.interleaved;return r===null?(n.next=n,Pa(t)):(n.next=r.next,r.next=n),t.interleaved=n,Nt(e,o)}function Nt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mt=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $p(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ct(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zt(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var r=o.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),o.pending=t,Nt(e,n)}return r=o.interleaved,r===null?(t.next=t,Pa(o)):(t.next=r.next,r.next=t),o.interleaved=t,Nt(e,n)}function Or(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,ya(e,n)}}function ac(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gs(e,t,n,o){var r=e.updateQueue;Mt=!1;var s=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var d=u,f=d.next;d.next=null,l===null?s=f:l.next=f,l=d;var p=e.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==l&&(u===null?p.firstBaseUpdate=f:u.next=f,p.lastBaseUpdate=d))}if(s!==null){var m=r.baseState;l=0,p=f=d=null,u=s;do{var h=u.lane,g=u.eventTime;if((o&h)===h){p!==null&&(p=p.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,w=u;switch(h=t,g=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){m=v.call(g,m,h);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(g,m,h):v,h==null)break e;m=ie({},m,h);break e;case 2:Mt=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,h=r.effects,h===null?r.effects=[u]:h.push(u))}else g={eventTime:g,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(f=p=g,d=m):p=p.next=g,l|=h;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;h=u,u=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(p===null&&(d=m),r.baseState=d,r.firstBaseUpdate=f,r.lastBaseUpdate=p,t=r.shared.interleaved,t!==null){r=t;do l|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);vn|=l,e.lanes=l,e.memoizedState=m}}function uc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(R(191,r));r.call(o)}}}var cr={},mt=Xt(cr),Yo=Xt(cr),Qo=Xt(cr);function dn(e){if(e===cr)throw Error(R(174));return e}function Da(e,t){switch(Z(Qo,t),Z(Yo,e),Z(mt,cr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ol(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ol(t,e)}te(mt),Z(mt,t)}function Zn(){te(mt),te(Yo),te(Qo)}function Wp(e){dn(Qo.current);var t=dn(mt.current),n=ol(t,e.type);t!==n&&(Z(Yo,e),Z(mt,n))}function ja(e){Yo.current===e&&(te(mt),te(Yo))}var oe=Xt(0);function vs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ki=[];function Fa(){for(var e=0;e<ki.length;e++)ki[e]._workInProgressVersionPrimary=null;ki.length=0}var $r=_t.ReactCurrentDispatcher,Ai=_t.ReactCurrentBatchConfig,gn=0,re=null,fe=null,he=null,xs=!1,Po=!1,Xo=0,Yg=0;function we(){throw Error(R(321))}function Ua(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!at(e[n],t[n]))return!1;return!0}function Va(e,t,n,o,r,s){if(gn=s,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$r.current=e===null||e.memoizedState===null?ev:tv,e=n(o,r),Po){s=0;do{if(Po=!1,Xo=0,25<=s)throw Error(R(301));s+=1,he=fe=null,t.updateQueue=null,$r.current=nv,e=n(o,r)}while(Po)}if($r.current=ys,t=fe!==null&&fe.next!==null,gn=0,he=fe=re=null,xs=!1,t)throw Error(R(300));return e}function Ga(){var e=Xo!==0;return Xo=0,e}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?re.memoizedState=he=e:he=he.next=e,he}function Ye(){if(fe===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=he===null?re.memoizedState:he.next;if(t!==null)he=t,fe=e;else{if(e===null)throw Error(R(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},he===null?re.memoizedState=he=e:he=he.next=e}return he}function Zo(e,t){return typeof t=="function"?t(e):t}function bi(e){var t=Ye(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var o=fe,r=o.baseQueue,s=n.pending;if(s!==null){if(r!==null){var l=r.next;r.next=s.next,s.next=l}o.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,o=o.baseState;var u=l=null,d=null,f=s;do{var p=f.lane;if((gn&p)===p)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),o=f.hasEagerState?f.eagerState:e(o,f.action);else{var m={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(u=d=m,l=o):d=d.next=m,re.lanes|=p,vn|=p}f=f.next}while(f!==null&&f!==s);d===null?l=o:d.next=u,at(o,t.memoizedState)||(Le=!0),t.memoizedState=o,t.baseState=l,t.baseQueue=d,n.lastRenderedState=o}if(e=n.interleaved,e!==null){r=e;do s=r.lane,re.lanes|=s,vn|=s,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ri(e){var t=Ye(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do s=e(s,l.action),l=l.next;while(l!==r);at(s,t.memoizedState)||(Le=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,o]}function Jp(){}function Kp(e,t){var n=re,o=Ye(),r=t(),s=!at(o.memoizedState,r);if(s&&(o.memoizedState=r,Le=!0),o=o.queue,Ha(Xp.bind(null,n,o,e),[e]),o.getSnapshot!==t||s||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,er(9,Qp.bind(null,n,o,r,t),void 0,null),ge===null)throw Error(R(349));gn&30||Yp(n,t,r)}return r}function Yp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qp(e,t,n,o){t.value=n,t.getSnapshot=o,Zp(t)&&em(e)}function Xp(e,t,n){return n(function(){Zp(t)&&em(e)})}function Zp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!at(e,n)}catch{return!0}}function em(e){var t=Nt(e,1);t!==null&&st(t,e,1,-1)}function cc(e){var t=dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e},t.queue=e,e=e.dispatch=Zg.bind(null,re,e),[t.memoizedState,e]}function er(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function tm(){return Ye().memoizedState}function Wr(e,t,n,o){var r=dt();re.flags|=e,r.memoizedState=er(1|t,n,void 0,o===void 0?null:o)}function Hs(e,t,n,o){var r=Ye();o=o===void 0?null:o;var s=void 0;if(fe!==null){var l=fe.memoizedState;if(s=l.destroy,o!==null&&Ua(o,l.deps)){r.memoizedState=er(t,n,s,o);return}}re.flags|=e,r.memoizedState=er(1|t,n,s,o)}function dc(e,t){return Wr(8390656,8,e,t)}function Ha(e,t){return Hs(2048,8,e,t)}function nm(e,t){return Hs(4,2,e,t)}function om(e,t){return Hs(4,4,e,t)}function rm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sm(e,t,n){return n=n!=null?n.concat([e]):null,Hs(4,4,rm.bind(null,t,e),n)}function Ba(){}function im(e,t){var n=Ye();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Ua(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function lm(e,t){var n=Ye();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Ua(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function am(e,t,n){return gn&21?(at(n,t)||(n=pp(),re.lanes|=n,vn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=n)}function Qg(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var o=Ai.transition;Ai.transition={};try{e(!1),t()}finally{Q=n,Ai.transition=o}}function um(){return Ye().memoizedState}function Xg(e,t,n){var o=Ot(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},cm(e))dm(t,n);else if(n=Op(e,t,n,o),n!==null){var r=Ae();st(n,e,o,r),fm(n,t,o)}}function Zg(e,t,n){var o=Ot(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(cm(e))dm(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,u=s(l,n);if(r.hasEagerState=!0,r.eagerState=u,at(u,l)){var d=t.interleaved;d===null?(r.next=r,Pa(t)):(r.next=d.next,d.next=r),t.interleaved=r;return}}catch{}finally{}n=Op(e,t,r,o),n!==null&&(r=Ae(),st(n,e,o,r),fm(n,t,o))}}function cm(e){var t=e.alternate;return e===re||t!==null&&t===re}function dm(e,t){Po=xs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fm(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,ya(e,n)}}var ys={readContext:Ke,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},ev={readContext:Ke,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:dc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wr(4194308,4,rm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wr(4,2,e,t)},useMemo:function(e,t){var n=dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=dt();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Xg.bind(null,re,e),[o.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:cc,useDebugValue:Ba,useDeferredValue:function(e){return dt().memoizedState=e},useTransition:function(){var e=cc(!1),t=e[0];return e=Qg.bind(null,e[1]),dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=re,r=dt();if(ne){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),ge===null)throw Error(R(349));gn&30||Yp(o,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,dc(Xp.bind(null,o,s,e),[e]),o.flags|=2048,er(9,Qp.bind(null,o,s,n,t),void 0,null),n},useId:function(){var e=dt(),t=ge.identifierPrefix;if(ne){var n=yt,o=xt;n=(o&~(1<<32-rt(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tv={readContext:Ke,useCallback:im,useContext:Ke,useEffect:Ha,useImperativeHandle:sm,useInsertionEffect:nm,useLayoutEffect:om,useMemo:lm,useReducer:bi,useRef:tm,useState:function(){return bi(Zo)},useDebugValue:Ba,useDeferredValue:function(e){var t=Ye();return am(t,fe.memoizedState,e)},useTransition:function(){var e=bi(Zo)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Jp,useSyncExternalStore:Kp,useId:um,unstable_isNewReconciler:!1},nv={readContext:Ke,useCallback:im,useContext:Ke,useEffect:Ha,useImperativeHandle:sm,useInsertionEffect:nm,useLayoutEffect:om,useMemo:lm,useReducer:Ri,useRef:tm,useState:function(){return Ri(Zo)},useDebugValue:Ba,useDeferredValue:function(e){var t=Ye();return fe===null?t.memoizedState=e:am(t,fe.memoizedState,e)},useTransition:function(){var e=Ri(Zo)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Jp,useSyncExternalStore:Kp,useId:um,unstable_isNewReconciler:!1};function tt(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tl(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return(e=e._reactInternals)?Cn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Ae(),r=Ot(e),s=Ct(o,r);s.payload=t,n!=null&&(s.callback=n),t=zt(e,s,r),t!==null&&(st(t,e,r,o),Or(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Ae(),r=Ot(e),s=Ct(o,r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=zt(e,s,r),t!==null&&(st(t,e,r,o),Or(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ae(),o=Ot(e),r=Ct(n,o);r.tag=2,t!=null&&(r.callback=t),t=zt(e,r,o),t!==null&&(st(t,e,o,n),Or(t,e,o))}};function fc(e,t,n,o,r,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,s,l):t.prototype&&t.prototype.isPureReactComponent?!$o(n,o)||!$o(r,s):!0}function pm(e,t,n){var o=!1,r=Kt,s=t.contextType;return typeof s=="object"&&s!==null?s=Ke(s):(r=je(t)?mn:_e.current,o=t.contextTypes,s=(o=o!=null)?Yn(e,r):Kt),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function pc(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function El(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},La(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=Ke(s):(s=je(t)?mn:_e.current,r.context=Yn(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Tl(e,t,s,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Bs.enqueueReplaceState(r,r.state,null),gs(e,n,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function eo(e,t){try{var n="",o=t;do n+=b0(o),o=o.return;while(o);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function Mi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _l(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ov=typeof WeakMap=="function"?WeakMap:Map;function mm(e,t,n){n=Ct(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Ss||(Ss=!0,jl=o),_l(e,t)},n}function hm(e,t,n){n=Ct(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){_l(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){_l(e,t),typeof o!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function mc(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new ov;var r=new Set;o.set(t,r)}else r=o.get(t),r===void 0&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=vv.bind(null,e,t,n),t.then(e,e))}function hc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gc(e,t,n,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ct(-1,1),t.tag=2,zt(n,t,1))),n.lanes|=1),e)}var rv=_t.ReactCurrentOwner,Le=!1;function ke(e,t,n,o){t.child=e===null?qp(t,null,n,o):Xn(t,e.child,n,o)}function vc(e,t,n,o,r){n=n.render;var s=t.ref;return On(t,r),o=Va(e,t,n,o,s,r),n=Ga(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Tt(e,t,r)):(ne&&n&&Ia(t),t.flags|=1,ke(e,t,o,r),t.child)}function xc(e,t,n,o,r){if(e===null){var s=n.type;return typeof s=="function"&&!Ya(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,gm(e,t,s,o,r)):(e=Qr(n.type,null,o,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:$o,n(l,o)&&e.ref===t.ref)return Tt(e,t,r)}return t.flags|=1,e=$t(s,o),e.ref=t.ref,e.return=t,t.child=e}function gm(e,t,n,o,r){if(e!==null){var s=e.memoizedProps;if($o(s,o)&&e.ref===t.ref)if(Le=!1,t.pendingProps=o=s,(e.lanes&r)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,Tt(e,t,r)}return Il(e,t,n,o,r)}function vm(e,t,n){var o=t.pendingProps,r=o.children,s=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Un,Ue),Ue|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(Un,Ue),Ue|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=s!==null?s.baseLanes:n,Z(Un,Ue),Ue|=o}else s!==null?(o=s.baseLanes|n,t.memoizedState=null):o=n,Z(Un,Ue),Ue|=o;return ke(e,t,r,n),t.child}function xm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Il(e,t,n,o,r){var s=je(n)?mn:_e.current;return s=Yn(t,s),On(t,r),n=Va(e,t,n,o,s,r),o=Ga(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Tt(e,t,r)):(ne&&o&&Ia(t),t.flags|=1,ke(e,t,n,r),t.child)}function yc(e,t,n,o,r){if(je(n)){var s=!0;ds(t)}else s=!1;if(On(t,r),t.stateNode===null)Jr(e,t),pm(t,n,o),El(t,n,o,r),o=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var d=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=Ke(f):(f=je(n)?mn:_e.current,f=Yn(t,f));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||d!==f)&&pc(t,l,o,f),Mt=!1;var h=t.memoizedState;l.state=h,gs(t,o,l,r),d=t.memoizedState,u!==o||h!==d||De.current||Mt?(typeof p=="function"&&(Tl(t,n,p,o),d=t.memoizedState),(u=Mt||fc(t,n,u,o,h,d,f))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=d),l.props=o,l.state=d,l.context=f,o=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{l=t.stateNode,$p(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:tt(t.type,u),l.props=f,m=t.pendingProps,h=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=Ke(d):(d=je(n)?mn:_e.current,d=Yn(t,d));var g=n.getDerivedStateFromProps;(p=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||h!==d)&&pc(t,l,o,d),Mt=!1,h=t.memoizedState,l.state=h,gs(t,o,l,r);var v=t.memoizedState;u!==m||h!==v||De.current||Mt?(typeof g=="function"&&(Tl(t,n,g,o),v=t.memoizedState),(f=Mt||fc(t,n,f,o,h,v,d)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,v,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,v,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=v),l.props=o,l.state=v,l.context=d,o=f):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),o=!1)}return kl(e,t,n,o,s,r)}function kl(e,t,n,o,r,s){xm(e,t);var l=(t.flags&128)!==0;if(!o&&!l)return r&&rc(t,n,!1),Tt(e,t,s);o=t.stateNode,rv.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&l?(t.child=Xn(t,e.child,null,s),t.child=Xn(t,null,u,s)):ke(e,t,u,s),t.memoizedState=o.state,r&&rc(t,n,!0),t.child}function ym(e){var t=e.stateNode;t.pendingContext?oc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&oc(e,t.context,!1),Da(e,t.containerInfo)}function Cc(e,t,n,o,r){return Qn(),Aa(r),t.flags|=256,ke(e,t,n,o),t.child}var Al={dehydrated:null,treeContext:null,retryLane:0};function bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cm(e,t,n){var o=t.pendingProps,r=oe.current,s=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(r&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Z(oe,r&1),e===null)return wl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},!(o&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Os(l,o,0,null),e=pn(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=bl(n),t.memoizedState=Al,e):za(t,l));if(r=e.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return sv(e,t,l,o,u,r,n);if(s){s=o.fallback,l=t.mode,r=e.child,u=r.sibling;var d={mode:"hidden",children:o.children};return!(l&1)&&t.child!==r?(o=t.child,o.childLanes=0,o.pendingProps=d,t.deletions=null):(o=$t(r,d),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?s=$t(u,s):(s=pn(s,l,n,null),s.flags|=2),s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=e.child.memoizedState,l=l===null?bl(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Al,o}return s=e.child,e=s.sibling,o=$t(s,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function za(e,t){return t=Os({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _r(e,t,n,o){return o!==null&&Aa(o),Xn(t,e.child,null,n),e=za(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sv(e,t,n,o,r,s,l){if(n)return t.flags&256?(t.flags&=-257,o=Mi(Error(R(422))),_r(e,t,l,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=o.fallback,r=t.mode,o=Os({mode:"visible",children:o.children},r,0,null),s=pn(s,r,l,null),s.flags|=2,o.return=t,s.return=t,o.sibling=s,t.child=o,t.mode&1&&Xn(t,e.child,null,l),t.child.memoizedState=bl(l),t.memoizedState=Al,s);if(!(t.mode&1))return _r(e,t,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,s=Error(R(419)),o=Mi(s,o,void 0),_r(e,t,l,o)}if(u=(l&e.childLanes)!==0,Le||u){if(o=ge,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Nt(e,r),st(o,e,r,-1))}return Ka(),o=Mi(Error(R(421))),_r(e,t,l,o)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=xv.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,Ve=Bt(r.nextSibling),Ge=t,ne=!0,ot=null,e!==null&&(qe[Oe++]=xt,qe[Oe++]=yt,qe[Oe++]=hn,xt=e.id,yt=e.overflow,hn=t),t=za(t,o.children),t.flags|=4096,t)}function Sc(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Nl(e.return,t,n)}function Pi(e,t,n,o,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=o,s.tail=n,s.tailMode=r)}function Sm(e,t,n){var o=t.pendingProps,r=o.revealOrder,s=o.tail;if(ke(e,t,o.children,n),o=oe.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sc(e,n,t);else if(e.tag===19)Sc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Z(oe,o),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&vs(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Pi(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&vs(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Pi(t,!0,n,null,s);break;case"together":Pi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=$t(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$t(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function iv(e,t,n){switch(t.tag){case 3:ym(t),Qn();break;case 5:Wp(t);break;case 1:je(t.type)&&ds(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;Z(ms,o._currentValue),o._currentValue=r;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Z(oe,oe.current&1),t.flags|=128,null):n&t.child.childLanes?Cm(e,t,n):(Z(oe,oe.current&1),e=Tt(e,t,n),e!==null?e.sibling:null);Z(oe,oe.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return Sm(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Z(oe,oe.current),o)break;return null;case 22:case 23:return t.lanes=0,vm(e,t,n)}return Tt(e,t,n)}var wm,Rl,Nm,Tm;wm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rl=function(){};Nm=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,dn(mt.current);var s=null;switch(n){case"input":r=Zi(e,r),o=Zi(e,o),s=[];break;case"select":r=ie({},r,{value:void 0}),o=ie({},o,{value:void 0}),s=[];break;case"textarea":r=nl(e,r),o=nl(e,o),s=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=us)}rl(n,o);var l;n=null;for(f in r)if(!o.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var u=r[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Vo.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in o){var d=o[f];if(u=r!=null?r[f]:void 0,o.hasOwnProperty(f)&&d!==u&&(d!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(s||(s=[]),s.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(s=s||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(s=s||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Vo.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&ee("scroll",e),s||u===d||(s=[])):(s=s||[]).push(f,d))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}};Tm=function(e,t,n,o){n!==o&&(t.flags|=4)};function xo(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function lv(e,t,n){var o=t.pendingProps;switch(ka(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return je(t.type)&&cs(),Ne(t),null;case 3:return o=t.stateNode,Zn(),te(De),te(_e),Fa(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Tr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(Vl(ot),ot=null))),Rl(e,t),Ne(t),null;case 5:ja(t);var r=dn(Qo.current);if(n=t.type,e!==null&&t.stateNode!=null)Nm(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(R(166));return Ne(t),null}if(e=dn(mt.current),Tr(t)){o=t.stateNode,n=t.type;var s=t.memoizedProps;switch(o[ft]=t,o[Ko]=s,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",o),ee("close",o);break;case"iframe":case"object":case"embed":ee("load",o);break;case"video":case"audio":for(r=0;r<_o.length;r++)ee(_o[r],o);break;case"source":ee("error",o);break;case"img":case"image":case"link":ee("error",o),ee("load",o);break;case"details":ee("toggle",o);break;case"input":bu(o,s),ee("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!s.multiple},ee("invalid",o);break;case"textarea":Mu(o,s),ee("invalid",o)}rl(n,s),r=null;for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="children"?typeof u=="string"?o.textContent!==u&&(s.suppressHydrationWarning!==!0&&Nr(o.textContent,u,e),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Nr(o.textContent,u,e),r=["children",""+u]):Vo.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&ee("scroll",o)}switch(n){case"input":hr(o),Ru(o,s,!0);break;case"textarea":hr(o),Pu(o);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(o.onclick=us)}o=r,t.updateQueue=o,o!==null&&(t.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=l.createElement(n,{is:o.is}):(e=l.createElement(n),n==="select"&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,n),e[ft]=t,e[Ko]=o,wm(e,t,!1,!1),t.stateNode=e;e:{switch(l=sl(n,o),n){case"dialog":ee("cancel",e),ee("close",e),r=o;break;case"iframe":case"object":case"embed":ee("load",e),r=o;break;case"video":case"audio":for(r=0;r<_o.length;r++)ee(_o[r],e);r=o;break;case"source":ee("error",e),r=o;break;case"img":case"image":case"link":ee("error",e),ee("load",e),r=o;break;case"details":ee("toggle",e),r=o;break;case"input":bu(e,o),r=Zi(e,o),ee("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=ie({},o,{value:void 0}),ee("invalid",e);break;case"textarea":Mu(e,o),r=nl(e,o),ee("invalid",e);break;default:r=o}rl(n,r),u=r;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];s==="style"?tp(e,d):s==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Zf(e,d)):s==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Go(e,d):typeof d=="number"&&Go(e,""+d):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vo.hasOwnProperty(s)?d!=null&&s==="onScroll"&&ee("scroll",e):d!=null&&pa(e,s,d,l))}switch(n){case"input":hr(e),Ru(e,o,!1);break;case"textarea":hr(e),Pu(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Jt(o.value));break;case"select":e.multiple=!!o.multiple,s=o.value,s!=null?Hn(e,!!o.multiple,s,!1):o.defaultValue!=null&&Hn(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=us)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)Tm(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(R(166));if(n=dn(Qo.current),dn(mt.current),Tr(t)){if(o=t.stateNode,n=t.memoizedProps,o[ft]=t,(s=o.nodeValue!==n)&&(e=Ge,e!==null))switch(e.tag){case 3:Nr(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Nr(o.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[ft]=t,t.stateNode=o}return Ne(t),null;case 13:if(te(oe),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&Ve!==null&&t.mode&1&&!(t.flags&128))Bp(),Qn(),t.flags|=98560,s=!1;else if(s=Tr(t),o!==null&&o.dehydrated!==null){if(e===null){if(!s)throw Error(R(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[ft]=t}else Qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),s=!1}else ot!==null&&(Vl(ot),ot=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?pe===0&&(pe=3):Ka())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return Zn(),Rl(e,t),e===null&&Wo(t.stateNode.containerInfo),Ne(t),null;case 10:return Ma(t.type._context),Ne(t),null;case 17:return je(t.type)&&cs(),Ne(t),null;case 19:if(te(oe),s=t.memoizedState,s===null)return Ne(t),null;if(o=(t.flags&128)!==0,l=s.rendering,l===null)if(o)xo(s,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=vs(e),l!==null){for(t.flags|=128,xo(s,!1),o=l.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)s=n,e=o,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(oe,oe.current&1|2),t.child}e=e.sibling}s.tail!==null&&ue()>to&&(t.flags|=128,o=!0,xo(s,!1),t.lanes=4194304)}else{if(!o)if(e=vs(l),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!ne)return Ne(t),null}else 2*ue()-s.renderingStartTime>to&&n!==1073741824&&(t.flags|=128,o=!0,xo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ue(),t.sibling=null,n=oe.current,Z(oe,o?n&1|2:n&1),t):(Ne(t),null);case 22:case 23:return Ja(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Ue&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function av(e,t){switch(ka(t),t.tag){case 1:return je(t.type)&&cs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zn(),te(De),te(_e),Fa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ja(t),null;case 13:if(te(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(oe),null;case 4:return Zn(),null;case 10:return Ma(t.type._context),null;case 22:case 23:return Ja(),null;case 24:return null;default:return null}}var Ir=!1,Te=!1,uv=typeof WeakSet=="function"?WeakSet:Set,j=null;function Fn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){le(e,t,o)}else n.current=null}function Ml(e,t,n){try{n()}catch(o){le(e,t,o)}}var wc=!1;function cv(e,t){if(hl=is,e=Ap(),_a(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,s=o.focusNode;o=o.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,f=0,p=0,m=e,h=null;t:for(;;){for(var g;m!==n||r!==0&&m.nodeType!==3||(u=l+r),m!==s||o!==0&&m.nodeType!==3||(d=l+o),m.nodeType===3&&(l+=m.nodeValue.length),(g=m.firstChild)!==null;)h=m,m=g;for(;;){if(m===e)break t;if(h===n&&++f===r&&(u=l),h===s&&++p===o&&(d=l),(g=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=g}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(gl={focusedElem:e,selectionRange:n},is=!1,j=t;j!==null;)if(t=j,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,j=e;else for(;j!==null;){t=j;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,C=v.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?w:tt(t.type,w),C);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(N){le(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}return v=wc,wc=!1,v}function Lo(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&Ml(t,n,s)}r=r.next}while(r!==o)}}function zs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function Pl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Em(e){var t=e.alternate;t!==null&&(e.alternate=null,Em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ft],delete t[Ko],delete t[yl],delete t[$g],delete t[Wg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _m(e){return e.tag===5||e.tag===3||e.tag===4}function Nc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_m(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ll(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=us));else if(o!==4&&(e=e.child,e!==null))for(Ll(e,t,n),e=e.sibling;e!==null;)Ll(e,t,n),e=e.sibling}function Dl(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Dl(e,t,n),e=e.sibling;e!==null;)Dl(e,t,n),e=e.sibling}var ye=null,nt=!1;function bt(e,t,n){for(n=n.child;n!==null;)Im(e,t,n),n=n.sibling}function Im(e,t,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Ds,n)}catch{}switch(n.tag){case 5:Te||Fn(n,t);case 6:var o=ye,r=nt;ye=null,bt(e,t,n),ye=o,nt=r,ye!==null&&(nt?(e=ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ye.removeChild(n.stateNode));break;case 18:ye!==null&&(nt?(e=ye,n=n.stateNode,e.nodeType===8?_i(e.parentNode,n):e.nodeType===1&&_i(e,n),qo(e)):_i(ye,n.stateNode));break;case 4:o=ye,r=nt,ye=n.stateNode.containerInfo,nt=!0,bt(e,t,n),ye=o,nt=r;break;case 0:case 11:case 14:case 15:if(!Te&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var s=r,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Ml(n,t,l),r=r.next}while(r!==o)}bt(e,t,n);break;case 1:if(!Te&&(Fn(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){le(n,t,u)}bt(e,t,n);break;case 21:bt(e,t,n);break;case 22:n.mode&1?(Te=(o=Te)||n.memoizedState!==null,bt(e,t,n),Te=o):bt(e,t,n);break;default:bt(e,t,n)}}function Tc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uv),t.forEach(function(o){var r=yv.bind(null,e,o);n.has(o)||(n.add(o),o.then(r,r))})}}function et(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var s=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:ye=u.stateNode,nt=!1;break e;case 3:ye=u.stateNode.containerInfo,nt=!0;break e;case 4:ye=u.stateNode.containerInfo,nt=!0;break e}u=u.return}if(ye===null)throw Error(R(160));Im(s,l,r),ye=null,nt=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(f){le(r,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)km(t,e),t=t.sibling}function km(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(et(t,e),ct(e),o&4){try{Lo(3,e,e.return),zs(3,e)}catch(w){le(e,e.return,w)}try{Lo(5,e,e.return)}catch(w){le(e,e.return,w)}}break;case 1:et(t,e),ct(e),o&512&&n!==null&&Fn(n,n.return);break;case 5:if(et(t,e),ct(e),o&512&&n!==null&&Fn(n,n.return),e.flags&32){var r=e.stateNode;try{Go(r,"")}catch(w){le(e,e.return,w)}}if(o&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Yf(r,s),sl(u,l);var f=sl(u,s);for(l=0;l<d.length;l+=2){var p=d[l],m=d[l+1];p==="style"?tp(r,m):p==="dangerouslySetInnerHTML"?Zf(r,m):p==="children"?Go(r,m):pa(r,p,m,f)}switch(u){case"input":el(r,s);break;case"textarea":Qf(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Hn(r,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Hn(r,!!s.multiple,s.defaultValue,!0):Hn(r,!!s.multiple,s.multiple?[]:"",!1))}r[Ko]=s}catch(w){le(e,e.return,w)}}break;case 6:if(et(t,e),ct(e),o&4){if(e.stateNode===null)throw Error(R(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(w){le(e,e.return,w)}}break;case 3:if(et(t,e),ct(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{qo(t.containerInfo)}catch(w){le(e,e.return,w)}break;case 4:et(t,e),ct(e);break;case 13:et(t,e),ct(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||($a=ue())),o&4&&Tc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Te=(f=Te)||p,et(t,e),Te=f):et(t,e),ct(e),o&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(j=e,p=e.child;p!==null;){for(m=j=p;j!==null;){switch(h=j,g=h.child,h.tag){case 0:case 11:case 14:case 15:Lo(4,h,h.return);break;case 1:Fn(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){o=h,n=h.return;try{t=o,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){le(o,n,w)}}break;case 5:Fn(h,h.return);break;case 22:if(h.memoizedState!==null){_c(m);continue}}g!==null?(g.return=h,j=g):_c(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{r=m.stateNode,f?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=m.stateNode,d=m.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=ep("display",l))}catch(w){le(e,e.return,w)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(w){le(e,e.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:et(t,e),ct(e),o&4&&Tc(e);break;case 21:break;default:et(t,e),ct(e)}}function ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_m(n)){var o=n;break e}n=n.return}throw Error(R(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Go(r,""),o.flags&=-33);var s=Nc(e);Dl(e,s,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=Nc(e);Ll(e,u,l);break;default:throw Error(R(161))}}catch(d){le(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dv(e,t,n){j=e,Am(e)}function Am(e,t,n){for(var o=(e.mode&1)!==0;j!==null;){var r=j,s=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||Ir;if(!l){var u=r.alternate,d=u!==null&&u.memoizedState!==null||Te;u=Ir;var f=Te;if(Ir=l,(Te=d)&&!f)for(j=r;j!==null;)l=j,d=l.child,l.tag===22&&l.memoizedState!==null?Ic(r):d!==null?(d.return=l,j=d):Ic(r);for(;s!==null;)j=s,Am(s),s=s.sibling;j=r,Ir=u,Te=f}Ec(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,j=s):Ec(e)}}function Ec(e){for(;j!==null;){var t=j;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||zs(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Te)if(n===null)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:tt(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&uc(t,s,o);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uc(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&qo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Te||t.flags&512&&Pl(t)}catch(h){le(t,t.return,h)}}if(t===e){j=null;break}if(n=t.sibling,n!==null){n.return=t.return,j=n;break}j=t.return}}function _c(e){for(;j!==null;){var t=j;if(t===e){j=null;break}var n=t.sibling;if(n!==null){n.return=t.return,j=n;break}j=t.return}}function Ic(e){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{zs(4,t)}catch(d){le(t,n,d)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var r=t.return;try{o.componentDidMount()}catch(d){le(t,r,d)}}var s=t.return;try{Pl(t)}catch(d){le(t,s,d)}break;case 5:var l=t.return;try{Pl(t)}catch(d){le(t,l,d)}}}catch(d){le(t,t.return,d)}if(t===e){j=null;break}var u=t.sibling;if(u!==null){u.return=t.return,j=u;break}j=t.return}}var fv=Math.ceil,Cs=_t.ReactCurrentDispatcher,qa=_t.ReactCurrentOwner,We=_t.ReactCurrentBatchConfig,K=0,ge=null,de=null,Ce=0,Ue=0,Un=Xt(0),pe=0,tr=null,vn=0,qs=0,Oa=0,Do=null,Pe=null,$a=0,to=1/0,gt=null,Ss=!1,jl=null,qt=null,kr=!1,jt=null,ws=0,jo=0,Fl=null,Kr=-1,Yr=0;function Ae(){return K&6?ue():Kr!==-1?Kr:Kr=ue()}function Ot(e){return e.mode&1?K&2&&Ce!==0?Ce&-Ce:Kg.transition!==null?(Yr===0&&(Yr=pp()),Yr):(e=Q,e!==0||(e=window.event,e=e===void 0?16:Cp(e.type)),e):1}function st(e,t,n,o){if(50<jo)throw jo=0,Fl=null,Error(R(185));lr(e,n,o),(!(K&2)||e!==ge)&&(e===ge&&(!(K&2)&&(qs|=n),pe===4&&Lt(e,Ce)),Fe(e,o),n===1&&K===0&&!(t.mode&1)&&(to=ue()+500,Gs&&Zt()))}function Fe(e,t){var n=e.callbackNode;K0(e,t);var o=ss(e,e===ge?Ce:0);if(o===0)n!==null&&ju(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&ju(n),t===1)e.tag===0?Jg(kc.bind(null,e)):Vp(kc.bind(null,e)),qg(function(){!(K&6)&&Zt()}),n=null;else{switch(mp(o)){case 1:n=xa;break;case 4:n=dp;break;case 16:n=rs;break;case 536870912:n=fp;break;default:n=rs}n=Fm(n,bm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bm(e,t){if(Kr=-1,Yr=0,K&6)throw Error(R(327));var n=e.callbackNode;if($n()&&e.callbackNode!==n)return null;var o=ss(e,e===ge?Ce:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=Ns(e,o);else{t=o;var r=K;K|=2;var s=Mm();(ge!==e||Ce!==t)&&(gt=null,to=ue()+500,fn(e,t));do try{hv();break}catch(u){Rm(e,u)}while(!0);Ra(),Cs.current=s,K=r,de!==null?t=0:(ge=null,Ce=0,t=pe)}if(t!==0){if(t===2&&(r=cl(e),r!==0&&(o=r,t=Ul(e,r))),t===1)throw n=tr,fn(e,0),Lt(e,o),Fe(e,ue()),n;if(t===6)Lt(e,o);else{if(r=e.current.alternate,!(o&30)&&!pv(r)&&(t=Ns(e,o),t===2&&(s=cl(e),s!==0&&(o=s,t=Ul(e,s))),t===1))throw n=tr,fn(e,0),Lt(e,o),Fe(e,ue()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(R(345));case 2:ln(e,Pe,gt);break;case 3:if(Lt(e,o),(o&130023424)===o&&(t=$a+500-ue(),10<t)){if(ss(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){Ae(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=xl(ln.bind(null,e,Pe,gt),t);break}ln(e,Pe,gt);break;case 4:if(Lt(e,o),(o&4194240)===o)break;for(t=e.eventTimes,r=-1;0<o;){var l=31-rt(o);s=1<<l,l=t[l],l>r&&(r=l),o&=~s}if(o=r,o=ue()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*fv(o/1960))-o,10<o){e.timeoutHandle=xl(ln.bind(null,e,Pe,gt),o);break}ln(e,Pe,gt);break;case 5:ln(e,Pe,gt);break;default:throw Error(R(329))}}}return Fe(e,ue()),e.callbackNode===n?bm.bind(null,e):null}function Ul(e,t){var n=Do;return e.current.memoizedState.isDehydrated&&(fn(e,t).flags|=256),e=Ns(e,t),e!==2&&(t=Pe,Pe=n,t!==null&&Vl(t)),e}function Vl(e){Pe===null?Pe=e:Pe.push.apply(Pe,e)}function pv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],s=r.getSnapshot;r=r.value;try{if(!at(s(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lt(e,t){for(t&=~Oa,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),o=1<<n;e[n]=-1,t&=~o}}function kc(e){if(K&6)throw Error(R(327));$n();var t=ss(e,0);if(!(t&1))return Fe(e,ue()),null;var n=Ns(e,t);if(e.tag!==0&&n===2){var o=cl(e);o!==0&&(t=o,n=Ul(e,o))}if(n===1)throw n=tr,fn(e,0),Lt(e,t),Fe(e,ue()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ln(e,Pe,gt),Fe(e,ue()),null}function Wa(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(to=ue()+500,Gs&&Zt())}}function xn(e){jt!==null&&jt.tag===0&&!(K&6)&&$n();var t=K;K|=1;var n=We.transition,o=Q;try{if(We.transition=null,Q=1,e)return e()}finally{Q=o,We.transition=n,K=t,!(K&6)&&Zt()}}function Ja(){Ue=Un.current,te(Un)}function fn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zg(n)),de!==null)for(n=de.return;n!==null;){var o=n;switch(ka(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&cs();break;case 3:Zn(),te(De),te(_e),Fa();break;case 5:ja(o);break;case 4:Zn();break;case 13:te(oe);break;case 19:te(oe);break;case 10:Ma(o.type._context);break;case 22:case 23:Ja()}n=n.return}if(ge=e,de=e=$t(e.current,null),Ce=Ue=t,pe=0,tr=null,Oa=qs=vn=0,Pe=Do=null,cn!==null){for(t=0;t<cn.length;t++)if(n=cn[t],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,s=n.pending;if(s!==null){var l=s.next;s.next=r,o.next=l}n.pending=o}cn=null}return e}function Rm(e,t){do{var n=de;try{if(Ra(),$r.current=ys,xs){for(var o=re.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}xs=!1}if(gn=0,he=fe=re=null,Po=!1,Xo=0,qa.current=null,n===null||n.return===null){pe=1,tr=t,de=null;break}e:{var s=e,l=n.return,u=n,d=t;if(t=Ce,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=hc(l);if(g!==null){g.flags&=-257,gc(g,l,u,s,t),g.mode&1&&mc(s,f,t),t=g,d=f;var v=t.updateQueue;if(v===null){var w=new Set;w.add(d),t.updateQueue=w}else v.add(d);break e}else{if(!(t&1)){mc(s,f,t),Ka();break e}d=Error(R(426))}}else if(ne&&u.mode&1){var C=hc(l);if(C!==null){!(C.flags&65536)&&(C.flags|=256),gc(C,l,u,s,t),Aa(eo(d,u));break e}}s=d=eo(d,u),pe!==4&&(pe=2),Do===null?Do=[s]:Do.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=mm(s,d,t);ac(s,y);break e;case 1:u=d;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(qt===null||!qt.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var N=hm(s,u,t);ac(s,N);break e}}s=s.return}while(s!==null)}Lm(n)}catch(E){t=E,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Mm(){var e=Cs.current;return Cs.current=ys,e===null?ys:e}function Ka(){(pe===0||pe===3||pe===2)&&(pe=4),ge===null||!(vn&268435455)&&!(qs&268435455)||Lt(ge,Ce)}function Ns(e,t){var n=K;K|=2;var o=Mm();(ge!==e||Ce!==t)&&(gt=null,fn(e,t));do try{mv();break}catch(r){Rm(e,r)}while(!0);if(Ra(),K=n,Cs.current=o,de!==null)throw Error(R(261));return ge=null,Ce=0,pe}function mv(){for(;de!==null;)Pm(de)}function hv(){for(;de!==null&&!G0();)Pm(de)}function Pm(e){var t=jm(e.alternate,e,Ue);e.memoizedProps=e.pendingProps,t===null?Lm(e):de=t,qa.current=null}function Lm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=av(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,de=null;return}}else if(n=lv(n,t,Ue),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);pe===0&&(pe=5)}function ln(e,t,n){var o=Q,r=We.transition;try{We.transition=null,Q=1,gv(e,t,n,o)}finally{We.transition=r,Q=o}return null}function gv(e,t,n,o){do $n();while(jt!==null);if(K&6)throw Error(R(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Y0(e,s),e===ge&&(de=ge=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kr||(kr=!0,Fm(rs,function(){return $n(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=We.transition,We.transition=null;var l=Q;Q=1;var u=K;K|=4,qa.current=null,cv(e,n),km(n,e),jg(gl),is=!!hl,gl=hl=null,e.current=n,dv(n),H0(),K=u,Q=l,We.transition=s}else e.current=n;if(kr&&(kr=!1,jt=e,ws=r),s=e.pendingLanes,s===0&&(qt=null),q0(n.stateNode),Fe(e,ue()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(Ss)throw Ss=!1,e=jl,jl=null,e;return ws&1&&e.tag!==0&&$n(),s=e.pendingLanes,s&1?e===Fl?jo++:(jo=0,Fl=e):jo=0,Zt(),null}function $n(){if(jt!==null){var e=mp(ws),t=We.transition,n=Q;try{if(We.transition=null,Q=16>e?16:e,jt===null)var o=!1;else{if(e=jt,jt=null,ws=0,K&6)throw Error(R(331));var r=K;for(K|=4,j=e.current;j!==null;){var s=j,l=s.child;if(j.flags&16){var u=s.deletions;if(u!==null){for(var d=0;d<u.length;d++){var f=u[d];for(j=f;j!==null;){var p=j;switch(p.tag){case 0:case 11:case 15:Lo(8,p,s)}var m=p.child;if(m!==null)m.return=p,j=m;else for(;j!==null;){p=j;var h=p.sibling,g=p.return;if(Em(p),p===f){j=null;break}if(h!==null){h.return=g,j=h;break}j=g}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}j=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,j=l;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Lo(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,j=y;break e}j=s.return}}var x=e.current;for(j=x;j!==null;){l=j;var S=l.child;if(l.subtreeFlags&2064&&S!==null)S.return=l,j=S;else e:for(l=x;j!==null;){if(u=j,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:zs(9,u)}}catch(E){le(u,u.return,E)}if(u===l){j=null;break e}var N=u.sibling;if(N!==null){N.return=u.return,j=N;break e}j=u.return}}if(K=r,Zt(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Ds,e)}catch{}o=!0}return o}finally{Q=n,We.transition=t}}return!1}function Ac(e,t,n){t=eo(n,t),t=mm(e,t,1),e=zt(e,t,1),t=Ae(),e!==null&&(lr(e,1,t),Fe(e,t))}function le(e,t,n){if(e.tag===3)Ac(e,e,n);else for(;t!==null;){if(t.tag===3){Ac(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qt===null||!qt.has(o))){e=eo(n,e),e=hm(t,e,1),t=zt(t,e,1),e=Ae(),t!==null&&(lr(t,1,e),Fe(t,e));break}}t=t.return}}function vv(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=Ae(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(Ce&n)===n&&(pe===4||pe===3&&(Ce&130023424)===Ce&&500>ue()-$a?fn(e,0):Oa|=n),Fe(e,t)}function Dm(e,t){t===0&&(e.mode&1?(t=xr,xr<<=1,!(xr&130023424)&&(xr=4194304)):t=1);var n=Ae();e=Nt(e,t),e!==null&&(lr(e,t,n),Fe(e,n))}function xv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Dm(e,n)}function yv(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(R(314))}o!==null&&o.delete(t),Dm(e,n)}var jm;jm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)Le=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Le=!1,iv(e,t,n);Le=!!(e.flags&131072)}else Le=!1,ne&&t.flags&1048576&&Gp(t,ps,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Jr(e,t),e=t.pendingProps;var r=Yn(t,_e.current);On(t,n),r=Va(null,t,o,e,r,n);var s=Ga();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,je(o)?(s=!0,ds(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,La(t),r.updater=Bs,t.stateNode=r,r._reactInternals=t,El(t,o,e,n),t=kl(null,t,o,!0,s,n)):(t.tag=0,ne&&s&&Ia(t),ke(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Jr(e,t),e=t.pendingProps,r=o._init,o=r(o._payload),t.type=o,r=t.tag=Sv(o),e=tt(o,e),r){case 0:t=Il(null,t,o,e,n);break e;case 1:t=yc(null,t,o,e,n);break e;case 11:t=vc(null,t,o,e,n);break e;case 14:t=xc(null,t,o,tt(o.type,e),n);break e}throw Error(R(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:tt(o,r),Il(e,t,o,r,n);case 1:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:tt(o,r),yc(e,t,o,r,n);case 3:e:{if(ym(t),e===null)throw Error(R(387));o=t.pendingProps,s=t.memoizedState,r=s.element,$p(e,t),gs(t,o,null,n);var l=t.memoizedState;if(o=l.element,s.isDehydrated)if(s={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=eo(Error(R(423)),t),t=Cc(e,t,o,n,r);break e}else if(o!==r){r=eo(Error(R(424)),t),t=Cc(e,t,o,n,r);break e}else for(Ve=Bt(t.stateNode.containerInfo.firstChild),Ge=t,ne=!0,ot=null,n=qp(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qn(),o===r){t=Tt(e,t,n);break e}ke(e,t,o,n)}t=t.child}return t;case 5:return Wp(t),e===null&&wl(t),o=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,l=r.children,vl(o,r)?l=null:s!==null&&vl(o,s)&&(t.flags|=32),xm(e,t),ke(e,t,l,n),t.child;case 6:return e===null&&wl(t),null;case 13:return Cm(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Xn(t,null,o,n):ke(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:tt(o,r),vc(e,t,o,r,n);case 7:return ke(e,t,t.pendingProps,n),t.child;case 8:return ke(e,t,t.pendingProps.children,n),t.child;case 12:return ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,s=t.memoizedProps,l=r.value,Z(ms,o._currentValue),o._currentValue=l,s!==null)if(at(s.value,l)){if(s.children===r.children&&!De.current){t=Tt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){l=s.child;for(var d=u.firstContext;d!==null;){if(d.context===o){if(s.tag===1){d=Ct(-1,n&-n),d.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?d.next=d:(d.next=p.next,p.next=d),f.pending=d}}s.lanes|=n,d=s.alternate,d!==null&&(d.lanes|=n),Nl(s.return,n,t),u.lanes|=n;break}d=d.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(R(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Nl(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}ke(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,On(t,n),r=Ke(r),o=o(r),t.flags|=1,ke(e,t,o,n),t.child;case 14:return o=t.type,r=tt(o,t.pendingProps),r=tt(o.type,r),xc(e,t,o,r,n);case 15:return gm(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:tt(o,r),Jr(e,t),t.tag=1,je(o)?(e=!0,ds(t)):e=!1,On(t,n),pm(t,o,r),El(t,o,r,n),kl(null,t,o,!0,e,n);case 19:return Sm(e,t,n);case 22:return vm(e,t,n)}throw Error(R(156,t.tag))};function Fm(e,t){return cp(e,t)}function Cv(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(e,t,n,o){return new Cv(e,t,n,o)}function Ya(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sv(e){if(typeof e=="function")return Ya(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ha)return 11;if(e===ga)return 14}return 2}function $t(e,t){var n=e.alternate;return n===null?(n=$e(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qr(e,t,n,o,r,s){var l=2;if(o=e,typeof e=="function")Ya(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case kn:return pn(n.children,r,s,t);case ma:l=8,r|=8;break;case Ki:return e=$e(12,n,t,r|2),e.elementType=Ki,e.lanes=s,e;case Yi:return e=$e(13,n,t,r),e.elementType=Yi,e.lanes=s,e;case Qi:return e=$e(19,n,t,r),e.elementType=Qi,e.lanes=s,e;case Wf:return Os(n,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Of:l=10;break e;case $f:l=9;break e;case ha:l=11;break e;case ga:l=14;break e;case Rt:l=16,o=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=$e(l,n,t,r),t.elementType=e,t.type=o,t.lanes=s,t}function pn(e,t,n,o){return e=$e(7,e,o,t),e.lanes=n,e}function Os(e,t,n,o){return e=$e(22,e,o,t),e.elementType=Wf,e.lanes=n,e.stateNode={isHidden:!1},e}function Li(e,t,n){return e=$e(6,e,null,t),e.lanes=n,e}function Di(e,t,n){return t=$e(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wv(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hi(0),this.expirationTimes=hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Qa(e,t,n,o,r,s,l,u,d){return e=new wv(e,t,n,u,d),t===1?(t=1,s===!0&&(t|=8)):t=0,s=$e(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(s),e}function Nv(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:In,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Um(e){if(!e)return Kt;e=e._reactInternals;e:{if(Cn(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(je(n))return Up(e,n,t)}return t}function Vm(e,t,n,o,r,s,l,u,d){return e=Qa(n,o,!0,e,r,s,l,u,d),e.context=Um(null),n=e.current,o=Ae(),r=Ot(n),s=Ct(o,r),s.callback=t??null,zt(n,s,r),e.current.lanes=r,lr(e,r,o),Fe(e,o),e}function $s(e,t,n,o){var r=t.current,s=Ae(),l=Ot(r);return n=Um(n),t.context===null?t.context=n:t.pendingContext=n,t=Ct(s,l),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=zt(r,t,l),e!==null&&(st(e,r,l,s),Or(e,r,l)),l}function Ts(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xa(e,t){bc(e,t),(e=e.alternate)&&bc(e,t)}function Tv(){return null}var Gm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Za(e){this._internalRoot=e}Ws.prototype.render=Za.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));$s(e,t,null,null)};Ws.prototype.unmount=Za.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){$s(null,e,null,null)}),t[wt]=null}};function Ws(e){this._internalRoot=e}Ws.prototype.unstable_scheduleHydration=function(e){if(e){var t=vp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&t!==0&&t<Pt[n].priority;n++);Pt.splice(n,0,e),n===0&&yp(e)}};function eu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Js(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rc(){}function Ev(e,t,n,o,r){if(r){if(typeof o=="function"){var s=o;o=function(){var f=Ts(l);s.call(f)}}var l=Vm(t,o,e,0,null,!1,!1,"",Rc);return e._reactRootContainer=l,e[wt]=l.current,Wo(e.nodeType===8?e.parentNode:e),xn(),l}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var f=Ts(d);u.call(f)}}var d=Qa(e,0,!1,null,null,!1,!1,"",Rc);return e._reactRootContainer=d,e[wt]=d.current,Wo(e.nodeType===8?e.parentNode:e),xn(function(){$s(t,d,n,o)}),d}function Ks(e,t,n,o,r){var s=n._reactRootContainer;if(s){var l=s;if(typeof r=="function"){var u=r;r=function(){var d=Ts(l);u.call(d)}}$s(t,l,e,r)}else l=Ev(n,t,e,r,o);return Ts(l)}hp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Eo(t.pendingLanes);n!==0&&(ya(t,n|1),Fe(t,ue()),!(K&6)&&(to=ue()+500,Zt()))}break;case 13:xn(function(){var o=Nt(e,1);if(o!==null){var r=Ae();st(o,e,1,r)}}),Xa(e,1)}};Ca=function(e){if(e.tag===13){var t=Nt(e,134217728);if(t!==null){var n=Ae();st(t,e,134217728,n)}Xa(e,134217728)}};gp=function(e){if(e.tag===13){var t=Ot(e),n=Nt(e,t);if(n!==null){var o=Ae();st(n,e,t,o)}Xa(e,t)}};vp=function(){return Q};xp=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};ll=function(e,t,n){switch(t){case"input":if(el(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=Vs(o);if(!r)throw Error(R(90));Kf(o),el(o,r)}}}break;case"textarea":Qf(e,n);break;case"select":t=n.value,t!=null&&Hn(e,!!n.multiple,t,!1)}};rp=Wa;sp=xn;var _v={usingClientEntryPoint:!1,Events:[ur,Mn,Vs,np,op,Wa]},yo={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iv={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ap(e),e===null?null:e.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||Tv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ar=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ar.isDisabled&&Ar.supportsFiber)try{Ds=Ar.inject(Iv),pt=Ar}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_v;Be.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eu(t))throw Error(R(200));return Nv(e,t,null,n)};Be.createRoot=function(e,t){if(!eu(e))throw Error(R(299));var n=!1,o="",r=Gm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Qa(e,1,!1,null,null,n,!1,o,r),e[wt]=t.current,Wo(e.nodeType===8?e.parentNode:e),new Za(t)};Be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=ap(t),e=e===null?null:e.stateNode,e};Be.flushSync=function(e){return xn(e)};Be.hydrate=function(e,t,n){if(!Js(t))throw Error(R(200));return Ks(null,e,t,!0,n)};Be.hydrateRoot=function(e,t,n){if(!eu(e))throw Error(R(405));var o=n!=null&&n.hydratedSources||null,r=!1,s="",l=Gm;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Vm(t,null,e,1,n??null,r,!1,s,l),e[wt]=t.current,Wo(e),o)for(e=0;e<o.length;e++)n=o[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Ws(t)};Be.render=function(e,t,n){if(!Js(t))throw Error(R(200));return Ks(null,e,t,!1,n)};Be.unmountComponentAtNode=function(e){if(!Js(e))throw Error(R(40));return e._reactRootContainer?(xn(function(){Ks(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};Be.unstable_batchedUpdates=Wa;Be.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Js(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Ks(e,t,n,!1,o)};Be.version="18.3.1-next-f1338f8080-20240426";function Hm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hm)}catch(e){console.error(e)}}Hm(),Hf.exports=Be;var kv=Hf.exports,Mc=kv;Wi.createRoot=Mc.createRoot,Wi.hydrateRoot=Mc.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},nr.apply(this,arguments)}var Ft;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ft||(Ft={}));const Pc="popstate";function Av(e){e===void 0&&(e={});function t(r,s){let{pathname:l="/",search:u="",hash:d=""}=Sn(r.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Gl("",{pathname:l,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let l=r.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=r.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof s=="string"?s:Es(s))}function o(r,s){Ys(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Rv(t,n,o,e)}function se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ys(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bv(){return Math.random().toString(36).substr(2,8)}function Lc(e,t){return{usr:e.state,key:e.key,idx:t}}function Gl(e,t,n,o){return n===void 0&&(n=null),nr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Sn(t):t,{state:n,key:t&&t.key||o||bv()})}function Es(e){let{pathname:t="/",search:n="",hash:o=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function Sn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function Rv(e,t,n,o){o===void 0&&(o={});let{window:r=document.defaultView,v5Compat:s=!1}=o,l=r.history,u=Ft.Pop,d=null,f=p();f==null&&(f=0,l.replaceState(nr({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function m(){u=Ft.Pop;let C=p(),y=C==null?null:C-f;f=C,d&&d({action:u,location:w.location,delta:y})}function h(C,y){u=Ft.Push;let x=Gl(w.location,C,y);n&&n(x,C),f=p()+1;let S=Lc(x,f),N=w.createHref(x);try{l.pushState(S,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;r.location.assign(N)}s&&d&&d({action:u,location:w.location,delta:1})}function g(C,y){u=Ft.Replace;let x=Gl(w.location,C,y);n&&n(x,C),f=p();let S=Lc(x,f),N=w.createHref(x);l.replaceState(S,"",N),s&&d&&d({action:u,location:w.location,delta:0})}function v(C){let y=r.location.origin!=="null"?r.location.origin:r.location.href,x=typeof C=="string"?C:Es(C);return x=x.replace(/ $/,"%20"),se(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let w={get action(){return u},get location(){return e(r,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(Pc,m),d=C,()=>{r.removeEventListener(Pc,m),d=null}},createHref(C){return t(r,C)},createURL:v,encodeLocation(C){let y=v(C);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:g,go(C){return l.go(C)}};return w}var Dc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Dc||(Dc={}));function Mv(e,t,n){return n===void 0&&(n="/"),Pv(e,t,n)}function Pv(e,t,n,o){let r=typeof t=="string"?Sn(t):t,s=no(r.pathname||"/",n);if(s==null)return null;let l=Bm(e);Lv(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=Ov(s);u=zv(l[d],f)}return u}function Bm(e,t,n,o){t===void 0&&(t=[]),n===void 0&&(n=[]),o===void 0&&(o="");let r=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(se(d.relativePath.startsWith(o),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(o.length));let f=Wt([o,d.relativePath]),p=n.concat(d);s.children&&s.children.length>0&&(se(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Bm(s.children,t,p,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:Hv(f,s.index),routesMeta:p})};return e.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))r(s,l);else for(let d of zm(s.path))r(s,l,d)}),t}function zm(e){let t=e.split("/");if(t.length===0)return[];let[n,...o]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(o.length===0)return r?[s,""]:[s];let l=zm(o.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),r&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function Lv(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Bv(t.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const Dv=/^:[\w-]+$/,jv=3,Fv=2,Uv=1,Vv=10,Gv=-2,jc=e=>e==="*";function Hv(e,t){let n=e.split("/"),o=n.length;return n.some(jc)&&(o+=Gv),t&&(o+=Fv),n.filter(r=>!jc(r)).reduce((r,s)=>r+(Dv.test(s)?jv:s===""?Uv:Vv),o)}function Bv(e,t){return e.length===t.length&&e.slice(0,-1).every((o,r)=>o===t[r])?e[e.length-1]-t[t.length-1]:0}function zv(e,t,n){let{routesMeta:o}=e,r={},s="/",l=[];for(let u=0;u<o.length;++u){let d=o[u],f=u===o.length-1,p=s==="/"?t:t.slice(s.length)||"/",m=Hl({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),h=d.route;if(!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:Wt([s,m.pathname]),pathnameBase:Yv(Wt([s,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(s=Wt([s,m.pathnameBase]))}return l}function Hl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=qv(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],l=s.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:o.reduce((f,p,m)=>{let{paramName:h,isOptional:g}=p;if(h==="*"){let w=u[m]||"";l=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=u[m];return g&&!v?f[h]=void 0:f[h]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:e}}function qv(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ys(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(o.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),o]}function Ov(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ys(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function no(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&o!=="/"?null:e.slice(n)||"/"}const $v=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wv=e=>$v.test(e);function Jv(e,t){t===void 0&&(t="/");let{pathname:n,search:o="",hash:r=""}=typeof e=="string"?Sn(e):e,s;if(n)if(Wv(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Ys(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?s=Fc(n.substring(1),"/"):s=Fc(n,t)}else s=t;return{pathname:s,search:Qv(o),hash:Xv(r)}}function Fc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function ji(e,t,n,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function tu(e,t){let n=Kv(e);return t?n.map((o,r)=>r===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function nu(e,t,n,o){o===void 0&&(o=!1);let r;typeof e=="string"?r=Sn(e):(r=nr({},e),se(!r.pathname||!r.pathname.includes("?"),ji("?","pathname","search",r)),se(!r.pathname||!r.pathname.includes("#"),ji("#","pathname","hash",r)),se(!r.search||!r.search.includes("#"),ji("#","search","hash",r)));let s=e===""||r.pathname==="",l=s?"/":r.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!o&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),m-=1;r.pathname=h.join("/")}u=m>=0?t[m]:"/"}let d=Jv(r,u),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}const Wt=e=>e.join("/").replace(/\/\/+/g,"/"),Yv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Xv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Zv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qm=["post","put","patch","delete"];new Set(qm);const ex=["get",...qm];new Set(ex);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function or(){return or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},or.apply(this,arguments)}const Qs=_.createContext(null),Om=_.createContext(null),It=_.createContext(null),Xs=_.createContext(null),en=_.createContext({outlet:null,matches:[],isDataRoute:!1}),$m=_.createContext(null);function tx(e,t){let{relative:n}=t===void 0?{}:t;io()||se(!1);let{basename:o,navigator:r}=_.useContext(It),{hash:s,pathname:l,search:u}=ei(e,{relative:n}),d=l;return o!=="/"&&(d=l==="/"?o:Wt([o,l])),r.createHref({pathname:d,search:u,hash:s})}function io(){return _.useContext(Xs)!=null}function wn(){return io()||se(!1),_.useContext(Xs).location}function Wm(e){_.useContext(It).static||_.useLayoutEffect(e)}function Zs(){let{isDataRoute:e}=_.useContext(en);return e?mx():nx()}function nx(){io()||se(!1);let e=_.useContext(Qs),{basename:t,future:n,navigator:o}=_.useContext(It),{matches:r}=_.useContext(en),{pathname:s}=wn(),l=JSON.stringify(tu(r,n.v7_relativeSplatPath)),u=_.useRef(!1);return Wm(()=>{u.current=!0}),_.useCallback(function(f,p){if(p===void 0&&(p={}),!u.current)return;if(typeof f=="number"){o.go(f);return}let m=nu(f,JSON.parse(l),s,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Wt([t,m.pathname])),(p.replace?o.replace:o.push)(m,p.state,p)},[t,o,l,s,e])}function ei(e,t){let{relative:n}=t===void 0?{}:t,{future:o}=_.useContext(It),{matches:r}=_.useContext(en),{pathname:s}=wn(),l=JSON.stringify(tu(r,o.v7_relativeSplatPath));return _.useMemo(()=>nu(e,JSON.parse(l),s,n==="path"),[e,l,s,n])}function ox(e,t){return rx(e,t)}function rx(e,t,n,o){io()||se(!1);let{navigator:r}=_.useContext(It),{matches:s}=_.useContext(en),l=s[s.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=wn(),p;if(t){var m;let C=typeof t=="string"?Sn(t):t;d==="/"||(m=C.pathname)!=null&&m.startsWith(d)||se(!1),p=C}else p=f;let h=p.pathname||"/",g=h;if(d!=="/"){let C=d.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(C.length).join("/")}let v=Mv(e,{pathname:g}),w=ux(v&&v.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Wt([d,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Wt([d,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,o);return t&&w?_.createElement(Xs.Provider,{value:{location:or({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ft.Pop}},w):w}function sx(){let e=px(),t=Zv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:r},n):null,null)}const ix=_.createElement(sx,null);class lx extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(en.Provider,{value:this.props.routeContext},_.createElement($m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ax(e){let{routeContext:t,match:n,children:o}=e,r=_.useContext(Qs);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(en.Provider,{value:t},o)}function ux(e,t,n,o){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),o===void 0&&(o=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=o)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(r=n)==null?void 0:r.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||se(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(n&&o&&o.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:h,errors:g}=n,v=m.route.loader&&h[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||v){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,m,h)=>{let g,v=!1,w=null,C=null;n&&(g=u&&m.route.id?u[m.route.id]:void 0,w=m.route.errorElement||ix,d&&(f<0&&h===0?(hx("route-fallback"),v=!0,C=null):f===h&&(v=!0,C=m.route.hydrateFallbackElement||null)));let y=t.concat(l.slice(0,h+1)),x=()=>{let S;return g?S=w:v?S=C:m.route.Component?S=_.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=p,_.createElement(ax,{match:m,routeContext:{outlet:p,matches:y,isDataRoute:n!=null},children:S})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?_.createElement(lx,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var Jm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jm||{}),Km=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Km||{});function cx(e){let t=_.useContext(Qs);return t||se(!1),t}function dx(e){let t=_.useContext(Om);return t||se(!1),t}function fx(e){let t=_.useContext(en);return t||se(!1),t}function Ym(e){let t=fx(),n=t.matches[t.matches.length-1];return n.route.id||se(!1),n.route.id}function px(){var e;let t=_.useContext($m),n=dx(),o=Ym();return t!==void 0?t:(e=n.errors)==null?void 0:e[o]}function mx(){let{router:e}=cx(Jm.UseNavigateStable),t=Ym(Km.UseNavigateStable),n=_.useRef(!1);return Wm(()=>{n.current=!0}),_.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,or({fromRouteId:t},s)))},[e,t])}const Uc={};function hx(e,t,n){Uc[e]||(Uc[e]=!0)}function gx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function vx(e){let{to:t,replace:n,state:o,relative:r}=e;io()||se(!1);let{future:s,static:l}=_.useContext(It),{matches:u}=_.useContext(en),{pathname:d}=wn(),f=Zs(),p=nu(t,tu(u,s.v7_relativeSplatPath),d,r==="path"),m=JSON.stringify(p);return _.useEffect(()=>f(JSON.parse(m),{replace:n,state:o,relative:r}),[f,m,r,n,o]),null}function ce(e){se(!1)}function xx(e){let{basename:t="/",children:n=null,location:o,navigationType:r=Ft.Pop,navigator:s,static:l=!1,future:u}=e;io()&&se(!1);let d=t.replace(/^\/*/,"/"),f=_.useMemo(()=>({basename:d,navigator:s,static:l,future:or({v7_relativeSplatPath:!1},u)}),[d,u,s,l]);typeof o=="string"&&(o=Sn(o));let{pathname:p="/",search:m="",hash:h="",state:g=null,key:v="default"}=o,w=_.useMemo(()=>{let C=no(p,d);return C==null?null:{location:{pathname:C,search:m,hash:h,state:g,key:v},navigationType:r}},[d,p,m,h,g,v,r]);return w==null?null:_.createElement(It.Provider,{value:f},_.createElement(Xs.Provider,{children:n,value:w}))}function yx(e){let{children:t,location:n}=e;return ox(Bl(t),n)}new Promise(()=>{});function Bl(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(o,r)=>{if(!_.isValidElement(o))return;let s=[...t,r];if(o.type===_.Fragment){n.push.apply(n,Bl(o.props.children,s));return}o.type!==ce&&se(!1),!o.props.index||!o.props.children||se(!1);let l={id:o.props.id||s.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(l.children=Bl(o.props.children,s)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_s.apply(this,arguments)}function Qm(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Cx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Sx(e,t){return e.button===0&&(!t||t==="_self")&&!Cx(e)}function zl(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let o=e[n];return t.concat(Array.isArray(o)?o.map(r=>[n,r]):[[n,o]])},[]))}function wx(e,t){let n=zl(e);return t&&t.forEach((o,r)=>{n.has(r)||t.getAll(r).forEach(s=>{n.append(r,s)})}),n}const Nx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ex="6";try{window.__reactRouterVersion=Ex}catch{}const _x=_.createContext({isTransitioning:!1}),Ix="startTransition",Vc=v0[Ix];function kx(e){let{basename:t,children:n,future:o,window:r}=e,s=_.useRef();s.current==null&&(s.current=Av({window:r,v5Compat:!0}));let l=s.current,[u,d]=_.useState({action:l.action,location:l.location}),{v7_startTransition:f}=o||{},p=_.useCallback(m=>{f&&Vc?Vc(()=>d(m)):d(m)},[d,f]);return _.useLayoutEffect(()=>l.listen(p),[l,p]),_.useEffect(()=>gx(o),[o]),_.createElement(xx,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:o})}const Ax=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ou=_.forwardRef(function(t,n){let{onClick:o,relative:r,reloadDocument:s,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m}=t,h=Qm(t,Nx),{basename:g}=_.useContext(It),v,w=!1;if(typeof f=="string"&&bx.test(f)&&(v=f,Ax))try{let S=new URL(window.location.href),N=f.startsWith("//")?new URL(S.protocol+f):new URL(f),E=no(N.pathname,g);N.origin===S.origin&&E!=null?f=E+N.search+N.hash:w=!0}catch{}let C=tx(f,{relative:r}),y=Mx(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:r,viewTransition:m});function x(S){o&&o(S),S.defaultPrevented||y(S)}return _.createElement("a",_s({},h,{href:v||C,onClick:w||s?o:x,ref:n,target:d}))}),br=_.forwardRef(function(t,n){let{"aria-current":o="page",caseSensitive:r=!1,className:s="",end:l=!1,style:u,to:d,viewTransition:f,children:p}=t,m=Qm(t,Tx),h=ei(d,{relative:m.relative}),g=wn(),v=_.useContext(Om),{navigator:w,basename:C}=_.useContext(It),y=v!=null&&Lx(h)&&f===!0,x=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,S=g.pathname,N=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(S=S.toLowerCase(),N=N?N.toLowerCase():null,x=x.toLowerCase()),N&&C&&(N=no(N,C)||N);const E=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let T=S===x||!l&&S.startsWith(x)&&S.charAt(E)==="/",I=N!=null&&(N===x||!l&&N.startsWith(x)&&N.charAt(x.length)==="/"),k={isActive:T,isPending:I,isTransitioning:y},b=T?o:void 0,A;typeof s=="function"?A=s(k):A=[s,T?"active":null,I?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(k):u;return _.createElement(ou,_s({},m,{"aria-current":b,className:A,ref:n,style:D,to:d,viewTransition:f}),typeof p=="function"?p(k):p)});var ql;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ql||(ql={}));var Gc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gc||(Gc={}));function Rx(e){let t=_.useContext(Qs);return t||se(!1),t}function Mx(e,t){let{target:n,replace:o,state:r,preventScrollReset:s,relative:l,viewTransition:u}=t===void 0?{}:t,d=Zs(),f=wn(),p=ei(e,{relative:l});return _.useCallback(m=>{if(Sx(m,n)){m.preventDefault();let h=o!==void 0?o:Es(f)===Es(p);d(e,{replace:h,state:r,preventScrollReset:s,relative:l,viewTransition:u})}},[f,d,p,o,r,n,e,s,l,u])}function Px(e){let t=_.useRef(zl(e)),n=_.useRef(!1),o=wn(),r=_.useMemo(()=>wx(o.search,n.current?null:t.current),[o.search]),s=Zs(),l=_.useCallback((u,d)=>{const f=zl(typeof u=="function"?u(r):u);n.current=!0,s("?"+f,d)},[s,r]);return[r,l]}function Lx(e,t){t===void 0&&(t={});let n=_.useContext(_x);n==null&&se(!1);let{basename:o}=Rx(ql.useViewTransitionState),r=ei(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=no(n.currentLocation.pathname,o)||n.currentLocation.pathname,l=no(n.nextLocation.pathname,o)||n.nextLocation.pathname;return Hl(r.pathname,l)!=null||Hl(r.pathname,s)!=null}var Dx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U=(e,t)=>{const n=_.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:l,children:u,...d},f)=>_.createElement("svg",{ref:f,...Dx,width:r,height:r,stroke:o,strokeWidth:l?Number(s)*24/Number(r):s,className:`lucide lucide-${jx(e)}`,...d},[...t.map(([p,m])=>_.createElement(p,m)),...(Array.isArray(u)?u:[u])||[]]));return n.displayName=`${e}`,n},ru=U("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),su=U("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),lo=U("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Fx=U("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]),Hc=U("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),Ux=U("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Vx=U("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),rr=U("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),iu=U("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]),Xm=U("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),lu=U("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Bc=U("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Gx=U("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Hx=U("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Bx=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Zm=U("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]),zx=U("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),qx=U("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Xr=U("Dna",[["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m17 6-2.5-2.5",key:"5cdfhj"}],["path",{d:"m14 8-1-1",key:"15nbz5"}],["path",{d:"m7 18 2.5 2.5",key:"16tu1a"}],["path",{d:"m3.5 14.5.5.5",key:"hapbhd"}],["path",{d:"m20 9 .5.5",key:"1n7z02"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m10 16 1.5 1.5",key:"11lckj"}]]),ti=U("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ox=U("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),Ol=U("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),$x=U("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),ni=U("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),Wx=U("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),au=U("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),eh=U("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Jx=U("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Kx=U("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),Yx=U("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]),Qx=U("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Xx=U("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Zx=U("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]),Fi=U("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),uu=U("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),ey=U("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),cu=U("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Ui=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),tn=U("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),ht=U("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),du=U("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),ty=U("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ny=U("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),oy=U("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),Fo=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ry=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),sy=U("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),zc=U("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),iy=U("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),th=U("TestTubes",[["path",{d:"M9 2v17.5A2.5 2.5 0 0 1 6.5 22v0A2.5 2.5 0 0 1 4 19.5V2",key:"12z67u"}],["path",{d:"M20 2v17.5a2.5 2.5 0 0 1-2.5 2.5v0a2.5 2.5 0 0 1-2.5-2.5V2",key:"1q2nfy"}],["path",{d:"M3 2h7",key:"7s29d5"}],["path",{d:"M14 2h7",key:"7sicin"}],["path",{d:"M9 16H4",key:"1bfye3"}],["path",{d:"M20 16h-5",key:"ddnjpe"}]]),ly=U("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),ay=U("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),nh=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),oh=U("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),fu=U("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),uy=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cy=U("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),dy=({className:e})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("path",{d:"M19 9l-7 7-3-3L16 6z"}),i.jsx("path",{d:"M16 6l3 3"}),i.jsx("path",{d:"M13 3l3 3"}),i.jsx("path",{d:"M8 14l-4 4a2 2 0 0 0 0 2.8l.2.2a2 2 0 0 0 2.8 0l4-4"}),i.jsx("path",{d:"M4 20l2-2"})]}),fy=({className:e})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),i.jsx("path",{d:"M8 8h3v3"}),i.jsx("circle",{cx:"12",cy:"12",r:"3"}),i.jsx("path",{d:"M16 16l-3-3"})]}),py=({className:e})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("path",{d:"M19 5L5 19"}),i.jsx("circle",{cx:"6.5",cy:"6.5",r:"2.5"}),i.jsx("circle",{cx:"17.5",cy:"17.5",r:"2.5"}),i.jsx("path",{d:"M12 12l2 2"})]}),my=({className:e})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("path",{d:"M10 2v8l-6 6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2l-6-6V2"}),i.jsx("path",{d:"M8.5 2h7"}),i.jsx("path",{d:"M9 13h6"}),i.jsx("path",{d:"M12 16v2"})]}),hy=({className:e})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("path",{d:"M2 12c0-3 2-5 5-5s5 2 5 5-2 5-5 5-5-2-5-5z"}),i.jsx("path",{d:"M12 12c0-3 2-5 5-5s5 2 5 5-2 5-5 5-5-2-5-5z"}),i.jsx("path",{d:"M7 12h10"}),i.jsx("path",{d:"M7 7l10 10"}),i.jsx("path",{d:"M7 17l10-10"})]}),gy=({className:e})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),i.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),i.jsx("path",{d:"M9 12h6"}),i.jsx("path",{d:"M9 16h6"}),i.jsx("path",{d:"M9 8h6"})]}),vy=({className:e})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),i.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),i.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),xy=({className:e})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),i.jsx("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}),i.jsx("path",{d:"M21 5c0 1.66-4 3-9 3s-9-1.34-9-3"}),i.jsx("path",{d:"M3 5c0 1.66 4 3 9 3s9-1.34 9-3"}),i.jsx("path",{d:"M7 10l3 5"}),i.jsx("path",{d:"M17 10l-3 5"})]}),yy=({className:e})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("rect",{x:"5",y:"3",width:"14",height:"18",rx:"2"}),i.jsx("line",{x1:"9",y1:"7",x2:"15",y2:"7"}),i.jsx("line",{x1:"9",y1:"11",x2:"15",y2:"11"}),i.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"}),i.jsx("path",{d:"M5 6h14"})]}),Cy=({className:e})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("circle",{cx:"12",cy:"12",r:"4"}),i.jsx("path",{d:"M12 8v8"}),i.jsx("path",{d:"M8 12h8"}),i.jsx("path",{d:"M15 15l2 2"}),i.jsx("path",{d:"M9 9l-2-2"})]}),Sy=({className:e})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("path",{d:"M3 3v18h18"}),i.jsx("path",{d:"M18 9l-5 5-4-4-3 3"})]}),wy=({className:e})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("path",{d:"M12 6v6l4 2"})]}),Ny=({className:e})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("path",{d:"M4 6h16"}),i.jsx("path",{d:"M4 12h16"}),i.jsx("path",{d:"M4 18h10"})]}),Ty=({className:e})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("circle",{cx:"6",cy:"6",r:"3"}),i.jsx("circle",{cx:"6",cy:"18",r:"3"}),i.jsx("line",{x1:"20",y1:"4",x2:"8.12",y2:"15.88"}),i.jsx("line",{x1:"14.47",y1:"14.48",x2:"20",y2:"20"}),i.jsx("line",{x1:"8.12",y1:"8.12",x2:"12",y2:"12"})]}),Ey=({className:e})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"}),i.jsx("line",{x1:"16",y1:"5",x2:"22",y2:"5"}),i.jsx("line",{x1:"19",y1:"2",x2:"19",y2:"8"}),i.jsx("circle",{cx:"9",cy:"9",r:"2"}),i.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),_y=({className:e})=>i.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:e,children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),Iy=()=>{const[e,t]=_.useState(!1);_.useEffect(()=>{localStorage.getItem("labsuite_cookie_consent")||t(!0)},[]);const n=()=>{localStorage.setItem("labsuite_cookie_consent","true"),t(!1)};return e?i.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[100] p-4 animate-fadeIn print:hidden",children:i.jsxs("div",{className:"max-w-5xl mx-auto bg-slate-900 text-white p-4 md:p-5 rounded-2xl shadow-2xl flex flex-col md:flex-row items-center justify-between gap-4 border border-slate-700/50 backdrop-blur-xl bg-slate-900/95",children:[i.jsxs("div",{className:"flex items-start md:items-center gap-4",children:[i.jsx("div",{className:"bg-slate-800 p-3 rounded-full text-pink-500 shrink-0",children:i.jsx(Zm,{size:24})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-base md:text-lg mb-1",children:"We use cookies"}),i.jsxs("p",{className:"text-slate-300 text-sm leading-snug",children:["We use local storage to save your preferences and calculation history.",i.jsx(ou,{to:"/cookies",className:"text-pink-400 hover:text-pink-300 underline ml-1 font-medium",children:"Learn more"}),"."]})]})]}),i.jsxs("div",{className:"flex gap-3 w-full md:w-auto mt-2 md:mt-0",children:[i.jsx("button",{onClick:()=>t(!1),className:"flex-1 md:flex-none px-6 py-2.5 rounded-full border border-slate-600 hover:bg-slate-800 hover:border-slate-500 transition-colors font-medium text-sm text-slate-200",children:"Decline"}),i.jsx("button",{onClick:n,className:"flex-1 md:flex-none px-8 py-2.5 rounded-full bg-pink-500 hover:bg-pink-600 text-white transition-all font-bold text-sm shadow-lg shadow-pink-500/20 active:scale-95",children:"Accept"})]})]})}):null},ky=({children:e})=>{const[t,n]=_.useState(!1),[o,r]=_.useState(""),[s,l]=_.useState(!1),u=Zs(),d=p=>{p.key==="Enter"&&(u(`/?q=${encodeURIComponent(o)}`),n(!1))},f=[{to:"/",label:"Explore"},{to:"/dilution",label:"Dilution"},{to:"/molarity",label:"Molarity"},{to:"/restriction",label:"Rest. Sites"},{to:"/primers",label:"Primers"},{to:"/timer",label:"Timer"},{to:"/fasta",label:"FASTA"},{to:"/log",label:"Log Calc"},{to:"/cellcount",label:"Cells"},{to:"/sds",label:"SDS Gel"},{to:"/percent",label:"%"},{to:"/ph",label:"pH Calc"},{to:"/protein",label:"Protein"},{to:"/protocols",label:"Protocols"},{to:"/oops",label:"Oops!"}];return i.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[i.jsx("style",{children:`
        .no-scrollbar::-webkit-scrollbar {
          display: none;
        }
        .no-scrollbar {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
      `}),i.jsx("nav",{className:"border-b border-slate-100 bg-white sticky top-0 z-50 print:hidden h-16",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full",children:i.jsxs("div",{className:"flex justify-between items-center h-full",children:[i.jsx("div",{className:"flex items-center flex-shrink-0 mr-6",children:i.jsxs(br,{to:"/",className:"flex items-center group",children:[s?i.jsx("div",{className:"bg-slate-900 text-white p-2 rounded-xl mr-3 transition-transform group-hover:rotate-12",children:i.jsx("span",{className:"font-logo font-bold text-xl",children:"S"})}):i.jsx("img",{src:"/branding/logo.png",alt:"Logo",className:"h-10 w-auto mr-3 object-contain transition-transform group-hover:scale-105",onError:()=>l(!0)}),i.jsx("span",{className:"text-xl md:text-2xl font-bold text-slate-900 tracking-tight font-logo",children:"Sidlab Tools"})]})}),i.jsx("div",{className:"hidden md:block flex-1 max-w-sm",children:i.jsxs("div",{className:"relative group",children:[i.jsx(Fo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 group-focus-within:text-pink-500 transition-colors"}),i.jsx("input",{type:"text",value:o,onChange:p=>r(p.target.value),onKeyDown:d,placeholder:"Search tools...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border-none rounded-full text-sm font-medium focus:ring-2 focus:ring-pink-500/20 focus:bg-white transition-all"})]})}),i.jsx("div",{className:"md:hidden",children:i.jsx("button",{onClick:()=>n(!t),className:`p-2 rounded-full transition-colors ${t?"bg-slate-100 text-slate-900":"text-slate-500"}`,children:t?i.jsx(uy,{size:20}):i.jsx(Fo,{size:20})})})]})})}),t&&i.jsx("div",{className:"md:hidden bg-white border-b border-slate-100 p-4 animate-fadeIn sticky top-16 z-50",children:i.jsx("input",{type:"text",value:o,onChange:p=>r(p.target.value),onKeyDown:d,placeholder:"Search tools...",className:"w-full pl-4 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:ring-2 focus:ring-pink-500/20 focus:bg-white transition-all",autoFocus:!0})}),i.jsx("div",{className:"bg-white/80 backdrop-blur-md border-b border-slate-200 sticky top-16 z-40 print:hidden shadow-[0_2px_10px_rgb(0,0,0,0.02)]",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"flex items-center space-x-3 overflow-x-auto no-scrollbar py-3",children:f.map(p=>i.jsx(br,{to:p.to,className:({isActive:m})=>`
                   flex-shrink-0 px-5 py-2 rounded-full text-sm font-semibold transition-all whitespace-nowrap border
                   ${m?"bg-slate-900 text-white border-slate-900 shadow-md shadow-slate-900/10 scale-105":"bg-white border-slate-200 text-slate-600 hover:border-slate-300 hover:text-slate-900 hover:shadow-sm"}
                 `,children:p.label},p.to))})})}),i.jsx("main",{className:"flex-1 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12 print:max-w-none print:p-0 print:block",children:e}),i.jsx("footer",{className:"border-t border-slate-100 py-12 bg-white print:hidden",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center",children:[i.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[i.jsx("div",{className:"h-8 w-8 bg-slate-100 rounded-full flex items-center justify-center mr-3 text-slate-900 font-logo font-bold",children:"S"}),i.jsx("span",{className:"text-slate-900 font-bold font-logo",children:"Sidlab Tools"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-8",children:[i.jsxs("div",{className:"flex space-x-4 border-b md:border-b-0 md:border-r border-slate-200 pb-4 md:pb-0 md:pr-8",children:[i.jsx("a",{href:"https://wa.me/918249524316",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-slate-400 hover:text-[#25D366] hover:bg-green-50 rounded-full transition-all",title:"Chat on WhatsApp",children:i.jsx(_y,{className:"h-5 w-5"})}),i.jsx("a",{href:"mailto:siddhantrajnaik@gmail.com",className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-all",title:"Send Email",children:i.jsx(Xx,{size:20})})]}),i.jsxs("div",{className:"flex space-x-6 text-sm font-medium text-slate-500 items-center",children:[i.jsx(br,{to:"/admin",className:"hover:text-slate-900",children:"Admin"}),i.jsx("a",{href:"#",className:"hover:text-slate-900",children:"Terms"}),i.jsx("a",{href:"#",className:"hover:text-slate-900",children:"Privacy"}),i.jsx(br,{to:"/cookies",className:"hover:text-slate-900",children:"Cookies"})]})]})]})}),i.jsx(Iy,{})]})},Ay={hero:{label:"Hero Banner",size:"1024 x 160",key:"labsuite_ad_hero",heightClass:"h-32 md:h-40"},middle:{label:"Mid-Page Banner",size:"728 x 90",key:"labsuite_ad_middle",heightClass:"h-24 md:h-32"},footer:{label:"Footer Banner",size:"1024 x 160",key:"labsuite_ad_footer",heightClass:"h-32 md:h-40"}},Vi=({zone:e="hero",className:t=""})=>{const[n,o]=_.useState(null),r=Ay[e];return _.useEffect(()=>{const s=()=>{const l=localStorage.getItem(r.key);o(l||null)};return s(),window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[r.key]),i.jsx("div",{className:`w-full max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 print:hidden ${t}`,children:i.jsx("div",{className:`relative group w-full ${r.heightClass} rounded-2xl overflow-hidden bg-slate-50 border-2 border-dashed border-slate-200 hover:border-slate-300 transition-all`,children:n?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:n,alt:`${r.label} Advertisement`,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute bottom-2 right-2 bg-black/60 text-white text-[10px] px-2 py-0.5 rounded uppercase tracking-wider font-bold z-10 pointer-events-none backdrop-blur-sm",children:"Ad"})]}):i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-400 pointer-events-none",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(au,{size:20,className:"opacity-50"}),i.jsxs("span",{className:"font-bold uppercase tracking-widest text-xs",children:[r.label," Space"]})]}),i.jsxs("span",{className:"text-[10px] font-medium opacity-60",children:[r.size," px"]})]})})})},by=[{id:"dilution",title:"Dilution Calculator",description:"Essential C1V1 = C2V2 calc",path:"/dilution",icon:dy,color:"blue",keywords:["dilution","concentration","c1v1","stock","solution","volume"]},{id:"molarity",title:"Molarity Calculator",description:"Mass from MW & Conc",path:"/molarity",icon:fy,color:"emerald",keywords:["molarity","mass","molecular weight","mw","concentration","mole"]},{id:"ai-image",title:"AI Illustrator",description:"Scientific diagram generator",path:"/ai-image",icon:Ey,color:"violet",keywords:["ai","image","generator","gemini","diagram","drawing"]},{id:"restriction",title:"Restriction Finder",description:"Find cut sites & fragments",path:"/restriction",icon:Ty,color:"pink",keywords:["restriction","enzyme","digest","cut","fragment","cloning","plasmid"]},{id:"fasta",title:"FASTA Cleaner",description:"Format & validate sequences",path:"/fasta",icon:Ny,color:"slate",keywords:["fasta","dna","protein","sequence","format","clean","wrap"]},{id:"timer",title:"Lab Timer",description:"Stopwatch, Interval & Timer",path:"/timer",icon:wy,color:"cyan",keywords:["timer","stopwatch","countdown","interval","clock","time"]},{id:"log",title:"Log Calculator",description:"Log, Ln, Antilog & pKa",path:"/log",icon:Sy,color:"violet",keywords:["log","ln","exponent","pka","ph","math","kinetics"]},{id:"cellcount",title:"Cell Counter",description:"Hemocytometer & Viability",path:"/cellcount",icon:Cy,color:"lime",keywords:["cell","count","hemocytometer","neubauer","viability","trypan","titer"]},{id:"sds",title:"SDS-PAGE Gel",description:"Acrylamide gel recipes",path:"/sds",icon:yy,color:"teal",keywords:["sds","page","gel","electrophoresis","western","blot","acrylamide"]},{id:"primers",title:"Primer Analysis",description:"Tm, GC%, and PCR Ta",path:"/primers",icon:xy,color:"cyan",keywords:["primer","pcr","tm","melting","dna","sequence","annealing"]},{id:"percent",title:"Percent Solution",description:"w/v, v/v, w/w & density",path:"/percent",icon:py,color:"orange",keywords:["percent","mass","volume","density","w/v","solution"]},{id:"ph",title:"pH Calculator",description:"Acids, bases & buffers",path:"/ph",icon:my,color:"pink",keywords:["ph","buffer","acid","base","henderson","pka"]},{id:"protein",title:"Protein Conc",description:"A280 Beer-Lambert Law",path:"/protein",icon:hy,color:"indigo",keywords:["protein","absorbance","a280","beer-lambert","extinction","uv"]},{id:"oops",title:"Oops Calculator",description:"Fix mistake & error analysis",path:"/oops",icon:vy,color:"red",keywords:["mistake","error","correction","fix","salvage","moi","seeding","overshoot"]},{id:"protocols",title:"Protocol Engine",description:"Dynamic step generation",path:"/protocols",icon:gy,color:"purple",keywords:["protocol","pcr","buffer","western","steps","procedure","mix"]}],Ry={blue:{bg:"bg-blue-50",hoverBg:"group-hover:bg-blue-100/50",iconText:"text-blue-600",iconMain:"text-blue-500",titleHover:"group-hover:text-blue-600"},emerald:{bg:"bg-emerald-50",hoverBg:"group-hover:bg-emerald-100/50",iconText:"text-emerald-600",iconMain:"text-emerald-500",titleHover:"group-hover:text-emerald-600"},purple:{bg:"bg-purple-50",hoverBg:"group-hover:bg-purple-100/50",iconText:"text-purple-600",iconMain:"text-purple-500",titleHover:"group-hover:text-purple-600"},pink:{bg:"bg-pink-50",hoverBg:"group-hover:bg-pink-100/50",iconText:"text-pink-600",iconMain:"text-pink-500",titleHover:"group-hover:text-pink-600"},indigo:{bg:"bg-indigo-50",hoverBg:"group-hover:bg-indigo-100/50",iconText:"text-indigo-600",iconMain:"text-indigo-500",titleHover:"group-hover:text-indigo-600"},orange:{bg:"bg-orange-50",hoverBg:"group-hover:bg-orange-100/50",iconText:"text-orange-600",iconMain:"text-orange-500",titleHover:"group-hover:text-orange-600"},red:{bg:"bg-red-50",hoverBg:"group-hover:bg-red-100/50",iconText:"text-red-600",iconMain:"text-red-500",titleHover:"group-hover:text-red-600"},cyan:{bg:"bg-cyan-50",hoverBg:"group-hover:bg-cyan-100/50",iconText:"text-cyan-600",iconMain:"text-cyan-500",titleHover:"group-hover:text-cyan-600"},teal:{bg:"bg-teal-50",hoverBg:"group-hover:bg-teal-100/50",iconText:"text-teal-600",iconMain:"text-teal-500",titleHover:"group-hover:text-teal-600"},lime:{bg:"bg-lime-50",hoverBg:"group-hover:bg-lime-100/50",iconText:"text-lime-600",iconMain:"text-lime-500",titleHover:"group-hover:text-lime-600"},violet:{bg:"bg-violet-50",hoverBg:"group-hover:bg-violet-100/50",iconText:"text-violet-600",iconMain:"text-violet-500",titleHover:"group-hover:text-violet-600"},slate:{bg:"bg-slate-50",hoverBg:"group-hover:bg-slate-100/50",iconText:"text-slate-600",iconMain:"text-slate-500",titleHover:"group-hover:text-slate-600"}},My=()=>{const[e,t]=Px(),[n,o]=_.useState(e.get("q")||""),[r,s]=_.useState(!1);_.useEffect(()=>{o(e.get("q")||"")},[e]);const l=p=>{const m=p.target.value;o(m),m?t({q:m},{replace:!0}):t({},{replace:!0})},u=()=>{o(""),t({})},d=by.filter(p=>{const m=n.toLowerCase();return p.title.toLowerCase().includes(m)||p.description.toLowerCase().includes(m)||p.keywords.some(h=>h.toLowerCase().includes(m))}),f=p=>{o(p),t({q:p})};return i.jsxs("div",{className:"space-y-10",children:[i.jsx(Vi,{zone:"hero",className:"mb-8"}),i.jsxs("div",{className:"text-center max-w-3xl mx-auto pt-2 pb-4",children:[!r&&i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("img",{src:"/branding/logo.png",alt:"Lab Logo",className:"h-24 w-auto object-contain rounded-xl hover:scale-105 transition-transform duration-500",onError:()=>s(!0)})}),i.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-slate-900 tracking-tight mb-6 leading-tight",children:["Discover the World's",i.jsx("br",{}),"Top ",i.jsx("span",{className:"text-slate-900",children:"Lab Tools"})]}),i.jsx("p",{className:"text-lg md:text-xl text-slate-500 mb-10 max-w-2xl mx-auto leading-relaxed",children:"Explore essential calculators, protocol engines, and scientific utilities designed for the modern laboratory workflow."}),i.jsxs("div",{className:"relative max-w-xl mx-auto mb-8",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-6 flex items-center pointer-events-none",children:i.jsx(Fo,{className:"h-5 w-5 text-slate-400"})}),i.jsx("input",{type:"text",value:n,onChange:l,className:"block w-full rounded-full border border-slate-200 bg-white py-4 pl-14 pr-16 text-slate-900 placeholder-slate-400 focus:border-pink-500 focus:ring-2 focus:ring-pink-500/20 shadow-[0_4px_20px_rgb(0,0,0,0.04)] text-lg transition-all",placeholder:"What would you like to calculate?"}),i.jsx("div",{className:"absolute inset-y-0 right-2 flex items-center",children:i.jsx("button",{className:"bg-pink-500 hover:bg-pink-600 text-white rounded-full p-2.5 transition-colors shadow-lg shadow-pink-500/30",children:i.jsx(Fo,{className:"h-5 w-5"})})})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-3 text-sm font-medium text-slate-600",children:[i.jsx("span",{className:"text-slate-400",children:"Popular:"}),[{label:"Molarity",term:"Molarity"},{label:"PCR Setup",term:"PCR"},{label:"Dilutions",term:"Dilution"},{label:"Buffers",term:"Buffer"},{label:"Fix Mistake",term:"mistake"}].map(p=>i.jsx("button",{onClick:()=>f(p.term),className:"px-4 py-1.5 rounded-full border border-slate-200 hover:border-pink-300 hover:text-pink-600 transition-colors bg-white active:bg-slate-50",children:p.label},p.label))]})]}),i.jsx(Vi,{zone:"middle",className:"my-12"}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-lg font-bold text-slate-900",children:n?`Results for "${n}"`:"Featured Tools"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{className:"px-3 py-2 text-sm font-semibold text-slate-900 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"New & Noteworthy"}),i.jsx("button",{className:"px-3 py-2 text-sm font-semibold text-slate-500 hover:text-slate-900 transition-colors",children:"Most Popular"})]})]}),d.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map(p=>{const m=Ry[p.color];return i.jsx(ou,{to:p.path,className:"group block",children:i.jsxs("div",{className:"bg-white rounded-[32px] overflow-hidden border border-slate-100 shadow-sm hover:shadow-xl transition-all duration-300",children:[i.jsxs("div",{className:`aspect-[4/3] ${m.bg} relative p-8 flex items-center justify-center ${m.hoverBg} transition-colors`,children:[i.jsx("div",{className:"absolute top-6 right-6 bg-white/60 backdrop-blur-sm p-2 rounded-xl",children:i.jsx(p.icon,{className:`h-6 w-6 ${m.iconText}`})}),i.jsx("div",{className:"text-center",children:i.jsx("div",{className:"bg-white h-24 w-24 rounded-3xl shadow-lg flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 overflow-hidden",children:p.image?i.jsx("img",{src:p.image,alt:p.title,className:"h-16 w-16 object-contain"}):i.jsx(p.icon,{className:`h-10 w-10 ${m.iconMain}`})})})]}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{children:[i.jsx("h3",{className:`font-bold text-slate-900 text-lg ${m.titleHover} transition-colors`,children:p.title}),i.jsx("p",{className:"text-sm text-slate-500 mt-1",children:p.description})]})})})]})},p.id)})}):i.jsxs("div",{className:"text-center py-20 bg-slate-50 rounded-[32px] border border-dashed border-slate-300",children:[i.jsx(Fo,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No tools found"}),i.jsx("p",{className:"text-slate-500 mt-2",children:"Try searching for 'molarity', 'dilution', or 'protocols'"}),i.jsx("button",{onClick:u,className:"mt-6 px-6 py-2 bg-white border border-slate-300 rounded-full text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:"Clear Search"})]})]}),i.jsx(Vi,{zone:"footer",className:"mt-16"}),i.jsx("div",{className:"flex justify-center pb-8 pt-4",children:i.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-slate-50 border border-slate-100 text-xs font-medium text-slate-400",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 mr-2"}),"Offline Capable  v1.0.0"]})})]})},O=({title:e,children:t,className:n="",action:o})=>i.jsxs("div",{className:`bg-white rounded-[32px] shadow-[0_4px_20px_rgb(0,0,0,0.03)] border border-slate-100 overflow-hidden print:border-none print:shadow-none ${n}`,children:[(e||o)&&i.jsxs("div",{className:"px-8 py-6 border-b border-slate-50 flex justify-between items-center print:bg-white print:px-0 print:border-b-2 print:border-slate-800",children:[e&&i.jsx("h3",{className:"text-xl font-bold text-slate-900 tracking-tight",children:e}),o&&i.jsx("div",{className:"print:hidden",children:o})]}),i.jsx("div",{className:"p-8 print:p-0 print:mt-4",children:t})]}),V=({label:e,unit:t,rightElement:n,className:o="",...r})=>i.jsxs("div",{className:`flex flex-col space-y-2 ${o}`,children:[i.jsx("label",{className:"text-sm font-semibold text-slate-900 print:text-slate-900 ml-1",children:e}),i.jsxs("div",{className:"relative rounded-2xl shadow-sm group flex",children:[i.jsx("input",{type:"number",step:"any",className:`block w-full rounded-2xl border-slate-200 bg-slate-50 py-3 pl-4 text-slate-900 focus:bg-white focus:border-pink-500 focus:ring-2 focus:ring-pink-500/20 sm:text-sm transition-all duration-200 ease-in-out print:border-none print:shadow-none print:p-0 print:font-bold print:text-lg ${n?"pr-20 rounded-r-none border-r-0":"pr-12"}`,...r}),n?i.jsx("div",{className:"bg-slate-50 border-y border-r border-slate-200 rounded-r-2xl flex items-center px-2",children:n}):t&&i.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-4",children:i.jsx("span",{className:"text-slate-400 font-medium sm:text-sm print:text-slate-900",children:t})})]})]}),Yt=({label:e,className:t="",children:n,...o})=>i.jsxs("div",{className:`flex flex-col space-y-2 ${t}`,children:[e&&i.jsx("label",{className:"text-sm font-semibold text-slate-900 ml-1",children:e}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{className:"block w-full appearance-none rounded-2xl border-slate-200 bg-slate-50 py-3 pl-4 pr-10 text-slate-900 focus:bg-white focus:border-pink-500 focus:ring-2 focus:ring-pink-500/20 sm:text-sm transition-all",...o,children:n}),i.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-slate-500",children:i.jsx("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd",fillRule:"evenodd"})})})]})]}),B=({children:e,variant:t="primary",size:n="md",icon:o,className:r="",...s})=>{const l="inline-flex items-center justify-center rounded-full font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed transform active:scale-95",u={primary:"bg-slate-900 text-white hover:bg-slate-800 shadow-lg shadow-slate-900/20 border border-transparent",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-200 border border-transparent",outline:"bg-white text-slate-900 hover:bg-slate-50 border-2 border-slate-200 hover:border-slate-300",ghost:"bg-transparent text-slate-500 hover:bg-slate-50 hover:text-slate-900 border-transparent shadow-none",pink:"bg-pink-500 text-white hover:bg-pink-600 shadow-lg shadow-pink-500/30 border border-transparent"},d={sm:"px-4 py-2 text-xs",md:"px-6 py-2.5 text-sm",lg:"px-8 py-4 text-base"};return i.jsxs("button",{className:`${l} ${u[t]} ${d[n]} ${r}`,...s,children:[o&&i.jsx("span",{className:`mr-2 -ml-1 ${n==="sm"?"h-3 w-3":"h-4 w-4"}`,children:o}),e]})},ve=({title:e,description:t,action:n})=>i.jsxs("div",{className:"mb-10 flex flex-col sm:flex-row sm:items-end sm:justify-between print:mb-6 px-1",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 sm:text-4xl tracking-tight print:text-4xl",children:e}),t&&i.jsx("p",{className:"mt-3 text-lg text-slate-500 print:text-slate-800 font-medium",children:t})]}),n&&i.jsx("div",{className:"mt-6 sm:mt-0 print:hidden",children:n})]}),M=e=>{if(typeof e=="number")return e;const t=parseFloat(e);return isNaN(t)?0:t},rh=(e,t,n)=>{const o=[t.join(","),...n.map(u=>u.join(","))].join(`
`),r=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(r),l=document.createElement("a");l.setAttribute("href",s),l.setAttribute("download",`${e}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},q=(e,t=2)=>e===0?"0":Math.abs(e)<1e-4||Math.abs(e)>1e4?e.toExponential(t):e.toFixed(t);function sh(e,t){const[n,o]=_.useState(()=>{try{const r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.warn(`Error reading localStorage key "${e}":`,r),t}});return _.useEffect(()=>{try{window.localStorage.setItem(e,JSON.stringify(n))}catch(r){console.warn(`Error writing localStorage key "${e}":`,r)}},[e,n]),[n,o]}const z={mass:{g:1,mg:.001,g:1e-6,kg:1e3},volume:{L:1,mL:.001,L:1e-6},concentration:{M:1,mM:.001,M:1e-6,nM:1e-9}},Py=()=>{const[e,t]=sh("labsuite_dilution_v2",{c1:"",c1Unit:"mM",v1:"",v1Unit:"mL",c2:"",c2Unit:"mM",v2:"",v2Unit:"mL",lastSolvedFor:null}),[n,o]=_.useState(null),r=()=>{o(null);const{c1:f,v1:p,c2:m,v2:h,c1Unit:g,v1Unit:v,c2Unit:w,v2Unit:C}=e;if([f,p,m,h].filter(I=>I!=="").length!==3){o("Please fill exactly 3 fields to calculate the 4th.");return}const x=f!==""?M(f)*z.concentration[g]:null,S=p!==""?M(p)*z.volume[v]:null,N=m!==""?M(m)*z.concentration[w]:null,E=h!==""?M(h)*z.volume[C]:null;let T={};if(S===null&&x!==null&&N!==null&&E!==null){if(x===0){o("Stock concentration (C1) cannot be zero.");return}T={v1:N*E/x/z.volume[v],lastSolvedFor:"v1"}}else if(x===null&&S!==null&&N!==null&&E!==null){if(S===0){o("Stock volume (V1) cannot be zero.");return}T={c1:N*E/S/z.concentration[g],lastSolvedFor:"c1"}}else if(E===null&&x!==null&&S!==null&&N!==null){if(N===0){o("Target concentration (C2) cannot be zero.");return}T={v2:x*S/N/z.volume[C],lastSolvedFor:"v2"}}else if(N===null&&x!==null&&S!==null&&E!==null){if(E===0){o("Target volume (V2) cannot be zero.");return}T={c2:x*S/E/z.concentration[w],lastSolvedFor:"c2"}}(T.v1!==void 0||T.c1!==void 0||T.v2!==void 0||T.c2!==void 0)&&t(I=>({...I,...T}))},s=()=>{t({c1:"",c1Unit:"mM",v1:"",v1Unit:"mL",c2:"",c2Unit:"mM",v2:"",v2Unit:"mL",lastSolvedFor:null}),o(null)},l=f=>{const{name:p,value:m}=f.target;p.endsWith("Unit")?t(h=>({...h,[p]:m})):t(h=>({...h,[p]:m===""?"":parseFloat(m),lastSolvedFor:null})),o(null)},u=()=>{const f=[["Parameter","Value","Unit"],["Stock Conc (C1)",e.c1,e.c1Unit],["Stock Vol (V1)",e.v1,e.v1Unit],["Target Conc (C2)",e.c2,e.c2Unit],["Target Vol (V2)",e.v2,e.v2Unit]];rh("dilution_calculation",[],f)},d="bg-transparent border-none text-sm font-semibold text-slate-600 focus:ring-0 cursor-pointer py-1 pr-8";return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ve,{title:"Dilution Calculator",description:"Precision C1V1 calculator with automatic unit conversion.",action:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(B,{variant:"outline",onClick:u,icon:i.jsx(ti,{size:16}),children:"Export"}),i.jsx(B,{variant:"outline",onClick:()=>window.print(),icon:i.jsx(tn,{size:16}),children:"Print"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsx("div",{className:"lg:col-span-7 space-y-6",children:i.jsx(O,{title:"Configuration",action:i.jsxs(B,{variant:"ghost",size:"sm",onClick:s,className:"text-slate-500",children:[i.jsx(ht,{size:16,className:"mr-2"})," Reset"]}),children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"p-6 bg-blue-50/50 rounded-2xl border border-blue-100",children:[i.jsxs("div",{className:"flex items-center mb-4 text-blue-800",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-3 font-bold text-sm",children:"1"}),i.jsx("h3",{className:"font-bold text-lg",children:"Stock Solution"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(V,{label:"Concentration (C1)",name:"c1",value:e.c1,onChange:l,placeholder:e.lastSolvedFor==="c1"?"Calculated":"e.g. 100",className:e.lastSolvedFor==="c1"?"ring-2 ring-emerald-500/20 rounded-2xl bg-emerald-50/30":"",rightElement:i.jsx("select",{name:"c1Unit",value:e.c1Unit,onChange:l,className:d,children:Object.keys(z.concentration).map(f=>i.jsx("option",{value:f,children:f},f))})}),i.jsx(V,{label:"Volume (V1)",name:"v1",value:e.v1,onChange:l,placeholder:e.lastSolvedFor==="v1"?"Calculated":"Required Vol",className:e.lastSolvedFor==="v1"?"ring-2 ring-emerald-500/20 rounded-2xl bg-emerald-50/30":"",rightElement:i.jsx("select",{name:"v1Unit",value:e.v1Unit,onChange:l,className:d,children:Object.keys(z.volume).map(f=>i.jsx("option",{value:f,children:f},f))})})]})]}),i.jsx("div",{className:"flex justify-center -my-4 relative z-10",children:i.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm border border-slate-100 text-slate-400",children:i.jsx(rr,{size:20,className:"transform rotate-90 sm:rotate-0"})})}),i.jsxs("div",{className:"p-6 bg-emerald-50/50 rounded-2xl border border-emerald-100",children:[i.jsxs("div",{className:"flex items-center mb-4 text-emerald-800",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center mr-3 font-bold text-sm",children:"2"}),i.jsx("h3",{className:"font-bold text-lg",children:"Target Solution"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(V,{label:"Concentration (C2)",name:"c2",value:e.c2,onChange:l,placeholder:e.lastSolvedFor==="c2"?"Calculated":"Desired Conc",className:e.lastSolvedFor==="c2"?"ring-2 ring-emerald-500/20 rounded-2xl bg-emerald-50/30":"",rightElement:i.jsx("select",{name:"c2Unit",value:e.c2Unit,onChange:l,className:d,children:Object.keys(z.concentration).map(f=>i.jsx("option",{value:f,children:f},f))})}),i.jsx(V,{label:"Volume (V2)",name:"v2",value:e.v2,onChange:l,placeholder:e.lastSolvedFor==="v2"?"Calculated":"Total Vol",className:e.lastSolvedFor==="v2"?"ring-2 ring-emerald-500/20 rounded-2xl bg-emerald-50/30":"",rightElement:i.jsx("select",{name:"v2Unit",value:e.v2Unit,onChange:l,className:d,children:Object.keys(z.volume).map(f=>i.jsx("option",{value:f,children:f},f))})})]})]}),n&&i.jsxs("div",{className:"flex items-center p-4 rounded-xl bg-red-50 text-red-700 text-sm border border-red-100",children:[i.jsx(lo,{className:"h-4 w-4 mr-2"}),n]}),i.jsx(B,{onClick:r,size:"lg",className:"w-full shadow-xl shadow-slate-900/10",children:"Calculate"})]})})}),i.jsx("div",{className:"lg:col-span-5 space-y-6",children:i.jsx(O,{title:"Preparation Guide",className:"bg-slate-50/50 border-dashed border-2 border-slate-200 h-full",children:e.lastSolvedFor?i.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[i.jsxs("div",{className:"flex items-start space-x-4 bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[i.jsx("div",{className:"bg-blue-100 p-3 rounded-xl text-blue-600",children:i.jsx(Ol,{size:24})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-900 text-lg mb-2",children:"Instructions"}),i.jsxs("div",{className:"space-y-4 text-slate-600 leading-relaxed",children:[e.lastSolvedFor==="v1"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["1. Measure ",i.jsxs("span",{className:"font-bold text-slate-900",children:[q(M(e.v1))," ",e.v1Unit]})," of the stock solution."]}),i.jsxs("p",{children:["2. Add solvent (e.g., water) to bring the total volume up to ",i.jsxs("span",{className:"font-bold text-slate-900",children:[q(M(e.v2))," ",e.v2Unit]}),"."]})]}),e.lastSolvedFor==="c2"&&i.jsxs("p",{children:["Mixing ",i.jsxs("span",{className:"font-bold text-slate-900",children:[e.v1," ",e.v1Unit]})," of stock with solvent to reaching ",i.jsxs("span",{className:"font-bold text-slate-900",children:[e.v2," ",e.v2Unit]})," creates a ",i.jsxs("span",{className:"font-bold text-slate-900",children:[q(M(e.c2))," ",e.c2Unit]})," solution."]}),e.lastSolvedFor!=="v1"&&e.lastSolvedFor!=="c2"&&i.jsxs("p",{children:["Result: ",i.jsxs("span",{className:"font-bold text-slate-900",children:[q(M(e[e.lastSolvedFor]))," ",e[`${e.lastSolvedFor}Unit`]]})]})]})]})]}),i.jsxs("div",{className:"text-sm text-slate-500 font-mono bg-white p-4 rounded-xl border border-slate-100",children:[i.jsxs("div",{className:"flex justify-between mb-2 pb-2 border-b border-slate-100",children:[i.jsx("span",{children:"Equation"}),i.jsx("span",{className:"font-bold",children:"CV = CV"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{children:["C (Stock) = ",e.c1," ",e.c1Unit]}),i.jsxs("p",{children:["V (Stock Vol) = ",q(M(e.v1))," ",e.v1Unit]}),i.jsxs("p",{children:["C (Final) = ",e.c2," ",e.c2Unit]}),i.jsxs("p",{children:["V (Final Vol) = ",e.v2," ",e.v2Unit]})]})]})]}):i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-400 py-12",children:[i.jsx(iu,{size:48,className:"mb-4 text-slate-300",strokeWidth:1}),i.jsx("p",{className:"font-medium text-slate-500",children:"Ready to calculate"}),i.jsx("p",{className:"text-sm mt-2 max-w-[200px]",children:"Fill any 3 fields. We handle the units automatically."})]})})})]})]})},qc=[{name:"Custom",mw:"",n:1},{name:"NaCl (Sodium Chloride)",mw:58.44,n:1},{name:"Tris-Base",mw:121.14,n:1},{name:"Tris-HCl",mw:157.6,n:1},{name:"EDTA (Disodium)",mw:372.24,n:2},{name:"HEPES",mw:238.3,n:1},{name:"NaOH (Sodium Hydroxide)",mw:40,n:1},{name:"HCl (Hydrochloric Acid)",mw:36.46,n:1},{name:"H2SO4 (Sulfuric Acid)",mw:98.08,n:2},{name:"Glucose",mw:180.16,n:1}],Ly=()=>{const[e,t]=sh("labsuite_molarity_v2",{mw:"",nFactor:1,mass:"",massUnit:"g",volume:"",volumeUnit:"mL",molarity:"",molarityUnit:"mM",lastSolvedFor:null}),[n,o]=_.useState("Custom"),[r,s]=_.useState(null),l=g=>{const v=g.target.value;o(v);const w=qc.find(C=>C.name===v);w&&v!=="Custom"&&t(C=>({...C,mw:w.mw,nFactor:w.n}))},u=g=>{const{name:v,value:w}=g.target;t(C=>({...C,[v]:w===""?"":parseFloat(w),lastSolvedFor:null})),s(null)},d=g=>{const{name:v,value:w}=g.target;t(C=>({...C,[v]:w}))},f=()=>{s(null);const{mw:g,mass:v,volume:w,molarity:C,massUnit:y,volumeUnit:x,molarityUnit:S}=e,N=M(g);if(!N||N<=0){s("Molecular Weight is required and must be > 0");return}const E=v!==""?M(v)*z.mass[y]:null,T=w!==""?M(w)*z.volume[x]:null,I=C!==""?M(C)*z.concentration[S]:null;let k=!1,b={};if(E===null&&T!==null&&I!==null)b={mass:I*T*N/z.mass[y],lastSolvedFor:"mass"},k=!0;else if(I===null&&E!==null&&T!==null){if(T===0){s("Volume cannot be zero");return}b={molarity:E/(N*T)/z.concentration[S],lastSolvedFor:"molarity"},k=!0}else if(T===null&&E!==null&&I!==null){if(I===0){s("Concentration cannot be zero");return}b={volume:E/(N*I)/z.volume[x],lastSolvedFor:"volume"},k=!0}else s("Please fill in exactly 3 fields (MW + 2 others) to calculate the 4th.");k&&t(A=>({...A,...b}))},p=()=>{t({mw:"",nFactor:1,mass:"",massUnit:"g",volume:"",volumeUnit:"mL",molarity:"",molarityUnit:"mM",lastSolvedFor:null}),o("Custom"),s(null)},m=e.molarity!==""&&e.nFactor?q(M(e.molarity)*e.nFactor):"-",h=e.molarityUnit.replace("M","N");return i.jsxs("div",{className:"space-y-8",children:[i.jsx(ve,{title:"Molarity & Normality",description:"Professional calculator with unit conversion, chemical presets, and step-by-step breakdown.",action:i.jsx(B,{variant:"outline",onClick:()=>window.print(),icon:i.jsx(tn,{size:16}),children:"Print"})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsx("div",{className:"lg:col-span-7 space-y-6",children:i.jsx(O,{title:"Parameters",action:i.jsxs(B,{variant:"ghost",size:"sm",onClick:p,className:"text-slate-500",children:[i.jsx(ht,{size:16,className:"mr-2"})," Reset"]}),children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(Yt,{label:"Chemical Preset",value:n,onChange:l,children:qc.map(g=>i.jsx("option",{value:g.name,children:g.name},g.name))}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(V,{label:"MW (g/mol)",name:"mw",value:e.mw,onChange:u,placeholder:"e.g. 58.44"}),i.jsx(V,{label:"n-factor",name:"nFactor",value:e.nFactor,onChange:u,placeholder:"1"})]})]}),i.jsx("hr",{className:"border-slate-100"}),i.jsxs("div",{className:"space-y-5",children:[i.jsx(V,{label:"Mass / Weight",name:"mass",value:e.mass,onChange:u,placeholder:e.lastSolvedFor==="mass"?"Calculated":"Enter mass",className:e.lastSolvedFor==="mass"?"ring-2 ring-emerald-500/20 rounded-2xl bg-emerald-50/30":"",rightElement:i.jsxs("select",{name:"massUnit",value:e.massUnit,onChange:d,className:"bg-transparent border-none text-sm font-semibold text-slate-600 focus:ring-0 cursor-pointer py-1",children:[i.jsx("option",{value:"kg",children:"kg"}),i.jsx("option",{value:"g",children:"g"}),i.jsx("option",{value:"mg",children:"mg"}),i.jsx("option",{value:"g",children:"g"})]})}),i.jsx(V,{label:"Volume",name:"volume",value:e.volume,onChange:u,placeholder:e.lastSolvedFor==="volume"?"Calculated":"Enter volume",className:e.lastSolvedFor==="volume"?"ring-2 ring-emerald-500/20 rounded-2xl bg-emerald-50/30":"",rightElement:i.jsxs("select",{name:"volumeUnit",value:e.volumeUnit,onChange:d,className:"bg-transparent border-none text-sm font-semibold text-slate-600 focus:ring-0 cursor-pointer py-1",children:[i.jsx("option",{value:"L",children:"L"}),i.jsx("option",{value:"mL",children:"mL"}),i.jsx("option",{value:"L",children:"L"})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(V,{label:"Molarity",name:"molarity",value:e.molarity,onChange:u,placeholder:e.lastSolvedFor==="molarity"?"Calculated":"Enter Conc",className:e.lastSolvedFor==="molarity"?"ring-2 ring-emerald-500/20 rounded-2xl bg-emerald-50/30":"",rightElement:i.jsxs("select",{name:"molarityUnit",value:e.molarityUnit,onChange:d,className:"bg-transparent border-none text-sm font-semibold text-slate-600 focus:ring-0 cursor-pointer py-1",children:[i.jsx("option",{value:"M",children:"M"}),i.jsx("option",{value:"mM",children:"mM"}),i.jsx("option",{value:"M",children:"M"}),i.jsx("option",{value:"nM",children:"nM"})]})}),i.jsxs("div",{className:"flex flex-col space-y-2 opacity-75",children:[i.jsx("label",{className:"text-sm font-semibold text-slate-500 ml-1",children:"Normality (N)"}),i.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-slate-50 py-3 pl-4 text-slate-700 font-mono sm:text-sm flex items-center justify-between pr-4",children:[i.jsx("span",{children:m}),i.jsx("span",{className:"text-slate-400 font-bold text-xs",children:h})]})]})]})]}),r&&i.jsxs("div",{className:"flex items-center p-3 rounded-xl bg-red-50 text-red-700 text-sm",children:[i.jsx(lo,{className:"h-4 w-4 mr-2"}),r]}),i.jsx(B,{onClick:f,size:"lg",className:"w-full shadow-xl shadow-slate-900/10",children:"Calculate"})]})})}),i.jsx("div",{className:"lg:col-span-5 space-y-6",children:i.jsx(O,{title:"Step-by-Step Guide",className:"bg-slate-50/50 border-dashed border-2 border-slate-200 h-full",children:e.lastSolvedFor?i.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[i.jsxs("div",{className:"flex items-start space-x-4 bg-white p-4 rounded-2xl border border-slate-100 shadow-sm",children:[i.jsx("div",{className:"bg-emerald-100 p-2 rounded-xl text-emerald-600",children:i.jsx(ni,{size:20})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-900",children:"Result"}),i.jsxs("p",{className:"text-slate-600 mt-1",children:[e.lastSolvedFor==="mass"&&`Weigh ${q(M(e.mass))} ${e.massUnit} of ${n!=="Custom"?n:"solute"}.`,e.lastSolvedFor==="volume"&&`Add solvent to reach ${q(M(e.volume))} ${e.volumeUnit}.`,e.lastSolvedFor==="molarity"&&`Final concentration is ${q(M(e.molarity))} ${e.molarityUnit}.`]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-bold text-slate-900 border-b border-slate-200 pb-2",children:"Calculation Logic"}),i.jsxs("div",{className:"text-sm space-y-3 font-mono text-slate-600",children:[i.jsxs("p",{className:"flex justify-between",children:[i.jsx("span",{children:"Formula:"}),i.jsx("span",{className:"font-bold text-slate-800",children:"Mass (g) = M (mol/L)  V (L)  MW"})]}),e.lastSolvedFor==="mass"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-3 bg-white rounded-xl border border-slate-100 text-xs",children:[i.jsx("p",{className:"mb-1 text-slate-400",children:"1. Convert inputs to base units:"}),i.jsxs("p",{children:["Vol = ",e.volume," ",e.volumeUnit,"  ",z.volume[e.volumeUnit]," = ",q(M(e.volume)*z.volume[e.volumeUnit])," L"]}),i.jsxs("p",{children:["Conc = ",e.molarity," ",e.molarityUnit,"  ",z.concentration[e.molarityUnit]," = ",q(M(e.molarity)*z.concentration[e.molarityUnit])," mol/L"]})]}),i.jsxs("div",{className:"p-3 bg-white rounded-xl border border-slate-100 text-xs",children:[i.jsx("p",{className:"mb-1 text-slate-400",children:"2. Solve for Grams:"}),i.jsxs("p",{children:[q(M(e.molarity)*z.concentration[e.molarityUnit]),"  ",q(M(e.volume)*z.volume[e.volumeUnit]),"  ",e.mw," = ",q(M(e.molarity)*z.concentration[e.molarityUnit]*(M(e.volume)*z.volume[e.volumeUnit])*M(e.mw))," g"]})]})]})]})]}),e.nFactor>1&&i.jsxs("div",{className:"bg-blue-50 p-4 rounded-2xl text-sm text-blue-800",children:[i.jsx("span",{className:"font-bold block mb-1",children:"Normality Check:"}),"Since n-factor is ",e.nFactor,", the Normality is ",e.nFactor," the Molarity."]})]}):i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-400 py-12",children:[i.jsx(iu,{size:48,className:"mb-4 text-slate-300",strokeWidth:1}),i.jsx("p",{className:"font-medium text-slate-500",children:"Ready to calculate"}),i.jsx("p",{className:"text-sm mt-2 max-w-[200px]",children:"Enter any 3 values to automatically solve for the 4th."})]})})})]})]})},Oc=[{id:"pcr-mastermix",title:"PCR Mastermix Setup",category:"Molecular Biology",variables:[{id:"samples",label:"Number of Samples",defaultValue:10,unit:"tubes"},{id:"vol",label:"Reaction Volume",defaultValue:25,unit:"L"}],steps:e=>[{id:"h1",text:"Preparation",isHeader:!0},{id:"s1",text:`Thaw reagents on ice. You are preparing for ${e.samples} samples (plus 10% overage).`},{id:"s2",text:'Label a 1.5mL tube as "Master Mix".'},{id:"h2",text:"Master Mix Components (per rxn x count)",isHeader:!0},{id:"s3",text:`Water: ${(18.5*(e.samples*1.1)).toFixed(1)} L`},{id:"s4",text:`10x Buffer: ${(2.5*(e.samples*1.1)).toFixed(1)} L`},{id:"s5",text:`dNTPs: ${(.5*(e.samples*1.1)).toFixed(1)} L`},{id:"s6",text:`Fwd Primer: ${(1.25*(e.samples*1.1)).toFixed(1)} L`},{id:"s7",text:`Rev Primer: ${(1.25*(e.samples*1.1)).toFixed(1)} L`},{id:"s8",text:`Taq Polymerase: ${(.125*(e.samples*1.1)).toFixed(1)} L`},{id:"s9",text:`Aliquot ${e.vol-1} L of Master Mix into PCR tubes.`},{id:"s10",text:"Add 1 L of Template DNA to each tube."}]},{id:"western-lysis",title:"Western Blot Lysis Buffer",category:"Protein",variables:[{id:"bufferVol",label:"Total Buffer Volume",defaultValue:10,unit:"mL"}],steps:e=>[{id:"h1",text:"RIPA Buffer Additives",isHeader:!0},{id:"s1",text:`Prepare ${e.bufferVol} mL of cold RIPA buffer.`},{id:"s2",text:`Add ${(e.bufferVol*10).toFixed(1)} L of PMSF (100x).`},{id:"s3",text:`Add ${(e.bufferVol*10).toFixed(1)} L of Protease Inhibitor Cocktail.`},{id:"s4",text:`Add ${(e.bufferVol*10).toFixed(1)} L of Sodium Orthovanadate.`},{id:"s5",text:"Keep on ice at all times."}]}],Dy=()=>{const[e,t]=_.useState(null),[n,o]=_.useState({}),r=Oc.find(u=>u.id===e),s=u=>{const d={};u.variables.forEach(f=>d[f.id]=f.defaultValue),o(d),t(u.id)},l=(u,d)=>{o(f=>({...f,[u]:parseFloat(d)||0}))};if(r){const u=r.steps(n);return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ve,{title:r.title,description:r.category,action:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(B,{variant:"secondary",onClick:()=>t(null),className:"print:hidden",children:"Back"}),i.jsx(B,{variant:"primary",onClick:()=>window.print(),icon:i.jsx(tn,{size:16}),children:"Print Protocol"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-1 print:hidden",children:i.jsx(O,{title:"Variables",children:i.jsx("div",{className:"space-y-4",children:r.variables.map(d=>i.jsx(V,{label:d.label,value:n[d.id],onChange:f=>l(d.id,f.target.value),unit:d.unit},d.id))})})}),i.jsx("div",{className:"lg:col-span-3",children:i.jsxs(O,{className:"min-h-[500px] print:shadow-none print:border-none",children:[i.jsx("div",{className:"space-y-6",children:u.map(d=>d.isHeader?i.jsx("h3",{className:"text-lg font-bold text-slate-900 border-b border-slate-200 pb-2 mt-6 first:mt-0",children:d.text},d.id):i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0 h-6 w-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-sm font-medium mt-0.5 print:border print:border-slate-300 print:bg-white print:text-black",children:i.jsx("div",{className:"w-2 h-2 bg-current rounded-full"})}),i.jsx("p",{className:"ml-4 text-slate-700 leading-relaxed print:text-black",children:d.text})]},d.id))}),i.jsx("div",{className:"mt-12 pt-6 border-t border-dashed border-slate-300 hidden print:block",children:i.jsxs("div",{className:"flex justify-between text-sm text-slate-500",children:[i.jsx("span",{children:"Generated by LabSuite"}),i.jsx("span",{children:new Date().toLocaleDateString()})]})})]})})]})]})}return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ve,{title:"Protocol Engine",description:"Select a protocol template to customize variables and generate a printable bench guide."}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Oc.map(u=>i.jsx("button",{onClick:()=>s(u),className:"text-left h-full",children:i.jsxs(O,{className:"h-full hover:border-indigo-500 transition-colors group relative",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${u.category==="Protein"?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}`,children:u.category==="Protein"?i.jsx(ni,{size:20}):i.jsx(th,{size:20})}),i.jsx("span",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:u.category})]}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2 group-hover:text-indigo-600 transition-colors",children:u.title}),i.jsx("div",{className:"absolute bottom-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(Gx,{className:"text-indigo-500"})})]})},u.id))})]})},jy=[{name:"Tris (25C)",pKa:8.06},{name:"HEPES (25C)",pKa:7.48},{name:"Phosphate (pKa2)",pKa:7.21},{name:"MOPS (25C)",pKa:7.2},{name:"Acetate",pKa:4.76},{name:"Citrate (pKa3)",pKa:6.4}],Fy=()=>{const[e,t]=_.useState("acid"),[n,o]=_.useState(""),[r,s]=_.useState(null),[l,u]=_.useState(""),[d,f]=_.useState(""),[p,m]=_.useState(null),[h,g]=_.useState(""),[v,w]=_.useState(""),[C,y]=_.useState(""),[x,S]=_.useState(null),N=()=>{const k=M(n);if(k<=0)return;let b=0;e==="acid"?b=-Math.log10(k):b=14- -Math.log10(k),s({pH:b.toFixed(2),pOH:(14-b).toFixed(2),hConc:q(Math.pow(10,-b))})},E=()=>{const k=M(l),b=M(d);if(k<=0)return;const A=.5*(b-Math.log10(k));m({pH:A.toFixed(2),pOH:(14-A).toFixed(2),hConc:q(Math.pow(10,-A))})},T=()=>{const k=M(h),b=M(v),A=M(C);if(b<=0||A<=0)return;const D=k+Math.log10(A/b);S({pH:D.toFixed(2),pOH:(14-D).toFixed(2),hConc:q(Math.pow(10,-D))})},I=k=>{g(k)};return i.jsxs("div",{className:"space-y-8",children:[i.jsx(ve,{title:"pH Calculator",description:"Calculate pH for strong acids, weak acids, and buffer solutions."}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[i.jsx(O,{title:"Strong Acid / Base",className:"flex flex-col h-full border-t-4 border-t-pink-500",children:i.jsxs("div",{className:"space-y-6 flex-1",children:[i.jsxs("div",{className:"bg-pink-50 p-4 rounded-xl text-sm text-pink-800 leading-relaxed",children:["Assumes complete dissociation. ",i.jsx("br",{}),i.jsx("span",{className:"font-mono text-xs",children:"pH = -log[H]"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(Yt,{label:"Type",value:e,onChange:k=>t(k.target.value),children:[i.jsx("option",{value:"acid",children:"Strong Acid"}),i.jsx("option",{value:"base",children:"Strong Base"})]}),i.jsx(V,{label:"Concentration",value:n,onChange:k=>o(k.target.value),unit:"M",placeholder:"e.g. 0.01"})]}),i.jsx(B,{onClick:N,className:"w-full",icon:i.jsx(Xm,{size:16}),children:"Calculate pH"}),r&&i.jsxs("div",{className:"mt-4 p-4 bg-slate-50 rounded-xl space-y-2 border border-slate-100",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-slate-500 font-medium",children:"pH"}),i.jsx("span",{className:"text-2xl font-bold text-slate-900",children:r.pH})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-slate-500",children:"pOH"}),i.jsx("span",{className:"font-mono text-slate-700",children:r.pOH})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-slate-500",children:"[H]"}),i.jsxs("span",{className:"font-mono text-slate-700",children:[r.hConc," M"]})]})]})]})}),i.jsx(O,{title:"Weak Acid (via pKa)",className:"flex flex-col h-full border-t-4 border-t-emerald-500",children:i.jsxs("div",{className:"space-y-6 flex-1",children:[i.jsxs("div",{className:"bg-emerald-50 p-4 rounded-xl text-sm text-emerald-800 leading-relaxed",children:["Uses standard approximation.",i.jsx("br",{}),i.jsx("span",{className:"font-mono text-xs",children:"pH  (pKa - log[C])"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(V,{label:"Concentration",value:l,onChange:k=>u(k.target.value),unit:"M",placeholder:"0.1"}),i.jsx(V,{label:"pKa",value:d,onChange:k=>f(k.target.value),placeholder:"e.g. 4.76"})]}),i.jsx(B,{onClick:E,className:"w-full",variant:"primary",icon:i.jsx(ni,{size:16}),children:"Calculate pH"}),p&&i.jsxs("div",{className:"mt-4 p-4 bg-slate-50 rounded-xl space-y-2 border border-slate-100",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-slate-500 font-medium",children:"pH"}),i.jsx("span",{className:"text-2xl font-bold text-slate-900",children:p.pH})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-slate-500",children:"pOH"}),i.jsx("span",{className:"font-mono text-slate-700",children:p.pOH})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-slate-500",children:"[H]"}),i.jsxs("span",{className:"font-mono text-slate-700",children:[p.hConc," M"]})]})]})]})}),i.jsx(O,{title:"Buffer Calculation",className:"flex flex-col h-full border-t-4 border-t-blue-500",children:i.jsxs("div",{className:"space-y-6 flex-1",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl text-sm text-blue-800 leading-relaxed",children:["Henderson-Hasselbalch Eq.",i.jsx("br",{}),i.jsx("span",{className:"font-mono text-xs",children:"pH = pKa + log([Base]/[Acid])"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:jy.map(k=>i.jsx("button",{onClick:()=>I(k.pKa),className:"px-2 py-1 text-xs font-semibold bg-white border border-slate-200 text-slate-600 rounded-md hover:border-blue-300 hover:text-blue-600 transition-colors",children:k.name},k.name))}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(V,{label:"pKa",value:h,onChange:k=>g(k.target.value),placeholder:"e.g. 7.21"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(V,{label:"[Acid] (HA)",value:v,onChange:k=>w(k.target.value),unit:"M",placeholder:"Conc"}),i.jsx(V,{label:"[Base] (A)",value:C,onChange:k=>y(k.target.value),unit:"M",placeholder:"Conc"})]})]}),i.jsx(B,{onClick:T,className:"w-full",variant:"primary",icon:i.jsx(ru,{size:16}),children:"Calculate pH"}),x&&i.jsxs("div",{className:"mt-4 p-4 bg-slate-50 rounded-xl space-y-2 border border-slate-100",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-slate-500 font-medium",children:"pH"}),i.jsx("span",{className:"text-2xl font-bold text-slate-900",children:x.pH})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-slate-500",children:"pOH"}),i.jsx("span",{className:"font-mono text-slate-700",children:x.pOH})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-slate-500",children:"[H]"}),i.jsxs("span",{className:"font-mono text-slate-700",children:[x.hConc," M"]})]})]})]})})]})]})},Uy=()=>{const[e,t]=_.useState({absorbance:"",extCoef:"",extUnit:"molar",pathLength:1,mw:""}),[n,o]=_.useState(null),[r,s]=_.useState(null),l=f=>{const{name:p,value:m}=f.target;t(h=>({...h,[p]:p==="extUnit"?m:m===""?"":parseFloat(m)})),o(null),s(null)},u=()=>{const f=M(e.absorbance),p=M(e.extCoef),m=M(e.pathLength),h=e.mw===""?null:M(e.mw);if(f<=0||p<=0||m<=0){s("Absorbance, Extinction Coefficient, and Path Length must be greater than 0.");return}let g=null,v=null;e.extUnit==="molar"?(g=f/(p*m),h&&(v=g*h)):(v=f/(p*m),h&&(g=v/h)),o({molar:g,mass:v})},d=()=>{t({absorbance:"",extCoef:"",extUnit:"molar",pathLength:1,mw:""}),o(null),s(null)};return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ve,{title:"Protein Concentration",description:"Calculate protein concentration from A280 absorbance using the Beer-Lambert Law.",action:i.jsx(B,{variant:"outline",onClick:()=>window.print(),icon:i.jsx(tn,{size:16}),children:"Print"})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsx("div",{className:"lg:col-span-7 space-y-6",children:i.jsx(O,{title:"Parameters",action:i.jsxs(B,{variant:"ghost",size:"sm",onClick:d,className:"text-slate-500",children:[i.jsx(ht,{size:16,className:"mr-2"})," Reset"]}),children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx("span",{className:"bg-indigo-100 text-indigo-700 font-bold text-xs px-2 py-1 rounded-md",children:"1"}),i.jsx("h4",{className:"font-semibold text-slate-900 text-sm uppercase tracking-wide",children:"Absorbance"})]}),i.jsx(V,{label:"Absorbance (A280)",name:"absorbance",value:e.absorbance,onChange:l,placeholder:"e.g. 0.500"})]}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx("span",{className:"bg-indigo-100 text-indigo-700 font-bold text-xs px-2 py-1 rounded-md",children:"2"}),i.jsx("h4",{className:"font-semibold text-slate-900 text-sm uppercase tracking-wide",children:"Extinction Coefficient ()"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsx("div",{className:"sm:col-span-2",children:i.jsx(V,{label:"Value",name:"extCoef",value:e.extCoef,onChange:l,placeholder:"e.g. 43824 or 1.5"})}),i.jsxs(Yt,{label:"Unit",name:"extUnit",value:e.extUnit,onChange:l,children:[i.jsx("option",{value:"molar",children:"M cm"}),i.jsx("option",{value:"mass",children:"(mg/mL) cm"})]})]}),i.jsxs("p",{className:"text-xs text-slate-500 mt-2 flex items-center",children:[i.jsx(eh,{size:12,className:"mr-1"}),e.extUnit==="molar"?"Molar extinction coefficient (usually large, e.g., 40,000)":"Mass extinction coefficient (Abs of 1mg/mL, usually small, e.g., 0.5 - 2.0)"]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx("span",{className:"bg-indigo-100 text-indigo-700 font-bold text-xs px-2 py-1 rounded-md",children:"3"}),i.jsx("h4",{className:"font-semibold text-slate-900 text-sm uppercase tracking-wide",children:"Path Length"})]}),i.jsx(V,{label:"Length (cm)",name:"pathLength",value:e.pathLength,onChange:l,placeholder:"Standard is 1 cm"})]}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx("span",{className:"bg-indigo-100 text-indigo-700 font-bold text-xs px-2 py-1 rounded-md",children:"4"}),i.jsx("h4",{className:"font-semibold text-slate-900 text-sm uppercase tracking-wide",children:"Mol. Weight"})]}),i.jsx(V,{label:"MW (Da or g/mol)",name:"mw",value:e.mw,onChange:l,placeholder:"Optional"})]})]}),r&&i.jsxs("div",{className:"flex items-center p-3 rounded-xl bg-red-50 text-red-700 text-sm border border-red-100",children:[i.jsx(lo,{className:"h-4 w-4 mr-2"}),r]}),i.jsx(B,{onClick:u,size:"lg",className:"w-full shadow-xl shadow-slate-900/10",variant:"primary",children:"Calculate Concentration"})]})})}),i.jsx("div",{className:"lg:col-span-5 space-y-6",children:i.jsx(O,{title:"Results",className:"bg-slate-50/50 border-dashed border-2 border-slate-200 h-full",children:n?i.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm space-y-4",children:[i.jsx("h4",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:"Calculated Concentration"}),n.mass!==null&&i.jsxs("div",{className:"flex justify-between items-end border-b border-slate-100 pb-3 last:border-0 last:pb-0",children:[i.jsx("span",{className:"text-3xl font-bold text-slate-900",children:q(n.mass)}),i.jsx("span",{className:"text-lg font-medium text-slate-500 mb-1",children:"mg/mL"})]}),n.molar!==null&&i.jsxs("div",{className:"space-y-2 pt-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-xl font-bold text-slate-700",children:q(n.molar*1e6)}),i.jsx("span",{className:"text-sm font-medium text-slate-400",children:"M"})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsxs("span",{className:"font-mono text-slate-500",children:[q(n.molar)," M"]}),i.jsx("span",{className:"text-slate-400",children:"Molar"})]})]}),(n.molar===null||n.mass===null)&&i.jsx("div",{className:"text-xs text-amber-600 bg-amber-50 p-2 rounded-lg mt-2",children:"Enter Molecular Weight to see both mg/mL and M conversions."})]}),i.jsxs("div",{className:"text-sm text-slate-500 font-mono bg-white p-4 rounded-xl border border-slate-100",children:[i.jsxs("div",{className:"flex justify-between mb-2 pb-2 border-b border-slate-100",children:[i.jsx("span",{className:"font-sans font-semibold text-slate-900",children:"Beer-Lambert Law"}),i.jsx("span",{className:"font-bold",children:"A = cl"})]}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsx("p",{children:"c = A / (  l)"}),i.jsxs("div",{className:"pl-2 border-l-2 border-slate-200 space-y-1",children:[i.jsxs("p",{children:["A = ",e.absorbance]}),i.jsxs("p",{children:[" = ",e.extCoef," ",e.extUnit==="molar"?"Mcm":"(mg/mL)cm"]}),i.jsxs("p",{children:["l = ",e.pathLength," cm"]})]})]})]})]}):i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-400 py-12",children:[i.jsx(Xr,{size:48,className:"mb-4 text-slate-300",strokeWidth:1}),i.jsx("p",{className:"font-medium text-slate-500",children:"Ready to calculate"}),i.jsx("p",{className:"text-sm mt-2 max-w-[200px]",children:"Enter absorbance and coefficients to determine protein concentration."})]})})})]})]})},Vy=()=>{const[e,t]=_.useState({mode:"wv",solute:"",soluteUnit:"g",total:"",totalUnit:"mL",percent:"",density:1,lastSolvedFor:null}),[n,o]=_.useState(null);_.useEffect(()=>{t(m=>{let h=m.soluteUnit,g=m.totalUnit;return m.mode==="vv"?z.mass[h]&&(h="mL"):z.volume[h]&&(h="g"),{...m,soluteUnit:h,totalUnit:g,lastSolvedFor:null,solute:"",total:"",percent:""}}),o(null)},[e.mode]);const r=m=>{const{name:h,value:g}=m.target;t(v=>({...v,[h]:h==="soluteUnit"||h==="totalUnit"?g:g===""?"":parseFloat(g),lastSolvedFor:null})),o(null)},s=m=>{t(h=>({...h,mode:m}))},l=m=>!!z.volume[m],u=m=>!!z.mass[m],d=()=>{o(null);const{mode:m,solute:h,soluteUnit:g,total:v,totalUnit:w,percent:C,density:y}=e;if([h,v,C].filter(A=>A!=="").length!==2){o("Please fill exactly 2 fields (Solute, Total, or %) to solve for the 3rd.");return}const S=M(h),N=M(v),E=M(C),T=M(y);if(C!==""&&(E<=0||E>100)){o("Percentage must be between 0 and 100.");return}if(m==="ww"&&l(w)&&T<=0){o("Density must be greater than 0 to convert solution volume to mass.");return}let I=S;m==="vv"?I=S*(z.volume[g]||1)/z.volume.mL:I=S*(z.mass[g]||1);let k=N;if(l(w)){let A=N*(z.volume[w]||1)/z.volume.mL;m==="ww"?k=A*T:k=A}else{let A=N*(z.mass[w]||1);if(m==="ww")k=A;else if(T>0)k=A/T;else{o("Cannot calculate w/v or v/v from a solution mass without density.");return}}let b={};if(C===""){if(k===0){o("Total amount cannot be zero.");return}const A=I/k*100;b={percent:parseFloat(A.toFixed(4)),lastSolvedFor:"percent"}}else if(h===""){const A=E/100*k;let D=0;m==="vv"?D=A*.001/(z.volume[g]||.001):D=A/(z.mass[g]||1),b={solute:parseFloat(D.toPrecision(6)),lastSolvedFor:"solute"}}else if(v===""){if(E===0){o("Percentage cannot be zero when solving for total.");return}const A=I/(E/100);let D=0;if(m==="ww")if(l(w)){if(T<=0){o("Need density to calculate volume for w/w.");return}D=A/T*.001/(z.volume[w]||.001)}else D=A/(z.mass[w]||1);else if(u(w)){if(T<=0){o("Need density to calculate mass for w/v or v/v.");return}D=A*T/(z.mass[w]||1)}else D=A*.001/(z.volume[w]||.001);b={total:parseFloat(D.toPrecision(6)),lastSolvedFor:"total"}}t(A=>({...A,...b}))},f=()=>{t({mode:e.mode,solute:"",soluteUnit:e.mode==="vv"?"mL":"g",total:"",totalUnit:"mL",percent:"",density:1,lastSolvedFor:null}),o(null)},p=e.mode==="ww"&&l(e.totalUnit);return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ve,{title:"Percent Solution Calculator",description:"Calculate w/v, v/v, and w/w solutions with density correction.",action:i.jsx(B,{variant:"outline",onClick:()=>window.print(),icon:i.jsx(tn,{size:16}),children:"Print"})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsx("div",{className:"lg:col-span-7 space-y-6",children:i.jsx(O,{title:"Parameters",action:i.jsxs(B,{variant:"ghost",size:"sm",onClick:f,className:"text-slate-500",children:[i.jsx(ht,{size:16,className:"mr-2"})," Reset"]}),children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-slate-50 p-1.5 rounded-2xl flex relative",children:["wv","vv","ww"].map(m=>i.jsxs("button",{onClick:()=>s(m),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all duration-200 ${e.mode===m?"bg-white text-pink-600 shadow-sm ring-1 ring-slate-100":"text-slate-400 hover:text-slate-600"}`,children:[m==="wv"&&"% w/v",m==="vv"&&"% v/v",m==="ww"&&"% w/w"]},m))}),i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsx(V,{label:e.mode==="vv"?"Solute Volume":"Solute Mass",name:"solute",value:e.solute,onChange:r,placeholder:e.lastSolvedFor==="solute"?"Calculated":"Amount",className:e.lastSolvedFor==="solute"?"ring-2 ring-emerald-500/20 rounded-2xl bg-emerald-50/30":"",rightElement:i.jsx("select",{name:"soluteUnit",value:e.soluteUnit,onChange:r,className:"bg-transparent border-none text-sm font-semibold text-slate-600 py-1 cursor-pointer",children:e.mode==="vv"?i.jsxs(i.Fragment,{children:[i.jsx("option",{value:"mL",children:"mL"}),i.jsx("option",{value:"L",children:"L"}),i.jsx("option",{value:"L",children:"L"})]}):i.jsxs(i.Fragment,{children:[i.jsx("option",{value:"g",children:"g"}),i.jsx("option",{value:"mg",children:"mg"}),i.jsx("option",{value:"g",children:"g"}),i.jsx("option",{value:"kg",children:"kg"})]})})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(V,{label:"Total Solution (Final)",name:"total",value:e.total,onChange:r,placeholder:e.lastSolvedFor==="total"?"Calculated":"Total Amount",className:e.lastSolvedFor==="total"?"ring-2 ring-emerald-500/20 rounded-2xl bg-emerald-50/30":"",rightElement:i.jsxs("select",{name:"totalUnit",value:e.totalUnit,onChange:r,className:"bg-transparent border-none text-sm font-semibold text-slate-600 py-1 cursor-pointer",children:[i.jsxs("optgroup",{label:"Volume",children:[i.jsx("option",{value:"mL",children:"mL"}),i.jsx("option",{value:"L",children:"L"}),i.jsx("option",{value:"L",children:"L"})]}),i.jsxs("optgroup",{label:"Mass",children:[i.jsx("option",{value:"g",children:"g"}),i.jsx("option",{value:"kg",children:"kg"})]})]})}),p&&i.jsxs("div",{className:"bg-blue-50 p-4 rounded-2xl border border-blue-100 animate-fadeIn",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx(eh,{size:14,className:"text-blue-500 mr-2"}),i.jsx("span",{className:"text-xs font-bold text-blue-700 uppercase",children:"Density Required"})]}),i.jsxs("p",{className:"text-xs text-blue-600 mb-3",children:["You are calculating ",i.jsx("b",{children:"% w/w"})," but specified a ",i.jsx("b",{children:"Volume"}),". Density is needed to convert volume to mass."]}),i.jsx(V,{label:"Density ()",name:"density",value:e.density,onChange:r,placeholder:"1.0",unit:"g/mL"})]})]}),i.jsx(V,{label:"Percentage (%)",name:"percent",value:e.percent,onChange:r,placeholder:e.lastSolvedFor==="percent"?"Calculated":"e.g. 10",className:e.lastSolvedFor==="percent"?"ring-2 ring-emerald-500/20 rounded-2xl bg-emerald-50/30":""})]}),n&&i.jsxs("div",{className:"flex items-center p-4 rounded-xl bg-red-50 text-red-700 text-sm border border-red-100",children:[i.jsx(lo,{className:"h-4 w-4 mr-2"}),n]}),i.jsx(B,{onClick:d,size:"lg",className:"w-full shadow-xl shadow-slate-900/10",variant:"pink",children:"Calculate"})]})})}),i.jsx("div",{className:"lg:col-span-5 space-y-6",children:i.jsx(O,{title:"Guide",className:"bg-slate-50/50 border-dashed border-2 border-slate-200 h-full",children:e.lastSolvedFor?i.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[i.jsxs("h4",{className:"font-bold text-slate-900 mb-4 flex items-center",children:[i.jsx(iu,{className:"mr-2 text-pink-500",size:20}),"Preparation Steps"]}),i.jsxs("div",{className:"space-y-4 text-slate-600 leading-relaxed text-sm",children:[e.lastSolvedFor==="solute"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["1. Measure ",i.jsxs("span",{className:"font-bold text-slate-900",children:[q(M(e.solute))," ",e.soluteUnit]})," of solute."]}),i.jsxs("p",{children:[e.mode==="ww"?"2. Add solvent until the total mass reaches ":"2. Add solvent until the total volume reaches ",i.jsxs("span",{className:"font-bold text-slate-900",children:[q(M(e.total))," ",e.totalUnit]}),"."]})]}),e.lastSolvedFor==="total"&&i.jsxs("p",{children:["Using ",i.jsxs("span",{className:"font-bold text-slate-900",children:[e.solute," ",e.soluteUnit]})," of solute allows you to prepare ",i.jsxs("span",{className:"font-bold text-slate-900",children:[q(M(e.total))," ",e.totalUnit]})," of ",e.percent,"% solution."]}),e.lastSolvedFor==="percent"&&i.jsxs("p",{children:["The resulting concentration is ",i.jsxs("span",{className:"font-bold text-slate-900",children:[q(M(e.percent)),"% ",e.mode==="wv"?"w/v":e.mode==="vv"?"v/v":"w/w"]}),"."]})]})]}),i.jsxs("div",{className:"bg-slate-100 p-4 rounded-xl text-xs font-mono text-slate-600 space-y-2",children:[i.jsx("div",{className:"font-bold text-slate-800 border-b border-slate-200 pb-1 mb-2",children:"Math Breakdown"}),e.mode==="wv"&&i.jsx("p",{children:"Percent (w/v) = (Mass Solute [g] / Vol Solution [mL])  100"}),e.mode==="vv"&&i.jsx("p",{children:"Percent (v/v) = (Vol Solute [mL] / Vol Solution [mL])  100"}),e.mode==="ww"&&i.jsx("p",{children:"Percent (w/w) = (Mass Solute [g] / Mass Solution [g])  100"}),p&&i.jsxs("p",{className:"text-blue-600 mt-2",children:["* Mass Solution = Vol (",e.total," ",e.totalUnit,")   (",e.density," g/mL)"]})]})]}):i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-400 py-12",children:[i.jsx(ey,{size:48,className:"mb-4 text-slate-300",strokeWidth:1}),i.jsx("p",{className:"font-medium text-slate-500",children:"Ready to calculate"}),i.jsx("p",{className:"text-sm mt-2 max-w-[200px]",children:"Select a mode (w/v, v/v, or w/w) and fill in 2 values."})]})})})]})]})},Gy=()=>{const[e,t]=_.useState({mode:"prep",prepType:"mass",prepMassTarget:"",prepMassActual:"",prepVolTarget:"",prepVolActual:"",prepSoluteMass:"",targetConc:"",actualConc:"",currentVol:"",targetPh:"",actualPh:"",targetMoi:"",cellCount:"",virusTiter:"",virusVolAdded:""}),[n,o]=_.useState(null),r=d=>{t(f=>({...f,mode:d})),o(null)},s=d=>{t(f=>({...f,[d.target.name]:d.target.value===""?"":parseFloat(d.target.value)})),o(null)},l=()=>{const{mode:d}=e;let f=0,p="minor",m="",h="",g="",v="ok";if(d==="prep")if(e.prepType==="mass"){const C=M(e.prepMassTarget),y=M(e.prepMassActual),x=M(e.prepVolTarget);if(!C||!y||!x)return;if(f=(y-C)/C*100,Math.abs(f)<1)m="Within Tolerance",h="The mass difference is negligible.",v="ok";else if(f>0){const S=x*(y/C),N=S-x;m="Added Too Much Powder",h=`You added ${y}g instead of ${C}g (${f.toFixed(1)}% extra).`,g=i.jsxs("span",{children:["Increase the total solution volume to ",i.jsxs("strong",{className:"text-blue-600",children:[q(S)," units"]}),".",i.jsx("br",{}),i.jsxs("span",{className:"text-sm text-slate-500 mt-2 block",children:["Add roughly ",i.jsxs("strong",{children:[q(N)," units"]})," of solvent to your current preparation."]})]}),v="dilute"}else{const S=C-y;m="Added Too Little Powder",h=`You added ${y}g instead of ${C}g.`,g=i.jsxs("span",{children:["Simply add ",i.jsxs("strong",{className:"text-emerald-600",children:[q(S),"g"]})," more solute to the mix."]}),v="add"}}else{const C=M(e.prepVolTarget),y=M(e.prepVolActual),x=M(e.prepSoluteMass);if(!C||!y||!x)return;if(f=(y-C)/C*100,Math.abs(f)<1)m="Volume OK",h="The volume is correct.",v="ok";else if(f>0){const E=x/C*y-x;m="Overshot Volume",h=`You filled to ${y} instead of ${C}. The solution is dilute.`,g=i.jsxs("span",{children:["Compensate by adding ",i.jsxs("strong",{className:"text-emerald-600",children:[q(E)," units"]})," more solute (mass).",i.jsx("br",{}),i.jsx("span",{className:"text-xs text-slate-400 mt-1 block",children:"This creates a larger volume of the correct concentration."})]}),v="add"}else{const S=C-y;m="Undershot Volume",h=`You have ${y} but need ${C}.`,g=i.jsxs("span",{children:["Add ",i.jsxs("strong",{className:"text-blue-600",children:[q(S)," units"]})," of solvent to reach the target volume."]}),v="dilute"}}if(d==="concentration"){const C=M(e.targetConc),y=M(e.actualConc),x=M(e.currentVol);if(!C||!y||!x)return;if(f=(y-C)/C*100,Math.abs(f)<1)m="Perfect Match",h="The concentration is effectively accurate.",g="No adjustment needed.",v="ok";else if(f>0){const S=y*x/C,N=S-x;m="Too Concentrated",h=`You are ${f.toFixed(1)}% over target.`,g=i.jsxs("span",{children:["Add ",i.jsxs("strong",{className:"text-blue-600",children:[q(N)," units"]})," of solvent to your current ",x," units.",i.jsx("br",{}),i.jsxs("span",{className:"text-sm text-slate-500 mt-1 block",children:["Final Total Volume: ",q(S)]})]}),v="dilute"}else{const S=C*x-y*x;m="Too Dilute",h=`You are ${Math.abs(f).toFixed(1)}% under target.`,g=i.jsxs("span",{children:["Add ",i.jsxs("strong",{className:"text-emerald-600",children:[q(S)," units"]})," of solute (mass/moles) directly to your current solution.",i.jsx("br",{}),i.jsx("span",{className:"text-sm text-slate-500 mt-1 block",children:"Do not add more liquid. Dissolve gently."})]}),v="add"}}if(d==="ph"){const C=M(e.targetPh),y=M(e.actualPh);if(!C||!y)return;const x=y-C;f=Math.abs(x)/C*100,Math.abs(x)<.05?(m="pH Acceptable",h=`pH ${y} is within acceptable range.`,g="No adjustment needed.",v="ok"):x>0?(m="Too Basic (High pH)",h=`Overshot by ${x.toFixed(2)} units.`,x>2?(g="Critical error (>100x [H+]). Adding enough acid to fix this will significantly alter salt concentration/ionic strength. Remake recommended.",v="remake"):(g="Add Acid (HCl) dropwise. Calculate volume based on acid molarity if known, otherwise titrate slowly.",v="add")):(m="Too Acidic (Low pH)",h=`Undershot by ${Math.abs(x).toFixed(2)} units.`,Math.abs(x)>2?(g="Critical error. Adding base will alter ionic strength significantly. Remake recommended.",v="remake"):(g="Add Base (NaOH) dropwise. Watch for temperature spikes.",v="add"))}if(d==="moi"){const C=M(e.targetMoi),y=M(e.cellCount),x=M(e.virusTiter),S=M(e.virusVolAdded);if(!C||!y||!x||!S)return;const N=S/1e3,E=x*N/y;if(f=(E-C)/C*100,Math.abs(f)<10)m="MOI Acceptable",h=`Actual MOI ${E.toFixed(2)} is close to target.`,g="Proceed.",v="ok";else if(f>0)m="MOI Too High",h=`Actual: ${E.toFixed(2)} (Target: ${C})`,g="Wash cells immediately if not incubated. Otherwise, note toxicity potential.",v="remake";else{m="MOI Too Low",h=`Actual: ${E.toFixed(2)} (Target: ${C})`;const k=C*y/x*1e3-S;g=i.jsxs("span",{children:["Add ",i.jsxs("strong",{className:"text-emerald-600",children:[q(k)," L"]})," more virus stock."]}),v="add"}}const w=Math.abs(f);v==="remake"?p="fatal":w<5?p="minor":w<20?p="moderate":p="critical",o({errorPercent:f,severity:p,header:m,message:h,correction:g,actionType:v})},u=d=>{switch(d){case"minor":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"moderate":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"critical":return"bg-orange-100 text-orange-800 border-orange-200";case"fatal":return"bg-red-100 text-red-800 border-red-200"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ve,{title:"Oops Calculator",description:"Salvage logic for common laboratory mistakes."}),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[{id:"prep",label:"Weigh/Vol Error",icon:ny},{id:"concentration",label:"Conc. Fix",icon:Ol},{id:"ph",label:"pH Adjust",icon:ru},{id:"moi",label:"Virus MOI",icon:th}].map(d=>i.jsxs("button",{onClick:()=>r(d.id),className:`p-4 rounded-2xl border transition-all flex flex-col items-center justify-center space-y-2 relative overflow-hidden
                    ${e.mode===d.id?"bg-slate-900 text-white border-slate-900 shadow-xl scale-105 z-10":"bg-white border-slate-200 text-slate-500 hover:border-pink-300 hover:text-pink-600"}`,children:[i.jsx(d.icon,{size:24}),i.jsx("span",{className:"font-semibold text-xs uppercase tracking-wide",children:d.label})]},d.id))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsx("div",{className:"lg:col-span-6 space-y-6",children:i.jsx(O,{title:"Diagnose",children:i.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[e.mode==="prep"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl mb-4",children:[i.jsx("button",{onClick:()=>{t(d=>({...d,prepType:"mass"})),o(null)},className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${e.prepType==="mass"?"bg-white shadow-sm text-pink-600":"text-slate-500"}`,children:"Mass Error"}),i.jsx("button",{onClick:()=>{t(d=>({...d,prepType:"volume"})),o(null)},className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${e.prepType==="volume"?"bg-white shadow-sm text-pink-600":"text-slate-500"}`,children:"Volume Error"})]}),e.prepType==="mass"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100 text-xs text-blue-800 leading-relaxed",children:[i.jsx("strong",{children:"Scenario:"})," You were supposed to add ",i.jsx("b",{children:"X"})," grams, but you accidentally added ",i.jsx("b",{children:"Y"})," grams."]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(V,{label:"Wanted Mass",name:"prepMassTarget",value:e.prepMassTarget,onChange:s,placeholder:"e.g. 422g",unit:"g/mg"}),i.jsx(V,{label:"Added Mass",name:"prepMassActual",value:e.prepMassActual,onChange:s,placeholder:"e.g. 436g",unit:"g/mg"})]}),i.jsx(V,{label:"Planned Total Volume",name:"prepVolTarget",value:e.prepVolTarget,onChange:s,placeholder:"The volume you intended to make",unit:"mL/L"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 bg-purple-50 rounded-xl border border-purple-100 text-xs text-purple-800 leading-relaxed",children:[i.jsx("strong",{children:"Scenario:"})," You filled the beaker to ",i.jsx("b",{children:"X"})," mL instead of ",i.jsx("b",{children:"Y"})," mL (overshot volume)."]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(V,{label:"Wanted Volume",name:"prepVolTarget",value:e.prepVolTarget,onChange:s,placeholder:"e.g. 400",unit:"mL"}),i.jsx(V,{label:"Added Volume",name:"prepVolActual",value:e.prepVolActual,onChange:s,placeholder:"e.g. 500",unit:"mL"})]}),i.jsx(V,{label:"Solute Mass in Solution",name:"prepSoluteMass",value:e.prepSoluteMass,onChange:s,placeholder:"Total mass of powder currently inside",unit:"g/mg"})]})]}),e.mode==="concentration"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100 mb-4 text-xs text-blue-800",children:[i.jsx("strong",{children:"Use Case:"})," You have a solution of unknown error and you measured the actual concentration (e.g. via OD)."]}),i.jsx(V,{label:"Target Concentration",name:"targetConc",value:e.targetConc,onChange:s,placeholder:"e.g. 50 mM"}),i.jsx(V,{label:"Actual Concentration",name:"actualConc",value:e.actualConc,onChange:s,placeholder:"Measured Conc"}),i.jsx(V,{label:"Current Volume",name:"currentVol",value:e.currentVol,onChange:s,placeholder:"Total Vol"})]}),e.mode==="ph"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 bg-pink-50 rounded-xl border border-pink-100 mb-4 text-xs text-pink-800",children:[i.jsx("strong",{children:"Use Case:"})," You overshot your pH adjustment."]}),i.jsx(V,{label:"Target pH",name:"targetPh",value:e.targetPh,onChange:s,placeholder:"e.g. 7.4"}),i.jsx(V,{label:"Actual pH",name:"actualPh",value:e.actualPh,onChange:s,placeholder:"Reading"})]}),e.mode==="moi"&&i.jsxs(i.Fragment,{children:[i.jsx(V,{label:"Target MOI",name:"targetMoi",value:e.targetMoi,onChange:s,placeholder:"e.g. 5"}),i.jsx(V,{label:"Number of Cells",name:"cellCount",value:e.cellCount,onChange:s,placeholder:"Total cells"}),i.jsx(V,{label:"Viral Titer (pfu/mL)",name:"virusTiter",value:e.virusTiter,onChange:s,placeholder:"Stock conc"}),i.jsx(V,{label:"Virus Vol Added (L)",name:"virusVolAdded",value:e.virusVolAdded,onChange:s,placeholder:"Added vol"})]}),i.jsx(B,{onClick:l,size:"lg",className:"w-full bg-slate-900 hover:bg-slate-800 text-white shadow-lg shadow-slate-900/20",icon:i.jsx(lo,{size:18}),children:"Calculate Fix"})]})})}),i.jsx("div",{className:"lg:col-span-6 space-y-6",children:n?i.jsx(O,{title:"Correction Plan",className:`h-full border-2 ${n.severity==="fatal"?"border-red-200 bg-red-50/30":"border-slate-200"}`,children:i.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${u(n.severity)}`,children:[n.severity," Issue"]})}),i.jsxs("div",{className:"text-center py-6",children:[n.actionType==="ok"&&i.jsx(lu,{className:"mx-auto h-16 w-16 text-emerald-400 mb-4"}),n.actionType==="dilute"&&i.jsx(Ol,{className:"mx-auto h-16 w-16 text-blue-400 mb-4"}),n.actionType==="add"&&i.jsx(ht,{className:"mx-auto h-16 w-16 text-emerald-500 mb-4"}),n.actionType==="remake"&&i.jsx(fu,{className:"mx-auto h-16 w-16 text-red-500 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:n.header}),i.jsx("p",{className:"text-slate-500 mt-2",children:n.message})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[i.jsxs("h4",{className:"font-bold text-slate-700 mb-2 flex items-center",children:[i.jsx(rr,{className:"mr-2 h-4 w-4 text-red-500"}),"Fix"]}),i.jsx("div",{className:"text-slate-800 text-lg leading-relaxed",children:n.correction})]}),n.severity==="critical"||n.severity==="fatal"?i.jsxs("div",{className:"text-xs text-red-600 bg-red-50 p-3 rounded-lg border border-red-100",children:[i.jsx("b",{children:"Warning:"})," Large corrections introduce errors. For sensitive experiments, start over."]}):null]})}):i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-400 border-2 border-dashed border-slate-200 rounded-[32px] p-12 bg-slate-50/50",children:[i.jsx(ht,{size:48,className:"mb-4 text-slate-300",strokeWidth:1}),i.jsx("p",{className:"font-medium text-slate-500",children:"Waiting for Data"}),i.jsx("p",{className:"text-sm mt-2 max-w-[250px]",children:"Select a mode and enter your mistake to generate a correction protocol."})]})})]})]})},Gi={AA:{dH:-7.9,dS:-22.2},TT:{dH:-7.9,dS:-22.2},AT:{dH:-7.2,dS:-20.4},TA:{dH:-7.2,dS:-21.3},CA:{dH:-8.5,dS:-22.7},TG:{dH:-8.5,dS:-22.7},GT:{dH:-8.4,dS:-22.4},AC:{dH:-8.4,dS:-22.4},CT:{dH:-7.8,dS:-21},AG:{dH:-7.8,dS:-21},GA:{dH:-8.2,dS:-22.2},TC:{dH:-8.2,dS:-22.2},CG:{dH:-10.6,dS:-27.2},GC:{dH:-9.8,dS:-24.4},GG:{dH:-8,dS:-19.9},CC:{dH:-8,dS:-19.9}},Rr={dH:.1,dS:-2.8},Mr={dH:2.3,dS:4.1},Hy=50,pu=e=>e.replace(/[^a-zA-Z]/g,"").toUpperCase(),By=e=>({A:"T",T:"A",G:"C",C:"G",U:"A",N:"N"})[e]||"N",zy=e=>e.split("").reverse().map(By).join(""),Is=(e,t)=>{const n=pu(e);if(!n)return{seq:e,cleanSeq:"",length:0,gc:0,tmBasic:0,tmNN:0,molecularWeight:0,isValid:!1};if(/[^ATGC]/.test(n))return{seq:e,cleanSeq:n,length:n.length,gc:0,tmBasic:0,tmNN:0,molecularWeight:0,isValid:!1,error:"Contains non-ATGC"};const o=n.length,r=(n.match(/G/g)||[]).length,s=(n.match(/C/g)||[]).length,l=(n.match(/A/g)||[]).length,u=(n.match(/T/g)||[]).length,d=(r+s)/o*100,f=l*313.2+s*289.2+r*329.2+u*304.2-61.96;let p=o<14?(l+u)*2+(r+s)*4:64.9+41*(r+s-16.4)/o,m=0,h=0;const g=n[0],v=n[o-1];g==="G"||g==="C"?(m+=Rr.dH,h+=Rr.dS):(m+=Mr.dH,h+=Mr.dS),v==="G"||v==="C"?(m+=Rr.dH,h+=Rr.dS):(m+=Mr.dH,h+=Mr.dS);for(let N=0;N<o-1;N++){const E=n.slice(N,N+2);Gi[E]&&(m+=Gi[E].dH,h+=Gi[E].dS)}const w=16.6*Math.log10(Hy/1e3),C=1.987,y=t*1e-9,x=C*Math.log(y/4),S=m*1e3/(h+x)-273.15+w;return{seq:e,cleanSeq:n,length:o,gc:d,tmBasic:p,tmNN:S,molecularWeight:f,isValid:!0}},qy=(e,t)=>{const n=pu(e),o=n.length;if(o<t.minProd)return[];const r=[],s=[];for(let p=0;p<o-t.minProd;p++)for(let m=t.minLen;m<=t.maxLen&&!(p+m>o);m++){const h=n.substring(p,p+m),g=Is(h,500);g.isValid&&g.tmNN>=t.minTm-5&&g.tmNN<=t.maxTm+5&&r.push({...g,start:p,end:p+m-1,strand:"sense"})}for(let p=t.minProd;p<o;p++)for(let m=t.minLen;m<=t.maxLen;m++){if(p-m<0)continue;const h=p-m+1,g=p,v=n.substring(h,g+1),w=zy(v),C=Is(w,500);C.isValid&&C.tmNN>=t.minTm-5&&C.tmNN<=t.maxTm+5&&s.push({...C,start:h,end:g,strand:"antisense"})}const l=[],u=300;r.sort((p,m)=>Math.abs(p.tmNN-t.optTm)-Math.abs(m.tmNN-t.optTm)),s.sort((p,m)=>Math.abs(p.tmNN-t.optTm)-Math.abs(m.tmNN-t.optTm));const d=r.slice(0,u),f=s.slice(0,u);for(const p of d)for(const m of f){if(m.end<=p.start)continue;const h=m.end-p.start+1;if(h<t.minProd||h>t.maxProd||p.tmNN<t.minTm||p.tmNN>t.maxTm||m.tmNN<t.minTm||m.tmNN>t.maxTm)continue;const g=Math.abs(p.tmNN-m.tmNN);if(g>5)continue;const v=Math.abs(p.tmNN-t.optTm)+Math.abs(m.tmNN-t.optTm),w=g*2,C=(Math.abs(p.gc-50)+Math.abs(m.gc-50))*.1,y=p.seq.endsWith("G")||p.seq.endsWith("C")?0:2,x=m.seq.endsWith("G")||m.seq.endsWith("C")?0:2,S=v+w+C+y+x;l.push({id:`${p.start}-${m.end}`,forward:p,reverse:m,productSize:h,tmDiff:g,score:S})}return l.sort((p,m)=>p.score-m.score).slice(0,20)},Oy=({children:e,className:t="",title:n})=>i.jsxs("div",{className:`relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-2xl overflow-hidden ${t}`,children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-white/5 to-transparent pointer-events-none"}),n&&i.jsx("h3",{className:"relative text-xl font-bold text-white mb-4 tracking-tight flex items-center",children:n}),i.jsx("div",{className:"relative z-10",children:e})]}),Pr=({label:e,right:t,className:n="",...o})=>i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-blue-200 uppercase tracking-wider ml-1",children:e}),i.jsxs("div",{className:"relative group",children:[i.jsx("input",{...o,className:`w-full bg-black/20 border border-white/10 rounded-2xl py-3 pl-4 pr-10 text-white placeholder-white/30 focus:outline-none focus:ring-2 focus:ring-cyan-400/50 focus:border-cyan-400/50 transition-all ${n}`}),t&&i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/50",children:t})]})]}),$y=()=>{const[e,t]=_.useState("analyze"),[n,o]=_.useState(""),[r,s]=_.useState(""),[l,u]=_.useState(""),[d,f]=_.useState({minProd:100,maxProd:1e3,minLen:18,maxLen:24,minTm:55,maxTm:65,optTm:60}),[p,m]=_.useState([]),[h,g]=_.useState(!1),[v,w]=_.useState(!1),[C,y]=_.useState(null),[x,S]=_.useState("q5"),[N,E]=_.useState(500),T=_.useMemo(()=>Is(n,N),[n,N]),I=_.useMemo(()=>Is(r,N),[r,N]),k=T.isValid&&I.isValid?Math.abs(T.tmNN-I.tmNN):0,b=_.useMemo(()=>{if(!T.isValid||!I.isValid)return null;const F=Math.min(T.tmNN,I.tmNN);return Math.floor(x==="q5"?F:x==="phusion"?F+3:F-5)},[T,I,x]),A=_.useCallback(async()=>{l&&(g(!0),w(!0),m([]),setTimeout(()=>{const F=qy(l,d);m(F),F.length>0&&y(F[0].id),g(!1)},50))},[l,d]),D=p.find(F=>F.id===C);return e==="design"?i.jsxs("div",{className:"bg-gradient-to-br from-[#0f172a] via-[#1e1b4b] to-[#312e81] -mx-4 sm:-mx-6 lg:-mx-8 -my-8 md:-my-12 p-4 sm:p-6 lg:p-8 text-white relative min-h-[calc(100vh-64px)] overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-purple-600/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-cyan-600/20 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2 pointer-events-none"}),i.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-8",children:i.jsxs("div",{children:[i.jsxs("button",{onClick:()=>t("analyze"),className:"flex items-center text-cyan-300 hover:text-white transition-colors mb-2 text-sm font-bold tracking-wider uppercase",children:[i.jsx(Ux,{size:16,className:"mr-2"})," Back to Standard Analysis"]}),i.jsx("h1",{className:"text-4xl md:text-5xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-400",children:"Primer Designer"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-fadeIn",children:[i.jsx("div",{className:"lg:col-span-4 space-y-6",children:i.jsx(Oy,{title:"Mission Parameters",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-blue-200 uppercase tracking-wider ml-1 mb-2 block",children:"Template Sequence"}),i.jsx("textarea",{value:l,onChange:F=>u(F.target.value),className:"w-full bg-black/20 border border-white/10 rounded-2xl p-4 text-white font-mono text-xs h-32 focus:outline-none focus:border-cyan-400/50 focus:ring-1 focus:ring-cyan-400/50 transition-all placeholder-white/20 resize-none",placeholder:"PASTE DNA HERE..."}),i.jsxs("div",{className:"text-right text-[10px] text-white/40 mt-1 font-mono",children:[pu(l).length," BP"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Pr,{label:"Min Prod",value:d.minProd,onChange:F=>f($=>({...$,minProd:M(F.target.value)}))}),i.jsx(Pr,{label:"Max Prod",value:d.maxProd,onChange:F=>f($=>({...$,maxProd:M(F.target.value)}))}),i.jsx(Pr,{label:"Min Tm",value:d.minTm,onChange:F=>f($=>({...$,minTm:M(F.target.value)}))}),i.jsx(Pr,{label:"Max Tm",value:d.maxTm,onChange:F=>f($=>({...$,maxTm:M(F.target.value)}))})]}),i.jsxs("button",{onClick:A,disabled:h||l.length<20,className:"w-full py-4 rounded-2xl font-bold text-white bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 hover:to-pink-400 shadow-lg shadow-purple-900/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform active:scale-95 flex items-center justify-center space-x-2",children:[h?i.jsx(ht,{className:"animate-spin"}):i.jsx(cy,{fill:"currentColor"}),i.jsx("span",{children:h?"Scanning Sector...":"Generate Primers"})]})]})})}),i.jsx("div",{className:"lg:col-span-8",children:p.length>0?i.jsxs("div",{className:"space-y-6",children:[D&&i.jsxs("div",{className:"relative bg-gradient-to-r from-slate-900 to-slate-800 rounded-3xl p-8 border border-white/10 shadow-2xl overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:i.jsx(Xr,{size:120})}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs font-bold text-emerald-400 uppercase tracking-widest mb-1",children:"Best Candidate"}),i.jsxs("div",{className:"text-3xl font-bold text-white",children:[D.productSize," bp ",i.jsx("span",{className:"text-lg text-white/50 font-normal",children:"Amplicon"})]})]}),i.jsxs("div",{className:"bg-emerald-500/20 text-emerald-300 px-3 py-1 rounded-full text-xs font-bold border border-emerald-500/30",children:["Score: ",D.score.toFixed(1)]})]}),i.jsxs("div",{className:"h-4 bg-white/5 rounded-full relative w-full mb-8 overflow-hidden",children:[i.jsx("div",{className:"absolute left-0 h-full bg-cyan-500 w-[15%]"}),i.jsx("div",{className:"absolute right-0 h-full bg-purple-500 w-[15%]"}),i.jsx("div",{className:"absolute left-[15%] right-[15%] top-1/2 -translate-y-1/2 h-0.5 bg-white/20"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-400 shadow-[0_0_8px_cyan]"}),i.jsx("span",{className:"text-cyan-200 font-bold text-sm",children:"Forward (Sense)"})]}),i.jsx("div",{className:"font-mono text-sm text-white/90 break-all mb-1",children:D.forward.cleanSeq}),i.jsxs("div",{className:"text-xs text-white/50",children:["Tm: ",D.forward.tmNN.toFixed(1),"C | GC: ",D.forward.gc.toFixed(0),"%"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2 justify-end",children:[i.jsx("span",{className:"text-purple-200 font-bold text-sm",children:"Reverse (Antisense)"}),i.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-400 shadow-[0_0_8px_purple]"})]}),i.jsx("div",{className:"font-mono text-sm text-white/90 break-all mb-1",children:D.reverse.cleanSeq}),i.jsxs("div",{className:"text-xs text-white/50",children:["Tm: ",D.reverse.tmNN.toFixed(1),"C | GC: ",D.reverse.gc.toFixed(0),"%"]})]})]})]})]}),i.jsx("div",{className:"space-y-3",children:p.map((F,$)=>i.jsxs("div",{onClick:()=>y(F.id),className:`p-4 rounded-2xl flex items-center justify-between cursor-pointer transition-all border ${C===F.id?"bg-white/10 border-white/30":"bg-transparent border-white/5 hover:bg-white/5"}`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"text-white/30 font-bold font-mono text-lg w-8",children:["#",$+1]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-white font-bold",children:[F.productSize," bp"]}),i.jsxs("div",{className:"text-xs text-white/50 flex space-x-3",children:[i.jsxs("span",{className:"text-cyan-200",children:["F: ",F.forward.tmNN.toFixed(1),""]}),i.jsxs("span",{className:"text-purple-200",children:["R: ",F.reverse.tmNN.toFixed(1),""]})]})]})]}),i.jsx("div",{className:"text-right",children:C===F.id?i.jsx(lu,{className:"text-emerald-400",size:20}):i.jsx(rr,{className:"text-white/20",size:20})})]},F.id))})]}):i.jsx("div",{className:"h-full min-h-[400px] flex flex-col items-center justify-center text-center p-8 border-2 border-dashed border-white/10 rounded-3xl bg-white/5",children:h?i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full mb-4 mx-auto"}),i.jsx("div",{className:"text-white/50",children:"Scanning genome sector..."})]}):v?i.jsxs(i.Fragment,{children:[i.jsx(fu,{size:48,className:"text-red-400 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white",children:"No Candidates Found"}),i.jsx("p",{className:"text-white/50 mt-2 max-w-sm",children:"Relax constraints (Tm range, Product size) to expand search parameters."})]}):i.jsxs(i.Fragment,{children:[i.jsx(Kx,{size:48,className:"text-white/20 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white",children:"Awaiting Input"}),i.jsx("p",{className:"text-white/50 mt-2 max-w-sm",children:"Enter template sequence to begin primer generation."})]})})})]})]})]}):i.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[i.jsx(ve,{title:"Primer Engine",description:"Analyze existing sequences using thermodynamic modeling.",action:i.jsx(B,{variant:"outline",onClick:()=>window.print(),icon:i.jsx(tn,{size:16}),children:"Print Report"})}),i.jsxs("div",{className:"bg-gradient-to-r from-slate-900 to-slate-800 rounded-3xl p-8 text-white relative overflow-hidden shadow-xl",children:[i.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20",children:i.jsx(Xr,{size:180})}),i.jsxs("div",{className:"relative z-10 max-w-lg",children:[i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Design New Primers?"}),i.jsx("p",{className:"text-slate-300 mb-6",children:"Switch to our advanced Primer Designer interface to generate optimal pairs from templates."}),i.jsxs("button",{onClick:()=>t("design"),className:"bg-white text-slate-900 px-6 py-3 rounded-xl font-bold hover:bg-cyan-50 transition-colors flex items-center",children:["Launch Designer ",i.jsx(rr,{size:16,className:"ml-2"})]})]})]}),i.jsx(O,{title:"Reaction Parameters",className:"border-l-4 border-l-slate-900",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold text-slate-900",children:"Polymerase Model"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:x,onChange:F=>S(F.target.value),className:"block w-full appearance-none rounded-2xl border-slate-200 bg-slate-50 py-3 pl-4 pr-10 text-slate-900 focus:bg-white focus:border-pink-500 focus:ring-2 focus:ring-pink-500/20 sm:text-sm transition-all",children:[i.jsx("option",{value:"q5",children:"Q5 High-Fidelity"}),i.jsx("option",{value:"phusion",children:"Phusion High-Fidelity (HF Buffer)"}),i.jsx("option",{value:"taq",children:"Standard Taq / OneTaq"})]}),i.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-slate-500",children:i.jsx(ni,{size:16})})]}),i.jsxs("p",{className:"text-xs text-slate-500 ml-1",children:["Affects Annealing Temp: ",x==="q5"?"Ta = Tm":x==="phusion"?"Ta = Tm + 3C":"Ta = Tm - 5C"]})]}),i.jsx(V,{label:"Primer Concentration (nM)",value:N,onChange:F=>E(M(F.target.value)),placeholder:"500",rightElement:i.jsx("span",{className:"text-xs font-bold text-slate-500",children:"nM"})})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h2",{className:"font-bold text-slate-800 flex items-center",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-xs mr-2",children:"F"}),"Forward Primer"]}),i.jsx("textarea",{className:"w-full p-4 rounded-2xl border-2 border-slate-200 focus:border-blue-500 focus:ring-0 font-mono text-sm uppercase transition-colors",rows:2,placeholder:"5'-ATCG...-3'",value:n,onChange:F=>o(F.target.value)}),T.isValid&&i.jsx($c,{p:T,color:"blue"}),T.error&&i.jsx(Wc,{msg:T.error})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h2",{className:"font-bold text-slate-800 flex items-center",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs mr-2",children:"R"}),"Reverse Primer"]}),i.jsx("textarea",{className:"w-full p-4 rounded-2xl border-2 border-slate-200 focus:border-indigo-500 focus:ring-0 font-mono text-sm uppercase transition-colors",rows:2,placeholder:"5'-ATCG...-3'",value:r,onChange:F=>s(F.target.value)}),I.isValid&&i.jsx($c,{p:I,color:"indigo"}),I.error&&i.jsx(Wc,{msg:I.error})]})]}),i.jsx("div",{className:"space-y-6",children:i.jsx(O,{title:"Thermodynamics",className:"h-full bg-slate-50/50",children:T.isValid&&I.isValid&&b!==null?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Rec. Annealing Temp"}),i.jsxs("div",{className:"text-4xl font-bold text-slate-900",children:[b," C"]})]}),i.jsx(ly,{size:32,className:"text-emerald-500"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-white rounded-xl border border-slate-100",children:[i.jsx("span",{className:"text-slate-600",children:"Tm Difference (Tm)"}),i.jsxs("span",{className:`font-mono font-bold ${k>5?"text-red-500":"text-emerald-600"}`,children:[k.toFixed(1)," C"]})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-white rounded-xl border border-slate-100",children:[i.jsx("span",{className:"text-slate-600",children:"Salt Correction"}),i.jsx("span",{className:"text-slate-900",children:"SantaLucia 1998"})]})]}),k>5&&i.jsxs("div",{className:"flex items-start p-3 bg-amber-50 text-amber-800 rounded-lg text-sm border border-amber-100",children:[i.jsx(su,{size:16,className:"mr-2 mt-0.5 flex-shrink-0"}),i.jsxs("p",{children:["High Tm (",">","5C)"]})]})]}):i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[i.jsx(Xr,{size:48,strokeWidth:1,className:"mb-4 opacity-50"}),i.jsx("p",{children:"Enter sequences to analyze"})]})})})]})]})},$c=({p:e,color:t,theme:n})=>n?i.jsxs("div",{className:`mt-2 p-3 rounded-xl bg-${n}-500/10 border border-${n}-500/20 flex justify-between text-xs`,children:[i.jsxs("div",{children:[i.jsx("span",{className:`text-${n}-200 block opacity-50 uppercase font-bold text-[10px]`,children:"Length"}),e.length,"bp"]}),i.jsxs("div",{children:[i.jsx("span",{className:`text-${n}-200 block opacity-50 uppercase font-bold text-[10px]`,children:"GC%"}),e.gc.toFixed(1),"%"]}),i.jsxs("div",{children:[i.jsx("span",{className:`text-${n}-200 block opacity-50 uppercase font-bold text-[10px]`,children:"Tm"}),e.tmNN.toFixed(1),"C"]})]}):i.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-100 shadow-sm text-xs grid grid-cols-3 gap-2 mt-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-400 block uppercase text-[10px] font-bold",children:"Length"}),i.jsxs("span",{className:"font-bold text-slate-700",children:[e.length," bp"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-400 block uppercase text-[10px] font-bold",children:"GC%"}),i.jsxs("span",{className:`font-bold ${e.gc<40||e.gc>60?"text-orange-500":"text-slate-700"}`,children:[e.gc.toFixed(1),"%"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-400 block uppercase text-[10px] font-bold",children:"Tm (NN)"}),i.jsxs("span",{className:`font-bold text-${t}-600`,children:[e.tmNN.toFixed(1),"C"]})]})]}),Wc=({msg:e})=>i.jsxs("div",{className:"mt-2 text-red-500 text-xs flex items-center bg-red-50 p-2 rounded-lg",children:[i.jsx(fu,{size:12,className:"mr-1"})," ",e]}),Hi=[{label:"Mini Gel (0.75mm)",resolving:5,stacking:2},{label:"Mini Gel (1.0mm)",resolving:7.5,stacking:3},{label:"Mini Gel (1.5mm)",resolving:10,stacking:4},{label:"Midi Gel (1.0mm)",resolving:20,stacking:8}],Jc=(e,t,n,o)=>{if(e<=0)return{water:0,buffer:0,acrylamide:0,sds:0,aps:0,temed:0,total:0};const r=t/n*e,s=e/4,l=e/100,u=e/100,d=e/1e3,f=e-(r+s+l+u+d);return{water:f<0?0:f,buffer:s,acrylamide:r,sds:l,aps:u,temed:d,total:e}},Wy=(e,t,n)=>t<=0?0:e*n/t,Jy=()=>{const[e,t]=_.useState("cast"),[n,o]=_.useState(30),[r,s]=_.useState(10),[l,u]=_.useState(7.5),[d,f]=_.useState(5),[p,m]=_.useState(3),[h,g]=_.useState(""),[v,w]=_.useState(""),[C,y]=_.useState(30),x=T=>{u(Hi[T].resolving),m(Hi[T].stacking)},S=Jc(M(l),M(r),n),N=Jc(M(p),M(d),n),E=Wy(M(h),M(v),C);return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ve,{title:"SDS-PAGE Calculator",description:"Formulate Resolving and Stacking gels using standard Laemmli buffers.",action:i.jsx(B,{variant:"outline",onClick:()=>window.print(),icon:i.jsx(tn,{size:16}),children:"Print Recipe"})}),i.jsx("div",{className:"flex justify-center mb-8",children:i.jsxs("div",{className:"bg-slate-100 p-1 rounded-xl inline-flex",children:[i.jsx("button",{onClick:()=>t("cast"),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all ${e==="cast"?"bg-white text-teal-700 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Cast Gel (Forward)"}),i.jsx("button",{onClick:()=>t("reverse"),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all ${e==="reverse"?"bg-white text-teal-700 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Check % (Reverse)"})]})}),e==="cast"?i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-fadeIn",children:[i.jsx("div",{className:"lg:col-span-5 space-y-6",children:i.jsx(O,{title:"Gel Configuration",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-slate-900 mb-2 block",children:"Acrylamide Stock Solution"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{className:"flex items-center space-x-2 border p-3 rounded-xl flex-1 cursor-pointer bg-slate-50 hover:bg-white hover:border-teal-200 transition-colors",children:[i.jsx("input",{type:"radio",checked:n===30,onChange:()=>o(30),className:"text-teal-600 focus:ring-teal-500"}),i.jsx("span",{className:"font-medium text-slate-700",children:"30% Stock"})]}),i.jsxs("label",{className:"flex items-center space-x-2 border p-3 rounded-xl flex-1 cursor-pointer bg-slate-50 hover:bg-white hover:border-teal-200 transition-colors",children:[i.jsx("input",{type:"radio",checked:n===40,onChange:()=>o(40),className:"text-teal-600 focus:ring-teal-500"}),i.jsx("span",{className:"font-medium text-slate-700",children:"40% Stock"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-slate-900 mb-2 block",children:"Plate Size Preset"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:Hi.map((T,I)=>i.jsx("button",{onClick:()=>x(I),className:"text-xs py-2 px-3 bg-white border border-slate-200 rounded-lg text-slate-600 hover:border-teal-400 hover:text-teal-700 transition-all text-left",children:T.label},T.label))})]}),i.jsx("hr",{className:"border-slate-100"}),i.jsxs("div",{className:"bg-teal-50/50 p-4 rounded-xl border border-teal-100",children:[i.jsxs("h4",{className:"font-bold text-teal-800 mb-3 flex items-center",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-teal-200 text-teal-800 flex items-center justify-center text-xs mr-2",children:"1"}),"Resolving (Lower) Gel"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(V,{label:"Percentage (%)",value:r,onChange:T=>s(M(T.target.value))}),i.jsx(V,{label:"Volume (mL)",value:l,onChange:T=>u(M(T.target.value))})]}),M(r)>n&&i.jsx("p",{className:"text-xs text-red-500 mt-2 font-medium",children:"Target % cannot exceed Stock %"})]}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[i.jsxs("h4",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-slate-200 text-slate-600 flex items-center justify-center text-xs mr-2",children:"2"}),"Stacking (Upper) Gel"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(V,{label:"Percentage (%)",value:d,onChange:T=>f(M(T.target.value))}),i.jsx(V,{label:"Volume (mL)",value:p,onChange:T=>m(M(T.target.value))})]})]})]})})}),i.jsx("div",{className:"lg:col-span-7",children:i.jsxs(O,{title:"Preparation Recipe",className:"h-full border-t-4 border-t-teal-500",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-slate-500 font-semibold uppercase tracking-wider text-xs",children:[i.jsx("th",{className:"px-4 py-3",children:"Component"}),i.jsxs("th",{className:"px-4 py-3 text-right bg-teal-50/50 text-teal-900 border-b-2 border-teal-200",children:["Resolving (",r,"%)"]}),i.jsxs("th",{className:"px-4 py-3 text-right",children:["Stacking (",d,"%)"]})]})}),i.jsxs("tbody",{className:"divide-y divide-slate-100",children:[i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-700",children:"HO (Water)"}),i.jsxs("td",{className:"px-4 py-3 text-right font-mono bg-teal-50/20",children:[S.water.toFixed(2)," mL"]}),i.jsxs("td",{className:"px-4 py-3 text-right font-mono",children:[N.water.toFixed(2)," mL"]})]}),i.jsxs("tr",{children:[i.jsxs("td",{className:"px-4 py-3 font-medium text-slate-700",children:["Acrylamide (",n,"%)"]}),i.jsxs("td",{className:"px-4 py-3 text-right font-mono bg-teal-50/20 font-bold text-teal-700",children:[S.acrylamide.toFixed(2)," mL"]}),i.jsxs("td",{className:"px-4 py-3 text-right font-mono font-bold text-slate-700",children:[N.acrylamide.toFixed(2)," mL"]})]}),i.jsxs("tr",{children:[i.jsxs("td",{className:"px-4 py-3 font-medium text-slate-700",children:["Tris Buffer",i.jsxs("div",{className:"text-[10px] text-slate-400 font-normal",children:["Resolving: 1.5M pH 8.8",i.jsx("br",{}),"Stacking: 0.5M pH 6.8"]})]}),i.jsxs("td",{className:"px-4 py-3 text-right font-mono bg-teal-50/20",children:[S.buffer.toFixed(2)," mL"]}),i.jsxs("td",{className:"px-4 py-3 text-right font-mono",children:[N.buffer.toFixed(2)," mL"]})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-700",children:"SDS (10%)"}),i.jsxs("td",{className:"px-4 py-3 text-right font-mono bg-teal-50/20",children:[(S.sds*1e3).toFixed(0)," L"]}),i.jsxs("td",{className:"px-4 py-3 text-right font-mono",children:[(N.sds*1e3).toFixed(0)," L"]})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-700",children:"APS (10%)"}),i.jsxs("td",{className:"px-4 py-3 text-right font-mono bg-teal-50/20",children:[(S.aps*1e3).toFixed(0)," L"]}),i.jsxs("td",{className:"px-4 py-3 text-right font-mono",children:[(N.aps*1e3).toFixed(0)," L"]})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-700",children:"TEMED"}),i.jsxs("td",{className:"px-4 py-3 text-right font-mono bg-teal-50/20",children:[(S.temed*1e3).toFixed(1)," L"]}),i.jsxs("td",{className:"px-4 py-3 text-right font-mono",children:[(N.temed*1e3).toFixed(1)," L"]})]}),i.jsxs("tr",{className:"bg-slate-50 font-bold border-t-2 border-slate-200",children:[i.jsx("td",{className:"px-4 py-3",children:"Total Volume"}),i.jsxs("td",{className:"px-4 py-3 text-right",children:[S.total.toFixed(2)," mL"]}),i.jsxs("td",{className:"px-4 py-3 text-right",children:[N.total.toFixed(2)," mL"]})]})]})]})}),S.water<=0&&i.jsx("div",{className:"mt-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 flex items-center",children:"Invalid Recipe: Total volume is too small for the desired percentage using this stock solution."})]})})]}):i.jsx("div",{className:"max-w-3xl mx-auto animate-fadeIn",children:i.jsx(O,{title:"Reverse Calculator: Calculate Gel %",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(Yt,{label:"Stock Concentration",value:C,onChange:T=>y(parseInt(T.target.value)),children:[i.jsx("option",{value:30,children:"30% Stock"}),i.jsx("option",{value:40,children:"40% Stock"})]}),i.jsx("div",{className:"hidden md:block"}),i.jsx(V,{label:"Acrylamide Vol Added",value:h,onChange:T=>g(M(T.target.value)),unit:"mL",placeholder:"Volume"}),i.jsx(V,{label:"Total Gel Volume",value:v,onChange:T=>w(M(T.target.value)),unit:"mL",placeholder:"Total"})]}),i.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl flex items-center justify-between border border-slate-200",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Resulting Percentage"}),i.jsxs("p",{className:"text-slate-400 text-xs",children:["Based on ",C,"% stock"]})]}),i.jsxs("div",{className:"text-4xl font-bold text-teal-600",children:[E>0?E.toFixed(2):"--",i.jsx("span",{className:"text-lg text-slate-400 font-medium ml-1",children:"%"})]})]})]})})})]})},Ky=()=>{const[e,t]=_.useState({liveCount:"",deadCount:"",squaresCounted:4,dilutionFactor:2,totalVolume:""}),n=y=>{t(x=>({...x,[y.target.name]:y.target.value===""?"":parseFloat(y.target.value)}))},o=()=>{t({liveCount:"",deadCount:"",squaresCounted:4,dilutionFactor:2,totalVolume:""})},r=M(e.liveCount),s=M(e.deadCount),l=M(e.squaresCounted),u=M(e.dilutionFactor),d=M(e.totalVolume),f=l>0&&r>=0&&s>=0&&u>0,p=1e4,m=f?r/l*u*p:0,h=f?s/l*u*p:0,v=(m+h)*d,w=r+s,C=w>0?r/w*100:0;return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ve,{title:"Hemocytometer Counter",description:"Calculate cell concentration and viability using standard Neubauer chambers.",action:i.jsx(B,{variant:"outline",onClick:()=>window.print(),icon:i.jsx(tn,{size:16}),children:"Print Report"})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsx("div",{className:"lg:col-span-5 space-y-6",children:i.jsx(O,{title:"Counts & Parameters",action:i.jsxs(B,{variant:"ghost",size:"sm",onClick:o,className:"text-slate-500",children:[i.jsx(ht,{size:16,className:"mr-2"})," Reset"]}),children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 p-5 rounded-2xl border border-slate-100",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-lime-200 text-lime-800 flex items-center justify-center text-xs font-bold",children:"1"}),i.jsx("h4",{className:"font-bold text-slate-800 text-sm uppercase tracking-wide",children:"Raw Counts"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(V,{label:"Live Cells",name:"liveCount",value:e.liveCount,onChange:n,placeholder:"Counted"}),i.jsx(V,{label:"Dead Cells (Opt)",name:"deadCount",value:e.deadCount,onChange:n,placeholder:"Blue stained"})]})]}),i.jsxs("div",{className:"bg-slate-50 p-5 rounded-2xl border border-slate-100",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-blue-200 text-blue-800 flex items-center justify-center text-xs font-bold",children:"2"}),i.jsx("h4",{className:"font-bold text-slate-800 text-sm uppercase tracking-wide",children:"Chamber Settings"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(V,{label:"# Squares Counted",name:"squaresCounted",value:e.squaresCounted,onChange:n,placeholder:"Standard: 4"}),i.jsx(V,{label:"Dilution Factor",name:"dilutionFactor",value:e.dilutionFactor,onChange:n,placeholder:"e.g. 2 for 1:1"})]}),i.jsxs("p",{className:"text-xs text-slate-400 mt-3 leading-relaxed",children:["* Standard Neubauer volume is 0.1 L ($10^",-4,"$ mL) per large square.",i.jsx("br",{}),"* Dilution Factor 2 means 1 part cells + 1 part dye."]})]}),i.jsx("div",{className:"pt-2",children:i.jsx(V,{label:"Total Suspension Volume (mL)",name:"totalVolume",value:e.totalVolume,onChange:n,placeholder:"Optional for Yield",rightElement:i.jsx("span",{className:"text-xs font-bold text-slate-500",children:"mL"})})})]})})}),i.jsx("div",{className:"lg:col-span-7",children:i.jsx(O,{title:"Analysis Results",className:"h-full bg-slate-50/50 border-2 border-dashed border-slate-200",children:f&&r>0?i.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-lime-100 shadow-sm relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:i.jsx(Zx,{size:64,className:"text-lime-500"})}),i.jsx("p",{className:"text-sm font-bold text-lime-700 uppercase tracking-wider mb-2",children:"Live Concentration"}),i.jsx("div",{className:"flex items-baseline",children:i.jsx("span",{className:"text-4xl font-bold text-slate-900 mr-2",children:q(m)})}),i.jsx("span",{className:"text-slate-500 font-medium",children:"cells / mL"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col justify-center",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:"Viability"}),i.jsx(ru,{size:20,className:C>90?"text-emerald-500":C>70?"text-yellow-500":"text-red-500"})]}),i.jsxs("div",{className:"flex items-baseline",children:[i.jsx("span",{className:`text-4xl font-bold ${C>90?"text-emerald-600":"text-slate-900"}`,children:C.toFixed(1)}),i.jsx("span",{className:"text-xl font-bold text-slate-400 ml-1",children:"%"})]}),i.jsx("div",{className:"w-full bg-slate-100 h-2 rounded-full mt-4 overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full ${C>90?"bg-emerald-500":"bg-yellow-500"}`,style:{width:`${C}%`}})})]})]}),d>0&&i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase",children:"Total Yield"}),i.jsxs("p",{className:"text-slate-400 text-xs mt-1",children:["Based on ",d," mL volume"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-3xl font-bold text-indigo-600",children:q(v)}),i.jsx("span",{className:"text-sm font-bold text-indigo-300 ml-2",children:"Cells"})]})]}),i.jsxs("div",{className:"bg-slate-100 p-5 rounded-xl text-xs font-mono text-slate-600 space-y-2",children:[i.jsx("div",{className:"font-bold text-slate-800 border-b border-slate-200 pb-1 mb-2",children:"Calculation Logic"}),i.jsxs("p",{children:["Avg/Square = ",r," / ",l," = ",(r/l).toFixed(2)]}),i.jsxs("p",{children:["Conc = Avg  Dilution (",u,")  10,000"]}),i.jsxs("p",{children:["     = ",(r/l).toFixed(2),"  ",u,"  10,000"]}),i.jsxs("p",{children:["     = ",q(m)," cells/mL"]})]})]}):i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-400 py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm mb-4",children:i.jsx(Ox,{size:32,className:"text-lime-300"})}),i.jsx("p",{className:"font-medium text-slate-500",children:"Ready to Count"}),i.jsx("p",{className:"text-sm mt-2 max-w-[200px]",children:"Enter your live counts and chamber settings to calculate concentration."})]})})})]})]})},Yy=()=>{const[e,t]=_.useState({mode:"log",baseType:"10",customBase:10,inputValue:"",converterType:"ph"}),[n,o]=_.useState(null),[r,s]=_.useState(null),l=p=>{t(m=>({...m,mode:p,inputValue:"",result:null})),o(null),s(null)},u=p=>{const{name:m,value:h}=p.target;t(g=>({...g,[m]:m==="inputValue"||m==="customBase"?h===""?"":parseFloat(h):h})),o(null),s(null)},d=()=>{s(null),o(null);const p=M(e.inputValue);if(e.mode==="converter"){if(e.inputValue==="")return;if(e.converterType==="ph"){const g=Math.pow(10,-p);let v=0,w=p>0;w&&(v=-Math.log10(p)),o(JSON.stringify({type:"ph",valA:g,valB:w?v:null}));return}if(e.converterType==="pka"){const g=Math.pow(10,-p);let v=0,w=p>0;w&&(v=-Math.log10(p)),o(JSON.stringify({type:"pka",valA:g,valB:w?v:null}));return}if(e.converterType==="abs"){const g=Math.pow(10,2-p);let v=0,w=p>0;w&&(v=2-Math.log10(p)),o(JSON.stringify({type:"abs",valA:g,valB:w?v:null}));return}}const m=e.baseType==="e"?Math.E:e.baseType==="2"?2:e.baseType==="10"?10:M(e.customBase);if(m<=0||m===1){s("Base must be positive and not equal to 1.");return}let h=0;if(e.mode==="log"){if(p<=0){s("Logarithm undefined for zero or negative numbers.");return}h=Math.log(p)/Math.log(m)}else if(h=Math.pow(m,p),!isFinite(h)){s("Result overflow (too large).");return}o(h.toString())},f=()=>{t({mode:e.mode,baseType:"10",customBase:10,inputValue:"",converterType:"ph"}),o(null),s(null)};return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ve,{title:"Logarithm Calculator",description:"Compute Logs, Exponents, and common Laboratory conversions (pH, pKa)."}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsx("div",{className:"lg:col-span-6 space-y-6",children:i.jsx(O,{title:"Calculator",action:i.jsxs(B,{variant:"ghost",size:"sm",onClick:f,className:"text-slate-500",children:[i.jsx(ht,{size:16,className:"mr-2"})," Reset"]}),children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 p-1.5 rounded-2xl flex relative",children:[i.jsx("button",{onClick:()=>l("log"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${e.mode==="log"?"bg-white text-violet-600 shadow-sm ring-1 ring-slate-100":"text-slate-400 hover:text-slate-600"}`,children:"Logarithm"}),i.jsx("button",{onClick:()=>l("antilog"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${e.mode==="antilog"?"bg-white text-violet-600 shadow-sm ring-1 ring-slate-100":"text-slate-400 hover:text-slate-600"}`,children:"Antilog"}),i.jsx("button",{onClick:()=>l("converter"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all ${e.mode==="converter"?"bg-white text-violet-600 shadow-sm ring-1 ring-slate-100":"text-slate-400 hover:text-slate-600"}`,children:"Converters"})]}),e.mode!=="converter"?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(Yt,{label:"Base",name:"baseType",value:e.baseType,onChange:u,children:[i.jsx("option",{value:"10",children:"Base 10 (log)"}),i.jsx("option",{value:"e",children:"Base e (ln)"}),i.jsx("option",{value:"2",children:"Base 2 (binary)"}),i.jsx("option",{value:"custom",children:"Custom Base"})]}),e.baseType==="custom"&&i.jsx(V,{label:"Custom Base",name:"customBase",value:e.customBase,onChange:u,placeholder:"e.g. 5"})]}),i.jsx(V,{label:e.mode==="log"?"Input Value (x)":"Exponent (y)",name:"inputValue",value:e.inputValue,onChange:u,placeholder:e.mode==="log"?"e.g. 100":"e.g. 2"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Yt,{label:"Conversion Type",name:"converterType",value:e.converterType,onChange:u,children:[i.jsx("option",{value:"ph",children:"pH  [H+]"}),i.jsx("option",{value:"pka",children:"pKa  Ka"}),i.jsx("option",{value:"abs",children:"Absorbance  %T"})]}),i.jsx(V,{label:"Input Value",name:"inputValue",value:e.inputValue,onChange:u,placeholder:"e.g. 7.4 or 1.2e-5"})]}),r&&i.jsx("div",{className:"p-3 bg-red-50 text-red-700 text-sm rounded-xl border border-red-100",children:r}),i.jsx(B,{onClick:d,size:"lg",className:"w-full bg-violet-600 hover:bg-violet-700 shadow-violet-500/20 text-white",children:"Calculate"})]})})}),i.jsx("div",{className:"lg:col-span-6 space-y-6",children:i.jsx(O,{title:"Results",className:"h-full bg-slate-50/50 border-2 border-dashed border-slate-200",children:n?i.jsx("div",{className:"space-y-8 animate-fadeIn",children:e.mode!=="converter"?i.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-slate-100 shadow-sm text-center",children:[i.jsx("h4",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-2",children:e.mode==="log"?"Logarithm Result":"Antilog Result"}),i.jsx("div",{className:"text-5xl font-bold text-violet-600 mb-2",children:q(parseFloat(n),4)}),i.jsx("div",{className:"text-slate-400 font-mono text-sm mt-4",children:e.mode==="log"?i.jsxs("span",{children:["log",i.jsx("sub",{children:e.baseType==="e"?"e":e.baseType==="custom"?e.customBase:e.baseType}),"(",e.inputValue,") = ",q(parseFloat(n))]}):i.jsxs("span",{children:[e.baseType==="e"?"e":e.baseType==="custom"?e.customBase:e.baseType,i.jsx("sup",{children:e.inputValue})," = ",q(parseFloat(n))]})})]}):i.jsx("div",{className:"space-y-4",children:(()=>{const p=JSON.parse(n);if(p.type==="ph")return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm",children:[i.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"If input is pH..."}),i.jsxs("div",{className:"flex justify-between items-baseline",children:[i.jsx("span",{className:"text-lg font-bold text-slate-700",children:"[H] ="}),i.jsxs("span",{className:"text-2xl font-bold text-violet-600",children:[q(p.valA)," M"]})]})]}),p.valB!==null&&i.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm",children:[i.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"If input is [H]..."}),i.jsxs("div",{className:"flex justify-between items-baseline",children:[i.jsx("span",{className:"text-lg font-bold text-slate-700",children:"pH ="}),i.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:p.valB.toFixed(2)})]})]})]});if(p.type==="pka")return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm",children:[i.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"If input is pKa..."}),i.jsxs("div",{className:"flex justify-between items-baseline",children:[i.jsx("span",{className:"text-lg font-bold text-slate-700",children:"Ka ="}),i.jsx("span",{className:"text-2xl font-bold text-violet-600",children:q(p.valA)})]})]}),p.valB!==null&&i.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm",children:[i.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"If input is Ka..."}),i.jsxs("div",{className:"flex justify-between items-baseline",children:[i.jsx("span",{className:"text-lg font-bold text-slate-700",children:"pKa ="}),i.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:p.valB.toFixed(2)})]})]})]});if(p.type==="abs")return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm",children:[i.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"If input is Absorbance..."}),i.jsxs("div",{className:"flex justify-between items-baseline",children:[i.jsx("span",{className:"text-lg font-bold text-slate-700",children:"%T ="}),i.jsxs("span",{className:"text-2xl font-bold text-violet-600",children:[p.valA.toFixed(1)," %"]})]})]}),p.valB!==null&&i.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm",children:[i.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"If input is %T..."}),i.jsxs("div",{className:"flex justify-between items-baseline",children:[i.jsx("span",{className:"text-lg font-bold text-slate-700",children:"Abs ="}),i.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:p.valB.toFixed(3)})]})]})]})})()})}):i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-400 py-12",children:[e.mode==="converter"?i.jsx(Vx,{size:48,className:"mb-4 text-slate-300",strokeWidth:1}):i.jsx(Xm,{size:48,className:"mb-4 text-slate-300",strokeWidth:1}),i.jsx("p",{className:"font-medium text-slate-500",children:"Ready to calculate"}),i.jsx("p",{className:"text-sm mt-2 max-w-[200px]",children:e.mode==="log"?"Enter a value to find its logarithm.":e.mode==="antilog"?"Enter an exponent to find the value.":"Enter a value to convert between lab scales."})]})})})]})]})},Qy=()=>{const[e,t]=_.useState(!1),[n,o]=_.useState(0),[r,s]=_.useState([]),l=_.useRef(0),u=_.useRef(0),d=()=>{l.current&&(o(Date.now()-l.current),u.current=requestAnimationFrame(d))},f=()=>{e||(l.current=Date.now()-n,t(!0),u.current=requestAnimationFrame(d))},p=()=>{e&&(t(!1),cancelAnimationFrame(u.current))},m=()=>{t(!1),cancelAnimationFrame(u.current),o(0),s([])},h=()=>{e&&s(g=>[...g,n])};return _.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),{elapsedTime:n,isRunning:e,laps:r,start:f,pause:p,reset:m,lap:h}},Xy=e=>{const[t,n]=_.useState(e),[o,r]=_.useState(!1),[s,l]=_.useState(!1),u=_.useRef(0),d=_.useRef(0),f=()=>{const v=Math.max(0,u.current-Date.now());n(v),v<=0?(r(!1),l(!0),cancelAnimationFrame(d.current)):d.current=requestAnimationFrame(f)},p=()=>{t<=0||o||(u.current=Date.now()+t,r(!0),l(!1),d.current=requestAnimationFrame(f))},m=()=>{o&&(r(!1),cancelAnimationFrame(d.current))},h=v=>{r(!1),l(!1),cancelAnimationFrame(d.current),n(v??e)},g=v=>{h(v)};return _.useEffect(()=>()=>cancelAnimationFrame(d.current),[]),{timeLeft:t,isRunning:o,isComplete:s,start:p,pause:m,reset:h,setDuration:g}},Zy=(e,t,n)=>{const[o,r]=_.useState("IDLE"),[s,l]=_.useState(1),[u,d]=_.useState(e),f=_.useRef(0),p=_.useRef(0),m=_.useRef({phase:"IDLE",cycle:1,workMs:e,restMs:t,totalCycles:n});_.useEffect(()=>{m.current.workMs=e,m.current.restMs=t,m.current.totalCycles=n,m.current.phase=o,m.current.cycle=s},[e,t,n,o,s]);const h=()=>{const C=Math.max(0,f.current-Date.now());if(d(C),C<=0){const{phase:y,cycle:x,totalCycles:S,workMs:N,restMs:E}=m.current;if(y==="WORK")x<S?(r("REST"),m.current.phase="REST",f.current=Date.now()+E,p.current=requestAnimationFrame(h)):(r("FINISHED"),cancelAnimationFrame(p.current));else if(y==="REST"){const T=x+1;l(T),r("WORK"),m.current.cycle=T,m.current.phase="WORK",f.current=Date.now()+N,p.current=requestAnimationFrame(h)}}else p.current=requestAnimationFrame(h)},g=()=>{o==="IDLE"||o==="FINISHED"?(r("WORK"),l(1),m.current.phase="WORK",m.current.cycle=1,f.current=Date.now()+e,p.current=requestAnimationFrame(h)):(f.current=Date.now()+u,p.current=requestAnimationFrame(h))},v=()=>{(o==="WORK"||o==="REST")&&cancelAnimationFrame(p.current)},w=()=>{cancelAnimationFrame(p.current),r("IDLE"),l(1),d(e)};return _.useEffect(()=>()=>cancelAnimationFrame(p.current),[]),{phase:o,currentCycle:s,timeLeft:u,start:g,pause:v,reset:w}},Uo=e=>{const t=Math.floor(e/1e3),n=Math.floor(t/60),o=t%60,r=Math.floor(e%1e3/10),s=l=>l.toString().padStart(2,"0");return{text:`${s(n)}:${s(o)}`,sub:`.${s(r)}`}},e1=()=>{const[e,t]=_.useState("stopwatch");return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ve,{title:"Lab Timer",description:"Precision timing tools for experiments. Drift-free tracking with system timestamp sync."}),i.jsx("div",{className:"flex justify-center mb-8",children:i.jsx("div",{className:"bg-slate-100 p-1 rounded-2xl inline-flex shadow-inner",children:[{id:"stopwatch",label:"Stopwatch",icon:Bx},{id:"countdown",label:"Countdown",icon:ay},{id:"interval",label:"Interval",icon:Wx}].map(n=>i.jsxs("button",{onClick:()=>t(n.id),className:`px-6 py-3 rounded-xl text-sm font-bold transition-all flex items-center space-x-2
                                ${e===n.id?"bg-white text-cyan-600 shadow-sm scale-100 ring-1 ring-black/5":"text-slate-500 hover:text-slate-700 scale-95 hover:scale-100"}`,children:[i.jsx(n.icon,{size:16}),i.jsx("span",{children:n.label})]},n.id))})}),i.jsxs("div",{className:"max-w-4xl mx-auto",children:[e==="stopwatch"&&i.jsx(t1,{}),e==="countdown"&&i.jsx(n1,{}),e==="interval"&&i.jsx(o1,{})]})]})},t1=()=>{const{elapsedTime:e,isRunning:t,laps:n,start:o,pause:r,reset:s,lap:l}=Qy(),u=Uo(e),d=()=>{const f=n.map((p,m)=>[`Lap ${m+1}`,(p/1e3).toFixed(3)]);rh("stopwatch_laps",["Lap","Seconds"],f)};return i.jsxs(O,{className:"text-center py-10 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-cyan-400 to-blue-500"}),i.jsxs("div",{className:"mb-10 font-mono text-slate-900 tracking-tighter",children:[i.jsx("span",{className:"text-8xl font-bold",children:u.text}),i.jsx("span",{className:"text-4xl text-slate-400 font-medium",children:u.sub})]}),i.jsxs("div",{className:"flex justify-center space-x-4 mb-8",children:[t?i.jsx(B,{onClick:r,size:"lg",className:"w-32 bg-slate-900 text-white",icon:i.jsx(uu,{size:20,fill:"currentColor"}),children:"Pause"}):i.jsx(B,{onClick:o,size:"lg",className:"w-32 bg-cyan-500 hover:bg-cyan-600 shadow-cyan-500/30 text-white",icon:i.jsx(cu,{size:20,fill:"currentColor"}),children:"Start"}),i.jsx(B,{onClick:l,disabled:!t,variant:"outline",size:"lg",icon:i.jsx($x,{size:20}),children:"Lap"}),i.jsx(B,{onClick:s,variant:"ghost",size:"lg",className:"text-red-500 hover:bg-red-50 hover:text-red-600",children:i.jsx(du,{size:20})})]}),n.length>0&&i.jsxs("div",{className:"max-w-md mx-auto animate-fadeIn text-left",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[i.jsx("h4",{className:"font-bold text-slate-400 text-xs uppercase tracking-wider",children:"Recorded Laps"}),i.jsxs("button",{onClick:d,className:"text-cyan-600 hover:text-cyan-700 text-xs font-bold flex items-center",children:[i.jsx(ti,{size:12,className:"mr-1"})," CSV"]})]}),i.jsx("div",{className:"bg-slate-50 rounded-xl border border-slate-100 max-h-48 overflow-y-auto",children:i.jsx("table",{className:"w-full text-sm",children:i.jsx("tbody",{children:n.map((f,p)=>{const m=Uo(f),h=p>0?n[p-1]:0,g=Uo(f-h);return i.jsxs("tr",{className:"border-b border-slate-100 last:border-0 hover:bg-white transition-colors",children:[i.jsxs("td",{className:"px-4 py-3 font-bold text-slate-400 w-16",children:["#",p+1]}),i.jsxs("td",{className:"px-4 py-3 font-mono text-slate-800",children:[m.text,m.sub]}),i.jsxs("td",{className:"px-4 py-3 font-mono text-cyan-600 text-right",children:["+",g.text,g.sub]})]},p)})})})})]})]})},n1=()=>{const[e,t]=_.useState(5),[n,o]=_.useState(0),{timeLeft:r,isRunning:s,isComplete:l,start:u,pause:d,reset:f,setDuration:p}=Xy(3e5),m=Uo(r),h=()=>{p((e*60+n)*1e3)};return i.jsxs(O,{className:"text-center py-10",children:[i.jsx("div",{className:`mb-10 font-mono tracking-tighter transition-colors duration-300 ${l?"text-emerald-500 animate-pulse":"text-slate-900"}`,children:i.jsx("span",{className:"text-8xl font-bold",children:m.text})}),l&&i.jsx("div",{className:"mb-6 inline-flex items-center px-4 py-2 bg-emerald-100 text-emerald-800 rounded-full font-bold text-sm animate-bounce",children:"Timer Complete!"}),i.jsxs("div",{className:"flex justify-center space-x-4 mb-10",children:[s?i.jsx(B,{onClick:d,size:"lg",className:"w-32 bg-slate-900 text-white",icon:i.jsx(uu,{size:20,fill:"currentColor"}),children:"Pause"}):i.jsx(B,{onClick:u,disabled:r<=0,size:"lg",className:"w-32 bg-cyan-500 hover:bg-cyan-600 shadow-cyan-500/30 text-white",icon:i.jsx(cu,{size:20,fill:"currentColor"}),children:r<100&&!l?"Resume":"Start"}),i.jsx(B,{onClick:()=>f(),variant:"ghost",size:"lg",className:"text-slate-500",children:i.jsx(du,{size:20})})]}),i.jsxs("div",{className:"max-w-xs mx-auto pt-8 border-t border-slate-100",children:[i.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 block",children:"Set Duration"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(V,{label:"",type:"number",value:e,onChange:g=>t(Math.max(0,parseInt(g.target.value)||0)),className:"text-center"}),i.jsx("span",{className:"absolute right-3 top-3 text-slate-400 text-xs font-bold",children:"m"})]}),i.jsx("span",{className:"text-slate-300",children:":"}),i.jsxs("div",{className:"relative flex-1",children:[i.jsx(V,{label:"",type:"number",value:n,onChange:g=>o(Math.max(0,parseInt(g.target.value)||0)),className:"text-center"}),i.jsx("span",{className:"absolute right-3 top-3 text-slate-400 text-xs font-bold",children:"s"})]}),i.jsx(B,{onClick:h,variant:"secondary",children:"Set"})]})]})]})},o1=()=>{const[e,t]=_.useState(30),[n,o]=_.useState(10),[r,s]=_.useState(5),{phase:l,currentCycle:u,timeLeft:d,start:f,pause:p,reset:m}=Zy(e*1e3,n*1e3,r),h=Uo(d),g=l==="WORK"||l==="REST";return i.jsx(O,{className:"py-8 px-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{className:"text-center space-y-8",children:[i.jsxs("div",{className:"relative w-64 h-64 mx-auto flex items-center justify-center",children:[i.jsx("div",{className:`absolute inset-0 rounded-full border-8 opacity-20 transition-colors duration-500
                            ${l==="WORK"?"border-cyan-500":l==="REST"?"border-orange-500":"border-slate-200"}
                         `}),i.jsxs("div",{className:"z-10",children:[i.jsx("div",{className:`text-sm font-bold uppercase tracking-widest mb-2 transition-colors duration-300
                                ${l==="WORK"?"text-cyan-600":l==="REST"?"text-orange-500":"text-slate-400"}
                             `,children:l==="IDLE"?"Ready":l}),i.jsx("div",{className:"text-6xl font-mono font-bold text-slate-900 mb-2",children:h.text}),l!=="FINISHED"&&i.jsxs("div",{className:"text-slate-400 font-medium",children:["Cycle ",u," / ",r]})]})]}),i.jsxs("div",{className:"flex justify-center space-x-4",children:[!g&&l!=="FINISHED"?i.jsx(B,{onClick:f,size:"lg",className:"w-32 bg-cyan-500 hover:bg-cyan-600 text-white",icon:i.jsx(cu,{size:20,fill:"currentColor"}),children:l==="IDLE"?"Start":"Resume"}):l!=="FINISHED"?i.jsx(B,{onClick:p,size:"lg",className:"w-32 bg-slate-900 text-white",icon:i.jsx(uu,{size:20,fill:"currentColor"}),children:"Pause"}):null,i.jsx(B,{onClick:m,variant:"ghost",size:"lg",className:"text-slate-500",children:i.jsx(du,{size:20})})]})]}),i.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100",children:[i.jsxs("h3",{className:"font-bold text-slate-900 mb-6 flex items-center",children:[i.jsx(r1,{className:"mr-2 text-slate-400",size:18}),"Configuration"]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block",children:"Work Duration"}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:()=>t(Math.max(5,e-5)),className:"p-2 rounded-full bg-white border hover:bg-slate-50",children:i.jsx(Fi,{size:16})}),i.jsxs("div",{className:"flex-1 text-center font-mono text-xl font-bold text-cyan-700 bg-cyan-50 py-2 rounded-xl",children:[e,"s"]}),i.jsx("button",{onClick:()=>t(e+5),className:"p-2 rounded-full bg-white border hover:bg-slate-50",children:i.jsx(Ui,{size:16})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block",children:"Rest Duration"}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:()=>o(Math.max(0,n-5)),className:"p-2 rounded-full bg-white border hover:bg-slate-50",children:i.jsx(Fi,{size:16})}),i.jsxs("div",{className:"flex-1 text-center font-mono text-xl font-bold text-orange-700 bg-orange-50 py-2 rounded-xl",children:[n,"s"]}),i.jsx("button",{onClick:()=>o(n+5),className:"p-2 rounded-full bg-white border hover:bg-slate-50",children:i.jsx(Ui,{size:16})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block",children:"Cycles"}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:()=>s(Math.max(1,r-1)),className:"p-2 rounded-full bg-white border hover:bg-slate-50",children:i.jsx(Fi,{size:16})}),i.jsx("div",{className:"flex-1 text-center font-mono text-xl font-bold text-slate-700 bg-white border py-2 rounded-xl",children:r}),i.jsx("button",{onClick:()=>s(r+1),className:"p-2 rounded-full bg-white border hover:bg-slate-50",children:i.jsx(Ui,{size:16})})]})]})]})]})]})})},r1=({className:e,size:t})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),i.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),s1=()=>{const[e,t]=_.useState(""),[n,o]=_.useState(""),[r,s]=_.useState(60),[l,u]=_.useState(!1),[d,f]=_.useState(null),p=_.useRef(null),m=(C,y)=>{if(!C.trim()){o(""),f(null);return}let x="",S=0,N=0,E=0;const T=/^[A-Za-z\*\-]+$/,I=C.trimStart().startsWith(">");C.split(">").forEach((b,A)=>{if(I&&A===0||!b.trim())return;let D="",F="";if(!I&&A===0)D="Sequence_1",F=b;else{const X=b.indexOf(`
`);X===-1?(D=b.trim(),F=""):(D=b.substring(0,X).trim(),F=b.substring(X+1))}const $=F.replace(/[\s\d]+/g,"").toUpperCase();if($.length>0){S++,N+=$.length,T.test($)||E++;let X=$;if(y>0){const Xe=[];for(let Ze=0;Ze<$.length;Ze+=y)Xe.push($.slice(Ze,Ze+y));X=Xe.join(`
`)}x+=`>${D}
${X}
`}}),o(x.trim()),f({seqs:S,bp:N,errors:E})},h=()=>{m(e,r)},g=C=>{var x;const y=(x=C.target.files)==null?void 0:x[0];if(y){const S=new FileReader;S.onload=N=>{var T;const E=(T=N.target)==null?void 0:T.result;t(E)},S.readAsText(y)}},v=()=>{navigator.clipboard.writeText(n),u(!0),setTimeout(()=>u(!1),2e3)},w=()=>{const C=document.createElement("a"),y=new Blob([n],{type:"text/plain"});C.href=URL.createObjectURL(y),C.download="cleaned_sequence.fasta",document.body.appendChild(C),C.click(),document.body.removeChild(C)};return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ve,{title:"FASTA Cleaner",description:"Format, validate, and clean DNA/Protein FASTA files. Intelligently strips numbers (NCBI style) and whitespace."}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 h-[calc(100vh-250px)] min-h-[600px]",children:[i.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[i.jsxs(O,{className:"flex-1 flex flex-col p-0 overflow-hidden shadow-md",children:[i.jsxs("div",{className:"bg-slate-50 border-b border-slate-200 p-4 flex justify-between items-center",children:[i.jsxs("h3",{className:"font-bold text-slate-700 flex items-center",children:[i.jsx(oh,{size:18,className:"mr-2 text-pink-500"})," Input Sequence"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>t(""),className:"text-xs font-bold text-slate-500 hover:text-red-500 flex items-center px-2 py-1 rounded hover:bg-slate-200 transition-colors",children:[i.jsx(nh,{size:14,className:"mr-1"})," Clear"]}),i.jsx("button",{onClick:()=>{var C;return(C=p.current)==null?void 0:C.click()},className:"text-xs font-bold text-pink-600 bg-pink-50 hover:bg-pink-100 px-3 py-1 rounded border border-pink-200 transition-colors",children:"Upload File"}),i.jsx("input",{type:"file",ref:p,className:"hidden",accept:".fasta,.fa,.txt",onChange:g})]})]}),i.jsx("textarea",{className:"flex-1 w-full p-4 font-mono text-xs md:text-sm resize-none focus:outline-none focus:bg-slate-50 transition-colors",placeholder:`Paste sequences here. Examples:

Standard FASTA:
>Seq1
AGCT TAGC

NCBI Style (Raw):
1 agct agct
61 atgc atgc`,value:e,onChange:C=>t(C.target.value),spellCheck:!1})]}),i.jsx("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("div",{className:"w-32",children:[i.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Line Wrap"}),i.jsxs(Yt,{value:r,onChange:C=>s(parseInt(C.target.value)),className:"py-2",children:[i.jsx("option",{value:0,children:"No Wrap (1 line)"}),i.jsx("option",{value:60,children:"60 chars"}),i.jsx("option",{value:70,children:"70 chars"}),i.jsx("option",{value:80,children:"80 chars"})]})]})}),i.jsx(B,{onClick:h,size:"lg",className:"px-8 shadow-xl shadow-pink-900/10 bg-pink-500 hover:bg-pink-600 text-white",icon:i.jsx(rr,{size:18}),children:"Clean & Format"})]})})]}),i.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[i.jsxs(O,{className:"flex-1 flex flex-col p-0 overflow-hidden shadow-md border-pink-500/20",children:[i.jsxs("div",{className:"bg-pink-50/50 border-b border-pink-100 p-4 flex justify-between items-center",children:[i.jsxs("h3",{className:"font-bold text-pink-800 flex items-center",children:[i.jsx(Fx,{size:18,className:"mr-2 text-pink-500"})," Cleaned Output"]}),i.jsx("div",{className:"flex space-x-2",children:n&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:v,className:"text-xs font-bold text-pink-700 bg-white border border-pink-200 hover:bg-pink-50 px-3 py-1 rounded transition-colors flex items-center",children:[l?i.jsx(Bc,{size:14,className:"mr-1"}):i.jsx(zx,{size:14,className:"mr-1"}),l?"Copied":"Copy"]}),i.jsxs("button",{onClick:w,className:"text-xs font-bold text-white bg-pink-600 hover:bg-pink-700 px-3 py-1 rounded shadow-sm transition-colors flex items-center",children:[i.jsx(ti,{size:14,className:"mr-1"})," Download"]})]})})]}),i.jsx("div",{className:"flex-1 relative",children:i.jsx("textarea",{className:"absolute inset-0 w-full h-full p-4 font-mono text-xs md:text-sm resize-none bg-slate-50 focus:outline-none text-slate-700",value:n,readOnly:!0,placeholder:"Cleaned sequences will appear here..."})})]}),i.jsx("div",{className:`p-4 rounded-2xl border transition-all ${d?"bg-white border-slate-200 shadow-sm":"bg-transparent border-transparent"}`,children:d?i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex space-x-6",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase",children:"Sequences"}),i.jsx("div",{className:"text-xl font-bold text-slate-900",children:d.seqs})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase",children:"Total BP"}),i.jsx("div",{className:"text-xl font-bold text-slate-900",children:d.bp.toLocaleString()})]})]}),d.errors>0?i.jsxs("div",{className:"flex items-center text-amber-600 bg-amber-50 px-3 py-2 rounded-lg border border-amber-100",children:[i.jsx(lo,{size:18,className:"mr-2"}),i.jsxs("span",{className:"text-sm font-bold",children:[d.errors," seqs have non-standard chars"]})]}):i.jsxs("div",{className:"flex items-center text-emerald-600 bg-emerald-50 px-3 py-2 rounded-lg border border-emerald-100",children:[i.jsx(Bc,{size:18,className:"mr-2"}),i.jsx("span",{className:"text-sm font-bold",children:"All characters valid"})]})]}):i.jsx("div",{className:"text-center text-slate-400 text-sm py-2",children:"Ready to process."})})]})]})]})},Bi=[{name:"EcoRI",seq:"GAATTC",cutOffset:1},{name:"BamHI",seq:"GGATCC",cutOffset:1},{name:"HindIII",seq:"AAGCTT",cutOffset:1},{name:"NotI",seq:"GCGGCCGC",cutOffset:2},{name:"XbaI",seq:"TCTAGA",cutOffset:1},{name:"SpeI",seq:"ACTAGT",cutOffset:1},{name:"PstI",seq:"CTGCAG",cutOffset:5},{name:"SalI",seq:"GTCGAC",cutOffset:1},{name:"EcoRV",seq:"GATATC",cutOffset:3},{name:"XhoI",seq:"CTCGAG",cutOffset:1},{name:"KpnI",seq:"GGTACC",cutOffset:5},{name:"SacI",seq:"GAGCTC",cutOffset:5}],i1=()=>{const[e,t]=_.useState(""),[n,o]=_.useState(!1),[r,s]=_.useState("ALL"),{cutSites:l,fragments:u,seqLength:d}=_.useMemo(()=>{const f=e.replace(/[^a-zA-Z]/g,"").toUpperCase(),p=f.length;if(p===0)return{cutSites:[],fragments:[],seqLength:0};const m=[];(r==="ALL"?Bi:Bi.filter(v=>v.name===r)).forEach(v=>{let w=f.indexOf(v.seq);for(;w!==-1;)m.push({enzyme:v,pos:w+v.cutOffset,strand:"forward",recStart:w}),w=f.indexOf(v.seq,w+1)}),m.sort((v,w)=>v.pos-w.pos);let g=[];if(m.length>0)if(n){for(let C=0;C<m.length-1;C++)g.push({start:m[C].pos,end:m[C+1].pos,length:m[C+1].pos-m[C].pos});const v=m[m.length-1].pos,w=m[0].pos;g.push({start:v,end:w,length:p-v+w})}else{const v=[0,...m.map(C=>C.pos),p],w=[...new Set(v)].sort((C,y)=>C-y);for(let C=0;C<w.length-1;C++)g.push({start:w[C],end:w[C+1],length:w[C+1]-w[C]})}else g.push({start:0,end:p,length:p});return{cutSites:m,fragments:g,seqLength:p}},[e,n,r]);return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ve,{title:"Restriction Site Finder",description:"Locate restriction enzyme cleavage sites and simulate digestion fragments."}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsx("div",{className:"lg:col-span-5 space-y-6",children:i.jsx(O,{title:"Sequence Input",className:"h-full",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"DNA Sequence (5' to 3')"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{onClick:()=>o(!n),className:`px-2 py-1 text-xs rounded-md border flex items-center transition-colors ${n?"bg-pink-50 border-pink-200 text-pink-700 font-bold":"bg-white border-slate-200 text-slate-500"}`,children:[n?i.jsx(Hc,{size:12,className:"mr-1"}):i.jsx(Hc,{size:12,className:"mr-1"}),n?"Circular":"Linear"]}),i.jsxs("span",{className:"text-xs font-mono text-slate-400",children:[d," bp"]})]})]}),i.jsx("textarea",{value:e,onChange:f=>t(f.target.value),className:"w-full h-64 p-4 rounded-2xl border-2 border-slate-200 bg-slate-50 focus:bg-white text-slate-900 focus:border-pink-500 focus:ring-0 font-mono text-sm uppercase resize-none transition-colors placeholder-slate-400",placeholder:"PASTE DNA SEQUENCE HERE..."}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block",children:"Filter Enzyme"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:()=>s("ALL"),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all border ${r==="ALL"?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200 hover:border-slate-300"}`,children:"ALL"}),Bi.map(f=>i.jsx("button",{onClick:()=>s(f.name),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all border ${r===f.name?"bg-pink-500 text-white border-pink-500 shadow-md shadow-pink-500/30":"bg-white text-slate-600 border-slate-200 hover:border-slate-300"}`,children:f.name},f.name))]})]})]})})}),i.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[i.jsxs(O,{className:"min-h-[200px] flex flex-col justify-center border-l-4 border-l-pink-500",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[i.jsx("div",{className:"bg-pink-100 p-2 rounded-lg text-pink-600",children:i.jsx(oy,{size:20})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Restriction Map"})]}),d>0?i.jsxs("div",{className:"relative py-12 px-4 select-none",children:[i.jsx("div",{className:`h-4 bg-pink-100 w-full relative ${n?"rounded-full border-4 border-double border-pink-200 h-24 w-24 mx-auto":"rounded-full"}`,children:n?l.map((f,p)=>{const m=f.pos/d*360;return i.jsx("div",{className:"absolute top-1/2 left-1/2 w-0.5 h-16 bg-pink-300 origin-bottom -translate-x-1/2 -translate-y-full",style:{transform:`translate(-50%, -50%) rotate(${m}deg) translateY(-50%)`}},p)}):l.map((f,p)=>{const m=f.pos/d*100,h=p%2===0;return i.jsx("div",{className:"absolute top-0 h-full w-0.5 bg-pink-300 group hover:bg-pink-600 hover:w-1 transition-all z-10 cursor-pointer",style:{left:`${m}%`},children:i.jsxs("div",{className:`absolute left-1/2 -translate-x-1/2 whitespace-nowrap text-xs font-bold bg-white px-2 py-1 rounded-lg shadow-md border border-pink-100 opacity-100 transition-opacity z-20 ${h?"-top-10":"-bottom-10"}`,children:[i.jsx("span",{className:"text-pink-600",children:f.enzyme.name}),i.jsx("span",{className:"text-slate-400 ml-1 text-[10px]",children:f.pos})]})},p)})}),!n&&i.jsxs("div",{className:"flex justify-between text-[10px] text-pink-300 font-mono mt-4 font-bold",children:[i.jsx("span",{children:"1 bp"}),i.jsx("span",{children:Math.round(d/2)}),i.jsxs("span",{children:[d," bp"]})]}),n&&i.jsxs("div",{className:"text-center mt-4 text-xs text-slate-400",children:[l.length," sites found on circular map."]})]}):i.jsx("div",{className:"text-center text-slate-400 py-8",children:"Enter sequence to generate map."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(O,{title:"Virtual Digest",className:"overflow-hidden",children:i.jsxs("div",{className:"space-y-4",children:[u.length>0?i.jsxs("div",{className:"bg-gradient-to-b from-indigo-950 to-purple-950 rounded-2xl p-4 h-64 overflow-y-auto flex justify-center space-x-10 shadow-inner",children:[i.jsxs("div",{className:"flex flex-col items-center w-12 opacity-60",children:[i.jsx("span",{className:"text-[10px] text-indigo-200 mb-2 font-bold uppercase tracking-wider",children:"Marker"}),i.jsx("div",{className:"w-full h-full bg-white/5 relative rounded-lg border border-white/10 backdrop-blur-sm",children:[1e3,800,600,400,200,100].map(f=>i.jsx("div",{className:"absolute w-full h-[1px] bg-white/40",style:{top:`${(1-f/1200)*100}%`}},f))})]}),i.jsxs("div",{className:"flex flex-col items-center w-16",children:[i.jsx("span",{className:"text-[10px] text-pink-200 mb-2 font-bold uppercase tracking-wider",children:"Sample"}),i.jsx("div",{className:"w-full h-full bg-white/5 relative rounded-lg border border-white/10 backdrop-blur-sm shadow-lg",children:u.map((f,p)=>{const h=(1-Math.min(f.length,1200)/1200)*100;return i.jsx("div",{className:"absolute left-1 right-1 h-1.5 bg-pink-400 rounded-sm shadow-[0_0_10px_rgba(244,114,182,0.8)]",style:{top:`${h}%`},title:`${f.length} bp`},p)})})]})]}):i.jsxs("div",{className:"h-40 flex flex-col items-center justify-center text-slate-400 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200",children:[i.jsx(Hx,{size:24,className:"mb-2 opacity-50"}),i.jsx("span",{className:"text-xs",children:"No digestion simulated"})]}),i.jsxs("div",{className:"text-xs text-slate-500 font-mono bg-slate-50 p-3 rounded-lg border border-slate-100",children:[i.jsx("strong",{className:"text-slate-700",children:"Fragments:"})," ",u.map(f=>f.length).join(", ")," bp"]})]})}),i.jsx(O,{title:"Site List",children:i.jsx("div",{className:"overflow-y-auto max-h-80 pr-1",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-white text-slate-500 font-bold text-xs uppercase sticky top-0 z-10 shadow-sm",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-3 bg-slate-50 rounded-tl-lg",children:"Enzyme"}),i.jsx("th",{className:"px-3 py-3 bg-slate-50",children:"Cut At"}),i.jsx("th",{className:"px-3 py-3 bg-slate-50 rounded-tr-lg",children:"Sequence"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:l.length>0?l.map((f,p)=>i.jsxs("tr",{className:"hover:bg-pink-50 transition-colors group",children:[i.jsx("td",{className:"px-3 py-2 font-bold text-slate-700 group-hover:text-pink-700",children:f.enzyme.name}),i.jsx("td",{className:"px-3 py-2 font-mono text-pink-500 font-bold",children:f.pos}),i.jsx("td",{className:"px-3 py-2 font-mono text-xs text-slate-400",children:f.enzyme.seq})]},p)):i.jsx("tr",{children:i.jsx("td",{colSpan:3,className:"px-3 py-8 text-center text-slate-400 italic",children:"No sites found"})})})]})})})]})]})]})]})},l1="6188",Co=[{id:"hero",label:"Hero Top",desc:"Appears at the very top of the dashboard.",storageKey:"labsuite_ad_hero"},{id:"middle",label:"Mid-Page",desc:"Appears between search and tool grid.",storageKey:"labsuite_ad_middle"},{id:"footer",label:"Footer",desc:"Appears at the bottom of the dashboard.",storageKey:"labsuite_ad_footer"}],a1=()=>{const[e,t]=_.useState(!1),[n,o]=_.useState(""),[r,s]=_.useState(""),[l,u]=_.useState("hero"),[d,f]=_.useState(null),[p,m]=_.useState(null),[h,g]=_.useState({type:null,msg:""});_.useEffect(()=>{sessionStorage.getItem("labsuite_admin_auth")==="true"&&t(!0)},[]),_.useEffect(()=>{e&&v(l)},[l,e]);const v=E=>{var I;const T=(I=Co.find(k=>k.id===E))==null?void 0:I.storageKey;if(T){const k=localStorage.getItem(T);m(k),f(k),g({type:null,msg:""})}},w=E=>{E.preventDefault(),n===l1?(t(!0),sessionStorage.setItem("labsuite_admin_auth","true"),s("")):s("Incorrect access code.")},C=()=>{t(!1),sessionStorage.removeItem("labsuite_admin_auth"),o("")},y=E=>{var I;const T=(I=E.target.files)==null?void 0:I[0];if(T){if(T.size>2*1024*1024){g({type:"error",msg:"Image is too large for local storage demo. Please use an image under 2MB."});return}const k=new FileReader;k.onloadend=()=>{f(k.result),g({type:null,msg:""})},k.readAsDataURL(T)}},x=()=>{const E=Co.find(T=>T.id===l);if(d&&E)try{localStorage.setItem(E.storageKey,d),m(d),g({type:"success",msg:`${E.label} updated successfully!`})}catch{g({type:"error",msg:"Storage quota exceeded. Try a smaller image."})}},S=()=>{const E=Co.find(T=>T.id===l);E&&(localStorage.removeItem(E.storageKey),f(null),m(null),g({type:"success",msg:`${E.label} removed.`}))};if(!e)return i.jsx("div",{className:"max-w-md mx-auto mt-20 px-4",children:i.jsxs(O,{title:"Admin Access",className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("div",{className:"h-16 w-16 bg-slate-100 rounded-full flex items-center justify-center text-slate-400",children:i.jsx(Qx,{size:32})})}),i.jsx("p",{className:"text-slate-500 mb-6",children:"Please enter the access code to manage site settings."}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"password",value:n,onChange:E=>o(E.target.value),className:"block w-full rounded-2xl border-slate-200 bg-slate-50 py-3 pl-10 pr-4 text-slate-900 focus:bg-white focus:border-pink-500 focus:ring-2 focus:ring-pink-500/20 transition-all text-center tracking-widest font-bold",placeholder:"",autoFocus:!0}),i.jsx(Jx,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18})]}),r&&i.jsx("div",{className:"text-sm text-red-500 font-medium animate-pulse",children:r}),i.jsx(B,{type:"submit",className:"w-full",children:"Unlock Panel"})]})]})});const N=Co.find(E=>E.id===l);return i.jsxs("div",{className:"space-y-8",children:[i.jsx(ve,{title:"Admin Panel",description:"Manage site configuration and advertisement settings.",action:i.jsx(B,{variant:"outline",size:"sm",onClick:C,children:"Log Out"})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsxs("div",{className:"lg:col-span-4 space-y-4",children:[i.jsx("h3",{className:"font-bold text-slate-900 px-2",children:"Select Ad Space"}),i.jsx("div",{className:"space-y-2",children:Co.map(E=>i.jsxs("button",{onClick:()=>u(E.id),className:`w-full text-left p-4 rounded-2xl transition-all border flex items-center group ${l===E.id?"bg-slate-900 text-white border-slate-900 shadow-md":"bg-white border-slate-200 text-slate-500 hover:border-pink-300 hover:text-slate-900"}`,children:[i.jsx("div",{className:`p-2 rounded-lg mr-3 ${l===E.id?"bg-white/10":"bg-slate-100 group-hover:bg-pink-50"}`,children:i.jsx(Yx,{size:20})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-sm",children:E.label}),i.jsx("div",{className:`text-xs ${l===E.id,"text-slate-400"}`,children:E.desc})]})]},E.id))}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 flex items-start mt-8",children:[i.jsx(sy,{className:"text-emerald-500 mt-1 mr-3 flex-shrink-0",size:20}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-900 text-sm",children:"Client-Side Storage"}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Currently using ",i.jsx("code",{children:"localStorage"}),". Images are stored in the browser cache."]})]})]})]}),i.jsx("div",{className:"lg:col-span-8",children:i.jsx(O,{title:`Editing: ${N==null?void 0:N.label}`,className:"border-t-4 border-t-pink-500 min-h-[500px]",children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-slate-900 mb-3",children:["Preview & Upload ",i.jsx("span",{className:"text-slate-400 font-normal ml-2",children:"(Max 2MB)"})]}),i.jsxs("div",{className:"relative group w-full rounded-xl border-2 border-dashed border-slate-300 hover:border-pink-500 transition-colors bg-slate-50 overflow-hidden flex flex-col items-center justify-center cursor-pointer min-h-[200px]",children:[d?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:d,alt:"Preview",className:"w-full h-full object-contain"}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:i.jsxs("p",{className:"text-white font-bold flex items-center",children:[i.jsx(oh,{className:"mr-2"})," Change Image"]})})]}):i.jsxs("div",{className:"flex flex-col items-center text-slate-400",children:[i.jsx(au,{size:48,className:"mb-3 opacity-50 group-hover:text-pink-500 transition-colors"}),i.jsx("span",{className:"text-sm font-bold text-slate-500 group-hover:text-pink-600",children:"Click to upload image"})]}),i.jsx("input",{type:"file",accept:"image/png, image/jpeg, image/webp",onChange:y,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"})]})]}),h.msg&&i.jsxs("div",{className:`p-4 rounded-xl text-sm flex items-center animate-fadeIn ${h.type==="success"?"bg-emerald-50 text-emerald-800 border border-emerald-100":"bg-red-50 text-red-800 border border-red-100"}`,children:[i.jsx(su,{size:18,className:"mr-2"}),h.msg]}),i.jsxs("div",{className:"flex space-x-4 pt-4 border-t border-slate-100",children:[i.jsx(B,{onClick:x,size:"lg",className:"flex-1 bg-slate-900",icon:i.jsx(ty,{size:18}),children:"Save Changes"}),i.jsx(B,{onClick:S,variant:"outline",size:"lg",className:"flex-1 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-100 hover:border-red-200",icon:i.jsx(nh,{size:18}),children:"Remove Ad"})]})]})})})]})]})},u1=()=>i.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[i.jsx(ve,{title:"Cookie & Storage Policy",description:"How we store data on your device to enhance your laboratory workflow."}),i.jsx(O,{children:i.jsxs("div",{className:"prose prose-slate max-w-none p-2 sm:p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"p-3 bg-pink-50 rounded-xl",children:i.jsx(Zm,{className:"text-pink-500",size:28})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 m-0",children:"What are Cookies?"})]}),i.jsx("p",{className:"text-slate-600 leading-relaxed mb-8 text-lg",children:"Cookies are small text files that are used to store small pieces of information. They are stored on your device when the website is loaded on your browser. These cookies help us make the website function properly, make it more secure, provide better user experience, and understand how the website performs."}),i.jsx("hr",{className:"my-8 border-slate-100"}),i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:i.jsx(qx,{className:"text-blue-500",size:28})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 m-0",children:"How We Use Local Storage"})]}),i.jsxs("p",{className:"text-slate-600 leading-relaxed mb-6",children:["Sidlab Tools is primarily a ",i.jsx("strong",{children:"client-side application"}),". This means we do not have a backend server that stores your personal calculation data. Instead, we use your browser's ",i.jsx("strong",{children:"Local Storage"})," technology to remember your inputs so you don't lose your work if you refresh the page."]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 my-8",children:[i.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[i.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2 mb-3 text-lg",children:[i.jsx(ry,{size:20,className:"text-slate-400"}),"Preferences"]}),i.jsx("p",{className:"text-slate-600 leading-relaxed",children:"We store your preferred units (e.g., mM vs M) and input values for calculators like Dilution and Molarity so you can pick up where you left off."})]}),i.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[i.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2 mb-3 text-lg",children:[i.jsx(zc,{size:20,className:"text-slate-400"}),"Admin Settings"]}),i.jsx("p",{className:"text-slate-600 leading-relaxed",children:"If you use the Admin panel to upload banners or configure the dashboard, these images are stored locally on your device."})]})]}),i.jsx("hr",{className:"my-8 border-slate-100"}),i.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Types of Data We Store"}),i.jsxs("ul",{className:"space-y-4 mb-8",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"h-6 w-6 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center text-xs font-bold mr-4 mt-1 shrink-0",children:"1"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-bold text-slate-800 text-lg",children:"Essential Data"}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Calculator inputs (C1, V1, Mass, etc.) to prevent data loss on page refresh."})]})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"h-6 w-6 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center text-xs font-bold mr-4 mt-1 shrink-0",children:"2"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-bold text-slate-800 text-lg",children:"Configuration"}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Banner ad images (if configured) and acceptance of this cookie policy."})]})]})]}),i.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100 text-blue-800 text-sm leading-relaxed flex gap-4",children:[i.jsx("div",{className:"shrink-0 mt-1",children:i.jsx(zc,{size:20,className:"text-blue-500"})}),i.jsxs("div",{children:[i.jsx("strong",{className:"block text-base mb-1 text-blue-900",children:"Privacy Note"}),"Since this data lives in your browser, we (the developers) cannot see, access, or sell your calculation data. It remains strictly on your device. Clearing your browser cache will reset all tools to their default state."]})]})]})})]}),c1=Object.prototype.toString,d1=e=>c1.call(e)==="[object Error]",f1=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function p1(e){if(!(e&&d1(e)&&e.name==="TypeError"&&typeof e.message=="string"))return!1;const{message:n,stack:o}=e;return n==="Load failed"?o===void 0||"__sentry_captured__"in e:n.startsWith("error sending request for url")?!0:f1.has(n)}function m1(e){if(typeof e=="number"){if(e<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(e))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(e!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Lr(e,t,{min:n=0,allowInfinity:o=!1}={}){if(t!==void 0){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected \`${e}\` to be a number${o?" or Infinity":""}.`);if(!o&&!Number.isFinite(t))throw new TypeError(`Expected \`${e}\` to be a finite number.`);if(t<n)throw new TypeError(`Expected \`${e}\` to be  ${n}.`)}}class ih extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}function h1(e,t){const n=Math.max(1,e+1),o=t.randomize?Math.random()+1:1;let r=Math.round(o*t.minTimeout*t.factor**(n-1));return r=Math.min(r,t.maxTimeout),r}function Kc(e,t){return Number.isFinite(t)?t-(performance.now()-e):t}async function g1({error:e,attemptNumber:t,retriesConsumed:n,startTime:o,options:r}){var g,v,w,C;const s=e instanceof Error?e:new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(s instanceof ih)throw s.originalError;const l=Number.isFinite(r.retries)?Math.max(0,r.retries-n):r.retries,u=r.maxRetryTime??Number.POSITIVE_INFINITY,d=Object.freeze({error:s,attemptNumber:t,retriesLeft:l,retriesConsumed:n});if(await r.onFailedAttempt(d),Kc(o,u)<=0)throw s;const f=await r.shouldConsumeRetry(d),p=Kc(o,u);if(p<=0||l<=0)throw s;if(s instanceof TypeError&&!p1(s)){if(f)throw s;return(g=r.signal)==null||g.throwIfAborted(),!1}if(!await r.shouldRetry(d))throw s;if(!f)return(v=r.signal)==null||v.throwIfAborted(),!1;const m=h1(n,r),h=Math.min(m,p);return(w=r.signal)==null||w.throwIfAborted(),h>0&&await new Promise((y,x)=>{var E,T;const S=()=>{var I;clearTimeout(N),(I=r.signal)==null||I.removeEventListener("abort",S),x(r.signal.reason)},N=setTimeout(()=>{var I;(I=r.signal)==null||I.removeEventListener("abort",S),y()},h);r.unref&&((E=N.unref)==null||E.call(N)),(T=r.signal)==null||T.addEventListener("abort",S,{once:!0})}),(C=r.signal)==null||C.throwIfAborted(),!0}async function v1(e,t={}){var s,l,u;if(t={...t},m1(t.retries),Object.hasOwn(t,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");t.retries??(t.retries=10),t.factor??(t.factor=2),t.minTimeout??(t.minTimeout=1e3),t.maxTimeout??(t.maxTimeout=Number.POSITIVE_INFINITY),t.maxRetryTime??(t.maxRetryTime=Number.POSITIVE_INFINITY),t.randomize??(t.randomize=!1),t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.shouldConsumeRetry??(t.shouldConsumeRetry=()=>!0),Lr("factor",t.factor,{min:0,allowInfinity:!1}),Lr("minTimeout",t.minTimeout,{min:0,allowInfinity:!1}),Lr("maxTimeout",t.maxTimeout,{min:0,allowInfinity:!0}),Lr("maxRetryTime",t.maxRetryTime,{min:0,allowInfinity:!0}),t.factor>0||(t.factor=1),(s=t.signal)==null||s.throwIfAborted();let n=0,o=0;const r=performance.now();for(;!Number.isFinite(t.retries)||o<=t.retries;){n++;try{(l=t.signal)==null||l.throwIfAborted();const d=await e(n);return(u=t.signal)==null||u.throwIfAborted(),d}catch(d){await g1({error:d,attemptNumber:n,retriesConsumed:o,startTime:r,options:t})&&o++}}throw new Error("Retry attempts exhausted without throwing an error.")}var x1={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let y1,C1;function S1(){return{geminiUrl:y1,vertexUrl:C1}}function w1(e,t,n,o){var r,s;if(!(e!=null&&e.baseUrl)){const l=S1();return t?(r=l.vertexUrl)!==null&&r!==void 0?r:n:(s=l.geminiUrl)!==null&&s!==void 0?s:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kt{}function L(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const s=t[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(e,t,n){for(let s=0;s<t.length-1;s++){const l=t[s];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const p=d[f];c(p,t.slice(s+1),n[f])}else for(const f of d)c(f,t.slice(s+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];c(d[0],t.slice(s+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const o=t[t.length-1],r=e[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function a(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const r=t[o];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in e){const l=e[s];return Array.isArray(l)?l.map(u=>a(u,t.slice(o+1),n)):n}else return n}else e=e[r]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function N1(e,t){for(const[n,o]of Object.entries(t)){const r=n.split("."),s=o.split("."),l=new Set;let u=-1;for(let d=0;d<r.length;d++)if(r[d]==="*"){u=d;break}if(u!==-1&&s.length>u)for(let d=u;d<s.length;d++){const f=s[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}$l(e,r,s,0,l)}}function $l(e,t,n,o,r){if(o>=t.length||typeof e!="object"||e===null)return;const s=t[o];if(s.endsWith("[]")){const l=s.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const d of u[l])$l(d,t,n,o+1,r)}else if(s==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(f=>!f.startsWith("_")&&!r.has(f)),d={};for(const f of u)d[f]=l[f];for(const[f,p]of Object.entries(d)){const m=[];for(const h of n.slice(o))h==="*"?m.push(f):m.push(h);c(l,m,p)}for(const f of u)delete l[f]}}else{const l=e;s in l&&$l(l[s],t,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mu(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T1(e){const t={},n=a(e,["operationName"]);n!=null&&c(t,["operationName"],n);const o=a(e,["resourceName"]);return o!=null&&c(t,["_url","resourceName"],o),t}function E1(e){const t={},n=a(e,["name"]);n!=null&&c(t,["name"],n);const o=a(e,["metadata"]);o!=null&&c(t,["metadata"],o);const r=a(e,["done"]);r!=null&&c(t,["done"],r);const s=a(e,["error"]);s!=null&&c(t,["error"],s);const l=a(e,["response","generateVideoResponse"]);return l!=null&&c(t,["response"],I1(l)),t}function _1(e){const t={},n=a(e,["name"]);n!=null&&c(t,["name"],n);const o=a(e,["metadata"]);o!=null&&c(t,["metadata"],o);const r=a(e,["done"]);r!=null&&c(t,["done"],r);const s=a(e,["error"]);s!=null&&c(t,["error"],s);const l=a(e,["response"]);return l!=null&&c(t,["response"],k1(l)),t}function I1(e){const t={},n=a(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>A1(l))),c(t,["generatedVideos"],s)}const o=a(e,["raiMediaFilteredCount"]);o!=null&&c(t,["raiMediaFilteredCount"],o);const r=a(e,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function k1(e){const t={},n=a(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>b1(l))),c(t,["generatedVideos"],s)}const o=a(e,["raiMediaFilteredCount"]);o!=null&&c(t,["raiMediaFilteredCount"],o);const r=a(e,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function A1(e){const t={},n=a(e,["video"]);return n!=null&&c(t,["video"],j1(n)),t}function b1(e){const t={},n=a(e,["_self"]);return n!=null&&c(t,["video"],F1(n)),t}function R1(e){const t={},n=a(e,["operationName"]);return n!=null&&c(t,["_url","operationName"],n),t}function M1(e){const t={},n=a(e,["operationName"]);return n!=null&&c(t,["_url","operationName"],n),t}function P1(e){const t={},n=a(e,["name"]);n!=null&&c(t,["name"],n);const o=a(e,["metadata"]);o!=null&&c(t,["metadata"],o);const r=a(e,["done"]);r!=null&&c(t,["done"],r);const s=a(e,["error"]);s!=null&&c(t,["error"],s);const l=a(e,["response"]);return l!=null&&c(t,["response"],L1(l)),t}function L1(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=a(e,["parent"]);o!=null&&c(t,["parent"],o);const r=a(e,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function lh(e){const t={},n=a(e,["name"]);n!=null&&c(t,["name"],n);const o=a(e,["metadata"]);o!=null&&c(t,["metadata"],o);const r=a(e,["done"]);r!=null&&c(t,["done"],r);const s=a(e,["error"]);s!=null&&c(t,["error"],s);const l=a(e,["response"]);return l!=null&&c(t,["response"],D1(l)),t}function D1(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=a(e,["parent"]);o!=null&&c(t,["parent"],o);const r=a(e,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function j1(e){const t={},n=a(e,["uri"]);n!=null&&c(t,["uri"],n);const o=a(e,["encodedVideo"]);o!=null&&c(t,["videoBytes"],mu(o));const r=a(e,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function F1(e){const t={},n=a(e,["gcsUri"]);n!=null&&c(t,["uri"],n);const o=a(e,["bytesBase64Encoded"]);o!=null&&c(t,["videoBytes"],mu(o));const r=a(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yc;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Yc||(Yc={}));var Qc;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Qc||(Qc={}));var Xc;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Xc||(Xc={}));var Ut;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ut||(Ut={}));var Zc;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Zc||(Zc={}));var ed;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(ed||(ed={}));var td;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(td||(td={}));var nd;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(nd||(nd={}));var od;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(od||(od={}));var rd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(rd||(rd={}));var sd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(sd||(sd={}));var id;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(id||(id={}));var ld;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ld||(ld={}));var ad;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(ad||(ad={}));var ud;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(ud||(ud={}));var cd;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(cd||(cd={}));var dd;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(dd||(dd={}));var fd;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(fd||(fd={}));var pd;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(pd||(pd={}));var md;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(md||(md={}));var hd;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(hd||(hd={}));var ks;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(ks||(ks={}));var gd;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gd||(gd={}));var vd;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(vd||(vd={}));var xd;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(xd||(xd={}));var Wl;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Wl||(Wl={}));var yd;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(yd||(yd={}));var Cd;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Cd||(Cd={}));var Jl;(function(e){e.COLLECTION="COLLECTION"})(Jl||(Jl={}));var Sd;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Sd||(Sd={}));var wd;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(wd||(wd={}));var Nd;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Nd||(Nd={}));var Td;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Td||(Td={}));var Ed;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Ed||(Ed={}));var _d;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(_d||(_d={}));var Id;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Id||(Id={}));var kd;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(kd||(kd={}));var Ad;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ad||(Ad={}));var bd;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(bd||(bd={}));var Rd;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Rd||(Rd={}));var Md;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Md||(Md={}));var Pd;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Pd||(Pd={}));var Ld;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(Ld||(Ld={}));var Dd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Dd||(Dd={}));var jd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(jd||(jd={}));var Fd;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(Fd||(Fd={}));var Ud;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ud||(Ud={}));var Vd;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Vd||(Vd={}));var Gd;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Gd||(Gd={}));var Hd;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(Hd||(Hd={}));var Bd;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Bd||(Bd={}));var zd;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(zd||(zd={}));var qd;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(qd||(qd={}));var Od;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Od||(Od={}));var $d;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($d||($d={}));var Wd;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Wd||(Wd={}));var Vn;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Vn||(Vn={}));class Kl{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class So{get text(){var t,n,o,r,s,l,u,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const m=[];for(const h of(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&m.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;p=!0,f+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var t,n,o,r,s,l,u,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const m of(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[h,g]of Object.entries(m))h!=="inlineData"&&(g!==null||g!==void 0)&&p.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,o,r,s,l,u,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,o,r,s,l,u,d,f;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,o,r,s,l,u,d,f;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class Jd{}class Kd{}class U1{}class V1{}class G1{}class H1{}class Yd{}class Qd{}class Xd{}class B1{}class As{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new As;let r;const s=t;return n?r=_1(s):r=E1(s),Object.assign(o,r),o}}class Zd{}class ef{}class tf{}class nf{}class z1{}class q1{}class O1{}class hu{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new hu,s=P1(t);return Object.assign(o,s),o}}class $1{}class W1{}class J1{}class K1{}class of{}class Y1{get text(){var t,n,o;let r="",s=!1;const l=[];for(const u of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var t,n,o;let r="";const s=[];for(const l of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&s.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Q1{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class gu{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new gu,s=lh(t);return Object.assign(o,s),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function ah(e,t){const n=Y(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function uh(e){return Array.isArray(e)?e.map(t=>bs(t)):[bs(e)]}function bs(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function ch(e){const t=bs(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function dh(e){const t=bs(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function rf(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function fh(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>rf(t)):[rf(e)]}function Yl(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function sf(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function lf(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Ee(e){if(e==null)throw new Error("ContentUnion is required");return Yl(e)?e:{role:"user",parts:fh(e)}}function vu(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=Ee(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=Ee(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Ee(n)):[Ee(t)]}function Je(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(sf(e)||lf(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ee(e)]}const t=[],n=[],o=Yl(e[0]);for(const r of e){const s=Yl(r);if(s!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(r);else{if(sf(r)||lf(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||t.push({role:"user",parts:fh(n)}),t}function X1(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(Ut).includes(n[0].toUpperCase())?n[0].toUpperCase():Ut.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(Ut).includes(o.toUpperCase())?o.toUpperCase():Ut.TYPE_UNSPECIFIED})}}function Wn(e){const t={},n=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=e.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(t.nullable=!0,e=s[1]):s[1].type==="null"&&(t.nullable=!0,e=s[0])),e.type instanceof Array&&X1(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Ut).includes(u.toUpperCase())?u.toUpperCase():Ut.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Wn(u);else if(o.includes(l)){const d=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}d.push(Wn(f))}t[l]=d}else if(r.includes(l)){const d={};for(const[f,p]of Object.entries(u))d[f]=Wn(p);t[l]=d}else{if(l==="additionalProperties")continue;t[l]=u}return t}function xu(e){return Wn(e)}function yu(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Cu(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function ao(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Wn(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Wn(t.response));return e}function uo(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Z1(e,t,n,o=1){const r=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:r?`${n}/${t}`:t}function At(e,t){if(typeof t!="string")throw new Error("name must be a string");return Z1(e,t,"cachedContents")}function ph(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function nn(e){return mu(e)}function eC(e){return e!=null&&typeof e=="object"&&"name"in e}function tC(e){return e!=null&&typeof e=="object"&&"video"in e}function nC(e){return e!=null&&typeof e=="object"&&"uri"in e}function mh(e){var t;let n;if(eC(e)&&(n=e.name),!(nC(e)&&(n=e.uri,n===void 0))&&!(tC(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function hh(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function gh(e){for(const t of["models","tunedModels","publisherModels"])if(oC(e,t))return e[t];return[]}function oC(e,t){return e!==null&&typeof e=="object"&&t in e}function rC(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function sC(e,t={}){const n=[],o=new Set;for(const r of e){const s=r.name;if(o.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);o.add(s);const l=rC(r,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function vh(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function iC(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function xh(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let s=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){s=!0;break}}return s&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function co(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function yh(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lC(e){const t={},n=a(e,["responsesFile"]);n!=null&&c(t,["fileName"],n);const o=a(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>HC(l))),c(t,["inlinedResponses"],s)}const r=a(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),c(t,["inlinedEmbedContentResponses"],s)}return t}function aC(e){const t={},n=a(e,["predictionsFormat"]);n!=null&&c(t,["format"],n);const o=a(e,["gcsDestination","outputUriPrefix"]);o!=null&&c(t,["gcsUri"],o);const r=a(e,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function uC(e){const t={},n=a(e,["format"]);n!=null&&c(t,["predictionsFormat"],n);const o=a(e,["gcsUri"]);o!=null&&c(t,["gcsDestination","outputUriPrefix"],o);const r=a(e,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),a(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Zr(e){const t={},n=a(e,["name"]);n!=null&&c(t,["name"],n);const o=a(e,["metadata","displayName"]);o!=null&&c(t,["displayName"],o);const r=a(e,["metadata","state"]);r!=null&&c(t,["state"],yh(r));const s=a(e,["metadata","createTime"]);s!=null&&c(t,["createTime"],s);const l=a(e,["metadata","endTime"]);l!=null&&c(t,["endTime"],l);const u=a(e,["metadata","updateTime"]);u!=null&&c(t,["updateTime"],u);const d=a(e,["metadata","model"]);d!=null&&c(t,["model"],d);const f=a(e,["metadata","output"]);return f!=null&&c(t,["dest"],lC(xh(f))),t}function Ql(e){const t={},n=a(e,["name"]);n!=null&&c(t,["name"],n);const o=a(e,["displayName"]);o!=null&&c(t,["displayName"],o);const r=a(e,["state"]);r!=null&&c(t,["state"],yh(r));const s=a(e,["error"]);s!=null&&c(t,["error"],s);const l=a(e,["createTime"]);l!=null&&c(t,["createTime"],l);const u=a(e,["startTime"]);u!=null&&c(t,["startTime"],u);const d=a(e,["endTime"]);d!=null&&c(t,["endTime"],d);const f=a(e,["updateTime"]);f!=null&&c(t,["updateTime"],f);const p=a(e,["model"]);p!=null&&c(t,["model"],p);const m=a(e,["inputConfig"]);m!=null&&c(t,["src"],cC(m));const h=a(e,["outputConfig"]);h!=null&&c(t,["dest"],aC(xh(h)));const g=a(e,["completionStats"]);return g!=null&&c(t,["completionStats"],g),t}function cC(e){const t={},n=a(e,["instancesFormat"]);n!=null&&c(t,["format"],n);const o=a(e,["gcsSource","uris"]);o!=null&&c(t,["gcsUri"],o);const r=a(e,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function dC(e,t){const n={};if(a(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=a(t,["fileName"]);o!=null&&c(n,["fileName"],o);const r=a(t,["inlinedRequests"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>GC(e,l))),c(n,["requests","requests"],s)}return n}function fC(e){const t={},n=a(e,["format"]);n!=null&&c(t,["instancesFormat"],n);const o=a(e,["gcsUri"]);o!=null&&c(t,["gcsSource","uris"],o);const r=a(e,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),a(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function pC(e){const t={},n=a(e,["data"]);if(n!=null&&c(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function mC(e,t){const n={},o=a(t,["name"]);return o!=null&&c(n,["_url","name"],co(e,o)),n}function hC(e,t){const n={},o=a(t,["name"]);return o!=null&&c(n,["_url","name"],co(e,o)),n}function gC(e){const t={},n=a(e,["content"]);n!=null&&c(t,["content"],n);const o=a(e,["citationMetadata"]);o!=null&&c(t,["citationMetadata"],vC(o));const r=a(e,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const s=a(e,["finishReason"]);s!=null&&c(t,["finishReason"],s);const l=a(e,["avgLogprobs"]);l!=null&&c(t,["avgLogprobs"],l);const u=a(e,["groundingMetadata"]);u!=null&&c(t,["groundingMetadata"],u);const d=a(e,["index"]);d!=null&&c(t,["index"],d);const f=a(e,["logprobsResult"]);f!=null&&c(t,["logprobsResult"],f);const p=a(e,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),c(t,["safetyRatings"],h)}const m=a(e,["urlContextMetadata"]);return m!=null&&c(t,["urlContextMetadata"],m),t}function vC(e){const t={},n=a(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),c(t,["citations"],o)}return t}function Ch(e){const t={},n=a(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>JC(s))),c(t,["parts"],r)}const o=a(e,["role"]);return o!=null&&c(t,["role"],o),t}function xC(e,t){const n={},o=a(e,["displayName"]);if(t!==void 0&&o!=null&&c(t,["batch","displayName"],o),a(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function yC(e,t){const n={},o=a(e,["displayName"]);t!==void 0&&o!=null&&c(t,["displayName"],o);const r=a(e,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],uC(iC(r))),n}function af(e,t){const n={},o=a(t,["model"]);o!=null&&c(n,["_url","model"],Y(e,o));const r=a(t,["src"]);r!=null&&c(n,["batch","inputConfig"],dC(e,vh(e,r)));const s=a(t,["config"]);return s!=null&&xC(s,n),n}function CC(e,t){const n={},o=a(t,["model"]);o!=null&&c(n,["model"],Y(e,o));const r=a(t,["src"]);r!=null&&c(n,["inputConfig"],fC(vh(e,r)));const s=a(t,["config"]);return s!=null&&yC(s,n),n}function SC(e,t){const n={},o=a(e,["displayName"]);return t!==void 0&&o!=null&&c(t,["batch","displayName"],o),n}function wC(e,t){const n={},o=a(t,["model"]);o!=null&&c(n,["_url","model"],Y(e,o));const r=a(t,["src"]);r!=null&&c(n,["batch","inputConfig"],AC(e,r));const s=a(t,["config"]);return s!=null&&SC(s,n),n}function NC(e,t){const n={},o=a(t,["name"]);return o!=null&&c(n,["_url","name"],co(e,o)),n}function TC(e,t){const n={},o=a(t,["name"]);return o!=null&&c(n,["_url","name"],co(e,o)),n}function EC(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=a(e,["name"]);o!=null&&c(t,["name"],o);const r=a(e,["done"]);r!=null&&c(t,["done"],r);const s=a(e,["error"]);return s!=null&&c(t,["error"],s),t}function _C(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=a(e,["name"]);o!=null&&c(t,["name"],o);const r=a(e,["done"]);r!=null&&c(t,["done"],r);const s=a(e,["error"]);return s!=null&&c(t,["error"],s),t}function IC(e,t){const n={},o=a(t,["contents"]);if(o!=null){let s=vu(e,o);Array.isArray(s)&&(s=s.map(l=>l)),c(n,["requests[]","request","content"],s)}const r=a(t,["config"]);return r!=null&&(c(n,["_self"],kC(r,n)),N1(n,{"requests[].*":"requests[].request.*"})),n}function kC(e,t){const n={},o=a(e,["taskType"]);t!==void 0&&o!=null&&c(t,["requests[]","taskType"],o);const r=a(e,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const s=a(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&c(t,["requests[]","outputDimensionality"],s),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function AC(e,t){const n={},o=a(t,["fileName"]);o!=null&&c(n,["file_name"],o);const r=a(t,["inlinedRequests"]);return r!=null&&c(n,["requests"],IC(e,r)),n}function bC(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const o=a(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function RC(e){const t={},n=a(e,["id"]);n!=null&&c(t,["id"],n);const o=a(e,["args"]);o!=null&&c(t,["args"],o);const r=a(e,["name"]);if(r!=null&&c(t,["name"],r),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function MC(e){const t={},n=a(e,["allowedFunctionNames"]);n!=null&&c(t,["allowedFunctionNames"],n);const o=a(e,["mode"]);if(o!=null&&c(t,["mode"],o),a(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function PC(e,t,n){const o={},r=a(t,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],Ch(Ee(r)));const s=a(t,["temperature"]);s!=null&&c(o,["temperature"],s);const l=a(t,["topP"]);l!=null&&c(o,["topP"],l);const u=a(t,["topK"]);u!=null&&c(o,["topK"],u);const d=a(t,["candidateCount"]);d!=null&&c(o,["candidateCount"],d);const f=a(t,["maxOutputTokens"]);f!=null&&c(o,["maxOutputTokens"],f);const p=a(t,["stopSequences"]);p!=null&&c(o,["stopSequences"],p);const m=a(t,["responseLogprobs"]);m!=null&&c(o,["responseLogprobs"],m);const h=a(t,["logprobs"]);h!=null&&c(o,["logprobs"],h);const g=a(t,["presencePenalty"]);g!=null&&c(o,["presencePenalty"],g);const v=a(t,["frequencyPenalty"]);v!=null&&c(o,["frequencyPenalty"],v);const w=a(t,["seed"]);w!=null&&c(o,["seed"],w);const C=a(t,["responseMimeType"]);C!=null&&c(o,["responseMimeType"],C);const y=a(t,["responseSchema"]);y!=null&&c(o,["responseSchema"],xu(y));const x=a(t,["responseJsonSchema"]);if(x!=null&&c(o,["responseJsonSchema"],x),a(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=a(t,["safetySettings"]);if(n!==void 0&&S!=null){let $=S;Array.isArray($)&&($=$.map(X=>KC(X))),c(n,["safetySettings"],$)}const N=a(t,["tools"]);if(n!==void 0&&N!=null){let $=uo(N);Array.isArray($)&&($=$.map(X=>QC(ao(X)))),c(n,["tools"],$)}const E=a(t,["toolConfig"]);if(n!==void 0&&E!=null&&c(n,["toolConfig"],YC(E)),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=a(t,["cachedContent"]);n!==void 0&&T!=null&&c(n,["cachedContent"],At(e,T));const I=a(t,["responseModalities"]);I!=null&&c(o,["responseModalities"],I);const k=a(t,["mediaResolution"]);k!=null&&c(o,["mediaResolution"],k);const b=a(t,["speechConfig"]);if(b!=null&&c(o,["speechConfig"],yu(b)),a(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const A=a(t,["thinkingConfig"]);A!=null&&c(o,["thinkingConfig"],A);const D=a(t,["imageConfig"]);D!=null&&c(o,["imageConfig"],VC(D));const F=a(t,["enableEnhancedCivicAnswers"]);if(F!=null&&c(o,["enableEnhancedCivicAnswers"],F),a(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function LC(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=a(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>gC(f))),c(t,["candidates"],d)}const r=a(e,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const s=a(e,["promptFeedback"]);s!=null&&c(t,["promptFeedback"],s);const l=a(e,["responseId"]);l!=null&&c(t,["responseId"],l);const u=a(e,["usageMetadata"]);return u!=null&&c(t,["usageMetadata"],u),t}function DC(e,t){const n={},o=a(t,["name"]);return o!=null&&c(n,["_url","name"],co(e,o)),n}function jC(e,t){const n={},o=a(t,["name"]);return o!=null&&c(n,["_url","name"],co(e,o)),n}function FC(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function UC(e){const t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function VC(e){const t={},n=a(e,["aspectRatio"]);n!=null&&c(t,["aspectRatio"],n);const o=a(e,["imageSize"]);if(o!=null&&c(t,["imageSize"],o),a(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function GC(e,t){const n={},o=a(t,["model"]);o!=null&&c(n,["request","model"],Y(e,o));const r=a(t,["contents"]);if(r!=null){let u=Je(r);Array.isArray(u)&&(u=u.map(d=>Ch(d))),c(n,["request","contents"],u)}const s=a(t,["metadata"]);s!=null&&c(n,["metadata"],s);const l=a(t,["config"]);return l!=null&&c(n,["request","generationConfig"],PC(e,l,a(n,["request"],{}))),n}function HC(e){const t={},n=a(e,["response"]);n!=null&&c(t,["response"],LC(n));const o=a(e,["metadata"]);o!=null&&c(t,["metadata"],o);const r=a(e,["error"]);return r!=null&&c(t,["error"],r),t}function BC(e,t){const n={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=a(e,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),a(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function zC(e,t){const n={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=a(e,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const s=a(e,["filter"]);return t!==void 0&&s!=null&&c(t,["_query","filter"],s),n}function qC(e){const t={},n=a(e,["config"]);return n!=null&&BC(n,t),t}function OC(e){const t={},n=a(e,["config"]);return n!=null&&zC(n,t),t}function $C(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=a(e,["operations"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>Zr(l))),c(t,["batchJobs"],s)}return t}function WC(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=a(e,["batchPredictionJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>Ql(l))),c(t,["batchJobs"],s)}return t}function JC(e){const t={},n=a(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);const o=a(e,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);const r=a(e,["executableCode"]);r!=null&&c(t,["executableCode"],r);const s=a(e,["fileData"]);s!=null&&c(t,["fileData"],bC(s));const l=a(e,["functionCall"]);l!=null&&c(t,["functionCall"],RC(l));const u=a(e,["functionResponse"]);u!=null&&c(t,["functionResponse"],u);const d=a(e,["inlineData"]);d!=null&&c(t,["inlineData"],pC(d));const f=a(e,["text"]);f!=null&&c(t,["text"],f);const p=a(e,["thought"]);p!=null&&c(t,["thought"],p);const m=a(e,["thoughtSignature"]);m!=null&&c(t,["thoughtSignature"],m);const h=a(e,["videoMetadata"]);return h!=null&&c(t,["videoMetadata"],h),t}function KC(e){const t={},n=a(e,["category"]);if(n!=null&&c(t,["category"],n),a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=a(e,["threshold"]);return o!=null&&c(t,["threshold"],o),t}function YC(e){const t={},n=a(e,["retrievalConfig"]);n!=null&&c(t,["retrievalConfig"],n);const o=a(e,["functionCallingConfig"]);return o!=null&&c(t,["functionCallingConfig"],MC(o)),t}function QC(e){const t={};if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=a(e,["computerUse"]);n!=null&&c(t,["computerUse"],n);const o=a(e,["fileSearch"]);o!=null&&c(t,["fileSearch"],o);const r=a(e,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=a(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(m=>m)),c(t,["functionDeclarations"],p)}const l=a(e,["googleMaps"]);l!=null&&c(t,["googleMaps"],FC(l));const u=a(e,["googleSearch"]);u!=null&&c(t,["googleSearch"],UC(u));const d=a(e,["googleSearchRetrieval"]);d!=null&&c(t,["googleSearchRetrieval"],d);const f=a(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Et;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Et||(Et={}));class Nn{constructor(t,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,r)}init(t,n,o){var r,s;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(s=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XC extends kt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Nn(Et.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=af(this.apiClient,t),o=n._url,r=L("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,d=u.requests,f=[];for(const p of d){const m=Object.assign({},p);if(m.systemInstruction){const h=m.systemInstruction;delete m.systemInstruction;const g=m.request;g.systemInstruction=h,m.request=g}f.push(m)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const s=this.getGcsUri(t),l=this.getBigqueryUri(t);if(s)s.endsWith(".jsonl")?o.dest=`${s.slice(0,-6)}/dest`:o.dest=`${s}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=CC(this.apiClient,t);return u=L("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>Ql(p))}else{const f=af(this.apiClient,t);return u=L("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>Zr(p))}}async createEmbeddingsInternal(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wC(this.apiClient,t);return s=L("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>Zr(d))}}async get(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=jC(this.apiClient,t);return u=L("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>Ql(p))}else{const f=DC(this.apiClient,t);return u=L("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>Zr(p))}}async cancel(t){var n,o,r,s;let l="",u={};if(this.apiClient.isVertexAI()){const d=hC(this.apiClient,t);l=L("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=mC(this.apiClient,t);l=L("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=OC(t);return u=L("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=WC(p),h=new of;return Object.assign(h,m),h})}else{const f=qC(t);return u=L("batches",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=$C(p),h=new of;return Object.assign(h,m),h})}}async delete(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=TC(this.apiClient,t);return u=L("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>_C(p))}else{const f=NC(this.apiClient,t);return u=L("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>EC(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZC(e){const t={},n=a(e,["data"]);if(n!=null&&c(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function uf(e){const t={},n=a(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>wS(s))),c(t,["parts"],r)}const o=a(e,["role"]);return o!=null&&c(t,["role"],o),t}function eS(e,t){const n={},o=a(e,["ttl"]);t!==void 0&&o!=null&&c(t,["ttl"],o);const r=a(e,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const s=a(e,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const l=a(e,["contents"]);if(t!==void 0&&l!=null){let p=Je(l);Array.isArray(p)&&(p=p.map(m=>uf(m))),c(t,["contents"],p)}const u=a(e,["systemInstruction"]);t!==void 0&&u!=null&&c(t,["systemInstruction"],uf(Ee(u)));const d=a(e,["tools"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>TS(m))),c(t,["tools"],p)}const f=a(e,["toolConfig"]);if(t!==void 0&&f!=null&&c(t,["toolConfig"],NS(f)),a(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function tS(e,t){const n={},o=a(e,["ttl"]);t!==void 0&&o!=null&&c(t,["ttl"],o);const r=a(e,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const s=a(e,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const l=a(e,["contents"]);if(t!==void 0&&l!=null){let m=Je(l);Array.isArray(m)&&(m=m.map(h=>h)),c(t,["contents"],m)}const u=a(e,["systemInstruction"]);t!==void 0&&u!=null&&c(t,["systemInstruction"],Ee(u));const d=a(e,["tools"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>ES(h))),c(t,["tools"],m)}const f=a(e,["toolConfig"]);t!==void 0&&f!=null&&c(t,["toolConfig"],f);const p=a(e,["kmsKeyName"]);return t!==void 0&&p!=null&&c(t,["encryption_spec","kmsKeyName"],p),n}function nS(e,t){const n={},o=a(t,["model"]);o!=null&&c(n,["model"],ah(e,o));const r=a(t,["config"]);return r!=null&&eS(r,n),n}function oS(e,t){const n={},o=a(t,["model"]);o!=null&&c(n,["model"],ah(e,o));const r=a(t,["config"]);return r!=null&&tS(r,n),n}function rS(e,t){const n={},o=a(t,["name"]);return o!=null&&c(n,["_url","name"],At(e,o)),n}function sS(e,t){const n={},o=a(t,["name"]);return o!=null&&c(n,["_url","name"],At(e,o)),n}function iS(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function lS(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function aS(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const o=a(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function uS(e){const t={},n=a(e,["id"]);n!=null&&c(t,["id"],n);const o=a(e,["args"]);o!=null&&c(t,["args"],o);const r=a(e,["name"]);if(r!=null&&c(t,["name"],r),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function cS(e){const t={},n=a(e,["allowedFunctionNames"]);n!=null&&c(t,["allowedFunctionNames"],n);const o=a(e,["mode"]);if(o!=null&&c(t,["mode"],o),a(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function dS(e){const t={},n=a(e,["description"]);n!=null&&c(t,["description"],n);const o=a(e,["name"]);o!=null&&c(t,["name"],o);const r=a(e,["parameters"]);r!=null&&c(t,["parameters"],r);const s=a(e,["parametersJsonSchema"]);s!=null&&c(t,["parametersJsonSchema"],s);const l=a(e,["response"]);l!=null&&c(t,["response"],l);const u=a(e,["responseJsonSchema"]);if(u!=null&&c(t,["responseJsonSchema"],u),a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function fS(e,t){const n={},o=a(t,["name"]);return o!=null&&c(n,["_url","name"],At(e,o)),n}function pS(e,t){const n={},o=a(t,["name"]);return o!=null&&c(n,["_url","name"],At(e,o)),n}function mS(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function hS(e){const t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function gS(e,t){const n={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=a(e,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),n}function vS(e,t){const n={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=a(e,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),n}function xS(e){const t={},n=a(e,["config"]);return n!=null&&gS(n,t),t}function yS(e){const t={},n=a(e,["config"]);return n!=null&&vS(n,t),t}function CS(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=a(e,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),c(t,["cachedContents"],s)}return t}function SS(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=a(e,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),c(t,["cachedContents"],s)}return t}function wS(e){const t={},n=a(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);const o=a(e,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);const r=a(e,["executableCode"]);r!=null&&c(t,["executableCode"],r);const s=a(e,["fileData"]);s!=null&&c(t,["fileData"],aS(s));const l=a(e,["functionCall"]);l!=null&&c(t,["functionCall"],uS(l));const u=a(e,["functionResponse"]);u!=null&&c(t,["functionResponse"],u);const d=a(e,["inlineData"]);d!=null&&c(t,["inlineData"],ZC(d));const f=a(e,["text"]);f!=null&&c(t,["text"],f);const p=a(e,["thought"]);p!=null&&c(t,["thought"],p);const m=a(e,["thoughtSignature"]);m!=null&&c(t,["thoughtSignature"],m);const h=a(e,["videoMetadata"]);return h!=null&&c(t,["videoMetadata"],h),t}function NS(e){const t={},n=a(e,["retrievalConfig"]);n!=null&&c(t,["retrievalConfig"],n);const o=a(e,["functionCallingConfig"]);return o!=null&&c(t,["functionCallingConfig"],cS(o)),t}function TS(e){const t={};if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=a(e,["computerUse"]);n!=null&&c(t,["computerUse"],n);const o=a(e,["fileSearch"]);o!=null&&c(t,["fileSearch"],o);const r=a(e,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=a(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(m=>m)),c(t,["functionDeclarations"],p)}const l=a(e,["googleMaps"]);l!=null&&c(t,["googleMaps"],mS(l));const u=a(e,["googleSearch"]);u!=null&&c(t,["googleSearch"],hS(u));const d=a(e,["googleSearchRetrieval"]);d!=null&&c(t,["googleSearchRetrieval"],d);const f=a(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}function ES(e){const t={},n=a(e,["retrieval"]);n!=null&&c(t,["retrieval"],n);const o=a(e,["computerUse"]);if(o!=null&&c(t,["computerUse"],o),a(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=a(e,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const s=a(e,["enterpriseWebSearch"]);s!=null&&c(t,["enterpriseWebSearch"],s);const l=a(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>dS(h))),c(t,["functionDeclarations"],m)}const u=a(e,["googleMaps"]);u!=null&&c(t,["googleMaps"],u);const d=a(e,["googleSearch"]);d!=null&&c(t,["googleSearch"],d);const f=a(e,["googleSearchRetrieval"]);f!=null&&c(t,["googleSearchRetrieval"],f);const p=a(e,["urlContext"]);return p!=null&&c(t,["urlContext"],p),t}function _S(e,t){const n={},o=a(e,["ttl"]);t!==void 0&&o!=null&&c(t,["ttl"],o);const r=a(e,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),n}function IS(e,t){const n={},o=a(e,["ttl"]);t!==void 0&&o!=null&&c(t,["ttl"],o);const r=a(e,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),n}function kS(e,t){const n={},o=a(t,["name"]);o!=null&&c(n,["_url","name"],At(e,o));const r=a(t,["config"]);return r!=null&&_S(r,n),n}function AS(e,t){const n={},o=a(t,["name"]);o!=null&&c(n,["_url","name"],At(e,o));const r=a(t,["config"]);return r!=null&&IS(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bS extends kt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Nn(Et.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=oS(this.apiClient,t);return u=L("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=nS(this.apiClient,t);return u=L("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async get(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=pS(this.apiClient,t);return u=L("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=fS(this.apiClient,t);return u=L("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=sS(this.apiClient,t);return u=L("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=lS(p),h=new tf;return Object.assign(h,m),h})}else{const f=rS(this.apiClient,t);return u=L("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=iS(p),h=new tf;return Object.assign(h,m),h})}}async update(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=AS(this.apiClient,t);return u=L("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=kS(this.apiClient,t);return u=L("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async listInternal(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=yS(t);return u=L("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=SS(p),h=new nf;return Object.assign(h,m),h})}else{const f=xS(t);return u=L("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=CS(p),h=new nf;return Object.assign(h,m),h})}}}function Rs(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}function cf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(e){return this instanceof H?(this.v=e,this):new H(e)}function it(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(g){return function(v){return Promise.resolve(v).then(g,m)}}function u(g,v){o[g]&&(r[g]=function(w){return new Promise(function(C,y){s.push([g,w,C,y])>1||d(g,w)})},v&&(r[g]=v(r[g])))}function d(g,v){try{f(o[g](v))}catch(w){h(s[0][3],w)}}function f(g){g.value instanceof H?Promise.resolve(g.value.v).then(p,m):h(s[0][2],g)}function p(g){d("next",g)}function m(g){d("throw",g)}function h(g,v){g(v),s.shift(),s.length&&d(s[0][0],s[0][1])}}function lt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof cf=="function"?cf(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(s){n[s]=e[s]&&function(l){return new Promise(function(u,d){l=e[s](l),r(u,d,l.done,l.value)})}}function r(s,l,u,d){Promise.resolve(d).then(function(f){s({value:f,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RS(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Sh(n)}function Sh(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function MS(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function df(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const r=[];let s=!0;for(;o<n&&e[o].role==="model";)r.push(e[o]),s&&!Sh(e[o])&&(s=!1),o++;s?t.push(...r):t.pop()}return t}class PS{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new LS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class LS{constructor(t,n,o,r={},s=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),MS(s)}async sendMessage(t){var n;await this.sendPromise;const o=Ee(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,l,u;const d=await r,f=(l=(s=d.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content,p=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let h=[];p!=null&&(h=(u=p.slice(m))!==null&&u!==void 0?u:[]);const g=f?[f]:[];this.recordHistory(o,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var n;await this.sendPromise;const o=Ee(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,o)}getHistory(t=!1){const n=t?df(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return it(this,arguments,function*(){var r,s,l,u,d,f;const p=[];try{for(var m=!0,h=lt(t),g;g=yield H(h.next()),r=g.done,!r;m=!0){u=g.value,m=!1;const v=u;if(RS(v)){const w=(f=(d=v.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content;w!==void 0&&p.push(w)}yield yield H(v)}}catch(v){s={error:v}}finally{try{!m&&!r&&(l=h.return)&&(yield H(l.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,p)})}recordHistory(t,n,o){let r=[];n.length>0&&n.every(s=>s.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...df(o)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sr extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,sr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DS(e){const t={},n=a(e,["file"]);return n!=null&&c(t,["file"],n),t}function jS(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function FS(e){const t={},n=a(e,["name"]);return n!=null&&c(t,["_url","file"],mh(n)),t}function US(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function VS(e){const t={},n=a(e,["name"]);return n!=null&&c(t,["_url","file"],mh(n)),t}function GS(e){const t={},n=a(e,["uris"]);return n!=null&&c(t,["uris"],n),t}function HS(e,t){const n={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=a(e,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),n}function BS(e){const t={},n=a(e,["config"]);return n!=null&&HS(n,t),t}function zS(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=a(e,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),c(t,["files"],s)}return t}function qS(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=a(e,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),c(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OS extends kt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Nn(Et.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=BS(t);return s=L("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),r.then(d=>{const f=zS(d),p=new $1;return Object.assign(p,f),p})}}async createInternal(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=DS(t);return s=L("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=jS(d),p=new W1;return Object.assign(p,f),p})}}async get(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=VS(t);return s=L("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=FS(t);return s=L("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),r.then(d=>{const f=US(d),p=new J1;return Object.assign(p,f),p})}}async registerFilesInternal(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=GS(t);return s=L("files:register",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=qS(d),p=new K1;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function es(e){const t={},n=a(e,["data"]);if(n!=null&&c(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function $S(e){const t={},n=a(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>aw(s))),c(t,["parts"],r)}const o=a(e,["role"]);return o!=null&&c(t,["role"],o),t}function WS(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const o=a(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function JS(e){const t={},n=a(e,["id"]);n!=null&&c(t,["id"],n);const o=a(e,["args"]);o!=null&&c(t,["args"],o);const r=a(e,["name"]);if(r!=null&&c(t,["name"],r),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function KS(e){const t={},n=a(e,["description"]);n!=null&&c(t,["description"],n);const o=a(e,["name"]);o!=null&&c(t,["name"],o);const r=a(e,["parameters"]);r!=null&&c(t,["parameters"],r);const s=a(e,["parametersJsonSchema"]);s!=null&&c(t,["parametersJsonSchema"],s);const l=a(e,["response"]);l!=null&&c(t,["response"],l);const u=a(e,["responseJsonSchema"]);if(u!=null&&c(t,["responseJsonSchema"],u),a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function YS(e){const t={},n=a(e,["modelSelectionConfig"]);n!=null&&c(t,["modelConfig"],n);const o=a(e,["responseJsonSchema"]);o!=null&&c(t,["responseJsonSchema"],o);const r=a(e,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const s=a(e,["candidateCount"]);s!=null&&c(t,["candidateCount"],s);const l=a(e,["enableAffectiveDialog"]);l!=null&&c(t,["enableAffectiveDialog"],l);const u=a(e,["frequencyPenalty"]);u!=null&&c(t,["frequencyPenalty"],u);const d=a(e,["logprobs"]);d!=null&&c(t,["logprobs"],d);const f=a(e,["maxOutputTokens"]);f!=null&&c(t,["maxOutputTokens"],f);const p=a(e,["mediaResolution"]);p!=null&&c(t,["mediaResolution"],p);const m=a(e,["presencePenalty"]);m!=null&&c(t,["presencePenalty"],m);const h=a(e,["responseLogprobs"]);h!=null&&c(t,["responseLogprobs"],h);const g=a(e,["responseMimeType"]);g!=null&&c(t,["responseMimeType"],g);const v=a(e,["responseModalities"]);v!=null&&c(t,["responseModalities"],v);const w=a(e,["responseSchema"]);w!=null&&c(t,["responseSchema"],w);const C=a(e,["routingConfig"]);C!=null&&c(t,["routingConfig"],C);const y=a(e,["seed"]);y!=null&&c(t,["seed"],y);const x=a(e,["speechConfig"]);x!=null&&c(t,["speechConfig"],x);const S=a(e,["stopSequences"]);S!=null&&c(t,["stopSequences"],S);const N=a(e,["temperature"]);N!=null&&c(t,["temperature"],N);const E=a(e,["thinkingConfig"]);E!=null&&c(t,["thinkingConfig"],E);const T=a(e,["topK"]);T!=null&&c(t,["topK"],T);const I=a(e,["topP"]);if(I!=null&&c(t,["topP"],I),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function QS(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function XS(e){const t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function ZS(e,t){const n={},o=a(e,["generationConfig"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig"],o);const r=a(e,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const s=a(e,["temperature"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig","temperature"],s);const l=a(e,["topP"]);t!==void 0&&l!=null&&c(t,["setup","generationConfig","topP"],l);const u=a(e,["topK"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","topK"],u);const d=a(e,["maxOutputTokens"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","maxOutputTokens"],d);const f=a(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);const p=a(e,["seed"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","seed"],p);const m=a(e,["speechConfig"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","speechConfig"],Cu(m));const h=a(e,["thinkingConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","thinkingConfig"],h);const g=a(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=a(e,["systemInstruction"]);t!==void 0&&v!=null&&c(t,["setup","systemInstruction"],$S(Ee(v)));const w=a(e,["tools"]);if(t!==void 0&&w!=null){let T=uo(w);Array.isArray(T)&&(T=T.map(I=>cw(ao(I)))),c(t,["setup","tools"],T)}const C=a(e,["sessionResumption"]);t!==void 0&&C!=null&&c(t,["setup","sessionResumption"],uw(C));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&c(t,["setup","inputAudioTranscription"],y);const x=a(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&c(t,["setup","outputAudioTranscription"],x);const S=a(e,["realtimeInputConfig"]);t!==void 0&&S!=null&&c(t,["setup","realtimeInputConfig"],S);const N=a(e,["contextWindowCompression"]);t!==void 0&&N!=null&&c(t,["setup","contextWindowCompression"],N);const E=a(e,["proactivity"]);if(t!==void 0&&E!=null&&c(t,["setup","proactivity"],E),a(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function ew(e,t){const n={},o=a(e,["generationConfig"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig"],YS(o));const r=a(e,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const s=a(e,["temperature"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig","temperature"],s);const l=a(e,["topP"]);t!==void 0&&l!=null&&c(t,["setup","generationConfig","topP"],l);const u=a(e,["topK"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","topK"],u);const d=a(e,["maxOutputTokens"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","maxOutputTokens"],d);const f=a(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);const p=a(e,["seed"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","seed"],p);const m=a(e,["speechConfig"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","speechConfig"],Cu(m));const h=a(e,["thinkingConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","thinkingConfig"],h);const g=a(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=a(e,["systemInstruction"]);t!==void 0&&v!=null&&c(t,["setup","systemInstruction"],Ee(v));const w=a(e,["tools"]);if(t!==void 0&&w!=null){let I=uo(w);Array.isArray(I)&&(I=I.map(k=>dw(ao(k)))),c(t,["setup","tools"],I)}const C=a(e,["sessionResumption"]);t!==void 0&&C!=null&&c(t,["setup","sessionResumption"],C);const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&c(t,["setup","inputAudioTranscription"],y);const x=a(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&c(t,["setup","outputAudioTranscription"],x);const S=a(e,["realtimeInputConfig"]);t!==void 0&&S!=null&&c(t,["setup","realtimeInputConfig"],S);const N=a(e,["contextWindowCompression"]);t!==void 0&&N!=null&&c(t,["setup","contextWindowCompression"],N);const E=a(e,["proactivity"]);t!==void 0&&E!=null&&c(t,["setup","proactivity"],E);const T=a(e,["explicitVadSignal"]);return t!==void 0&&T!=null&&c(t,["setup","explicitVadSignal"],T),n}function tw(e,t){const n={},o=a(t,["model"]);o!=null&&c(n,["setup","model"],Y(e,o));const r=a(t,["config"]);return r!=null&&c(n,["config"],ZS(r,n)),n}function nw(e,t){const n={},o=a(t,["model"]);o!=null&&c(n,["setup","model"],Y(e,o));const r=a(t,["config"]);return r!=null&&c(n,["config"],ew(r,n)),n}function ow(e){const t={},n=a(e,["musicGenerationConfig"]);return n!=null&&c(t,["musicGenerationConfig"],n),t}function rw(e){const t={},n=a(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),c(t,["weightedPrompts"],o)}return t}function sw(e){const t={},n=a(e,["media"]);if(n!=null){let f=uh(n);Array.isArray(f)&&(f=f.map(p=>es(p))),c(t,["mediaChunks"],f)}const o=a(e,["audio"]);o!=null&&c(t,["audio"],es(dh(o)));const r=a(e,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const s=a(e,["video"]);s!=null&&c(t,["video"],es(ch(s)));const l=a(e,["text"]);l!=null&&c(t,["text"],l);const u=a(e,["activityStart"]);u!=null&&c(t,["activityStart"],u);const d=a(e,["activityEnd"]);return d!=null&&c(t,["activityEnd"],d),t}function iw(e){const t={},n=a(e,["media"]);if(n!=null){let f=uh(n);Array.isArray(f)&&(f=f.map(p=>p)),c(t,["mediaChunks"],f)}const o=a(e,["audio"]);o!=null&&c(t,["audio"],dh(o));const r=a(e,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const s=a(e,["video"]);s!=null&&c(t,["video"],ch(s));const l=a(e,["text"]);l!=null&&c(t,["text"],l);const u=a(e,["activityStart"]);u!=null&&c(t,["activityStart"],u);const d=a(e,["activityEnd"]);return d!=null&&c(t,["activityEnd"],d),t}function lw(e){const t={},n=a(e,["setupComplete"]);n!=null&&c(t,["setupComplete"],n);const o=a(e,["serverContent"]);o!=null&&c(t,["serverContent"],o);const r=a(e,["toolCall"]);r!=null&&c(t,["toolCall"],r);const s=a(e,["toolCallCancellation"]);s!=null&&c(t,["toolCallCancellation"],s);const l=a(e,["usageMetadata"]);l!=null&&c(t,["usageMetadata"],fw(l));const u=a(e,["goAway"]);u!=null&&c(t,["goAway"],u);const d=a(e,["sessionResumptionUpdate"]);d!=null&&c(t,["sessionResumptionUpdate"],d);const f=a(e,["voiceActivityDetectionSignal"]);f!=null&&c(t,["voiceActivityDetectionSignal"],f);const p=a(e,["voiceActivity"]);return p!=null&&c(t,["voiceActivity"],pw(p)),t}function aw(e){const t={},n=a(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);const o=a(e,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);const r=a(e,["executableCode"]);r!=null&&c(t,["executableCode"],r);const s=a(e,["fileData"]);s!=null&&c(t,["fileData"],WS(s));const l=a(e,["functionCall"]);l!=null&&c(t,["functionCall"],JS(l));const u=a(e,["functionResponse"]);u!=null&&c(t,["functionResponse"],u);const d=a(e,["inlineData"]);d!=null&&c(t,["inlineData"],es(d));const f=a(e,["text"]);f!=null&&c(t,["text"],f);const p=a(e,["thought"]);p!=null&&c(t,["thought"],p);const m=a(e,["thoughtSignature"]);m!=null&&c(t,["thoughtSignature"],m);const h=a(e,["videoMetadata"]);return h!=null&&c(t,["videoMetadata"],h),t}function uw(e){const t={},n=a(e,["handle"]);if(n!=null&&c(t,["handle"],n),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function cw(e){const t={};if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=a(e,["computerUse"]);n!=null&&c(t,["computerUse"],n);const o=a(e,["fileSearch"]);o!=null&&c(t,["fileSearch"],o);const r=a(e,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=a(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(m=>m)),c(t,["functionDeclarations"],p)}const l=a(e,["googleMaps"]);l!=null&&c(t,["googleMaps"],QS(l));const u=a(e,["googleSearch"]);u!=null&&c(t,["googleSearch"],XS(u));const d=a(e,["googleSearchRetrieval"]);d!=null&&c(t,["googleSearchRetrieval"],d);const f=a(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}function dw(e){const t={},n=a(e,["retrieval"]);n!=null&&c(t,["retrieval"],n);const o=a(e,["computerUse"]);if(o!=null&&c(t,["computerUse"],o),a(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=a(e,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const s=a(e,["enterpriseWebSearch"]);s!=null&&c(t,["enterpriseWebSearch"],s);const l=a(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>KS(h))),c(t,["functionDeclarations"],m)}const u=a(e,["googleMaps"]);u!=null&&c(t,["googleMaps"],u);const d=a(e,["googleSearch"]);d!=null&&c(t,["googleSearch"],d);const f=a(e,["googleSearchRetrieval"]);f!=null&&c(t,["googleSearchRetrieval"],f);const p=a(e,["urlContext"]);return p!=null&&c(t,["urlContext"],p),t}function fw(e){const t={},n=a(e,["promptTokenCount"]);n!=null&&c(t,["promptTokenCount"],n);const o=a(e,["cachedContentTokenCount"]);o!=null&&c(t,["cachedContentTokenCount"],o);const r=a(e,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const s=a(e,["toolUsePromptTokenCount"]);s!=null&&c(t,["toolUsePromptTokenCount"],s);const l=a(e,["thoughtsTokenCount"]);l!=null&&c(t,["thoughtsTokenCount"],l);const u=a(e,["totalTokenCount"]);u!=null&&c(t,["totalTokenCount"],u);const d=a(e,["promptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["promptTokensDetails"],g)}const f=a(e,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["cacheTokensDetails"],g)}const p=a(e,["candidatesTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["responseTokensDetails"],g)}const m=a(e,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["toolUsePromptTokensDetails"],g)}const h=a(e,["trafficType"]);return h!=null&&c(t,["trafficType"],h),t}function pw(e){const t={},n=a(e,["type"]);return n!=null&&c(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mw(e,t){const n={},o=a(e,["data"]);if(o!=null&&c(n,["data"],o),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=a(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function hw(e,t){const n={},o=a(e,["content"]);o!=null&&c(n,["content"],o);const r=a(e,["citationMetadata"]);r!=null&&c(n,["citationMetadata"],gw(r));const s=a(e,["tokenCount"]);s!=null&&c(n,["tokenCount"],s);const l=a(e,["finishReason"]);l!=null&&c(n,["finishReason"],l);const u=a(e,["avgLogprobs"]);u!=null&&c(n,["avgLogprobs"],u);const d=a(e,["groundingMetadata"]);d!=null&&c(n,["groundingMetadata"],d);const f=a(e,["index"]);f!=null&&c(n,["index"],f);const p=a(e,["logprobsResult"]);p!=null&&c(n,["logprobsResult"],p);const m=a(e,["safetyRatings"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(v=>v)),c(n,["safetyRatings"],g)}const h=a(e,["urlContextMetadata"]);return h!=null&&c(n,["urlContextMetadata"],h),n}function gw(e,t){const n={},o=a(e,["citationSources"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),c(n,["citations"],r)}return n}function vw(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["contents"]);if(s!=null){let l=Je(s);Array.isArray(l)&&(l=l.map(u=>u)),c(o,["contents"],l)}return o}function xw(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["tokensInfo"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),c(n,["tokensInfo"],s)}return n}function yw(e,t){const n={},o=a(e,["values"]);o!=null&&c(n,["values"],o);const r=a(e,["statistics"]);return r!=null&&c(n,["statistics"],Cw(r)),n}function Cw(e,t){const n={},o=a(e,["truncated"]);o!=null&&c(n,["truncated"],o);const r=a(e,["token_count"]);return r!=null&&c(n,["tokenCount"],r),n}function oi(e,t){const n={},o=a(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>AN(l))),c(n,["parts"],s)}const r=a(e,["role"]);return r!=null&&c(n,["role"],r),n}function Sw(e,t){const n={},o=a(e,["controlType"]);o!=null&&c(n,["controlType"],o);const r=a(e,["enableControlImageComputation"]);return r!=null&&c(n,["computeControl"],r),n}function ww(e,t){const n={};if(a(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Nw(e,t,n){const o={},r=a(e,["systemInstruction"]);t!==void 0&&r!=null&&c(t,["systemInstruction"],Ee(r));const s=a(e,["tools"]);if(t!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Eh(d))),c(t,["tools"],u)}const l=a(e,["generationConfig"]);return t!==void 0&&l!=null&&c(t,["generationConfig"],mN(l)),o}function Tw(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["contents"]);if(s!=null){let u=Je(s);Array.isArray(u)&&(u=u.map(d=>oi(d))),c(o,["contents"],u)}const l=a(t,["config"]);return l!=null&&ww(l),o}function Ew(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["contents"]);if(s!=null){let u=Je(s);Array.isArray(u)&&(u=u.map(d=>d)),c(o,["contents"],u)}const l=a(t,["config"]);return l!=null&&Nw(l,o),o}function _w(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["totalTokens"]);r!=null&&c(n,["totalTokens"],r);const s=a(e,["cachedContentTokenCount"]);return s!=null&&c(n,["cachedContentTokenCount"],s),n}function Iw(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["totalTokens"]);return r!=null&&c(n,["totalTokens"],r),n}function kw(e,t,n){const o={},r=a(t,["model"]);return r!=null&&c(o,["_url","name"],Y(e,r)),o}function Aw(e,t,n){const o={},r=a(t,["model"]);return r!=null&&c(o,["_url","name"],Y(e,r)),o}function bw(e,t){const n={},o=a(e,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function Rw(e,t){const n={},o=a(e,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function Mw(e,t,n){const o={},r=a(e,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const s=a(e,["negativePrompt"]);t!==void 0&&s!=null&&c(t,["parameters","negativePrompt"],s);const l=a(e,["numberOfImages"]);t!==void 0&&l!=null&&c(t,["parameters","sampleCount"],l);const u=a(e,["aspectRatio"]);t!==void 0&&u!=null&&c(t,["parameters","aspectRatio"],u);const d=a(e,["guidanceScale"]);t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d);const f=a(e,["seed"]);t!==void 0&&f!=null&&c(t,["parameters","seed"],f);const p=a(e,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const m=a(e,["personGeneration"]);t!==void 0&&m!=null&&c(t,["parameters","personGeneration"],m);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&c(t,["parameters","includeSafetyAttributes"],h);const g=a(e,["includeRaiReason"]);t!==void 0&&g!=null&&c(t,["parameters","includeRaiReason"],g);const v=a(e,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const w=a(e,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const C=a(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&c(t,["parameters","outputOptions","compressionQuality"],C);const y=a(e,["addWatermark"]);t!==void 0&&y!=null&&c(t,["parameters","addWatermark"],y);const x=a(e,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const S=a(e,["editMode"]);t!==void 0&&S!=null&&c(t,["parameters","editMode"],S);const N=a(e,["baseSteps"]);return t!==void 0&&N!=null&&c(t,["parameters","editConfig","baseSteps"],N),o}function Pw(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["prompt"]);s!=null&&c(o,["instances[0]","prompt"],s);const l=a(t,["referenceImages"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>DN(f))),c(o,["instances[0]","referenceImages"],d)}const u=a(t,["config"]);return u!=null&&Mw(u,o),o}function Lw(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>ri(l))),c(n,["generatedImages"],s)}return n}function Dw(e,t,n){const o={},r=a(e,["taskType"]);t!==void 0&&r!=null&&c(t,["requests[]","taskType"],r);const s=a(e,["title"]);t!==void 0&&s!=null&&c(t,["requests[]","title"],s);const l=a(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&c(t,["requests[]","outputDimensionality"],l),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function jw(e,t,n){const o={},r=a(e,["taskType"]);t!==void 0&&r!=null&&c(t,["instances[]","task_type"],r);const s=a(e,["title"]);t!==void 0&&s!=null&&c(t,["instances[]","title"],s);const l=a(e,["outputDimensionality"]);t!==void 0&&l!=null&&c(t,["parameters","outputDimensionality"],l);const u=a(e,["mimeType"]);t!==void 0&&u!=null&&c(t,["instances[]","mimeType"],u);const d=a(e,["autoTruncate"]);return t!==void 0&&d!=null&&c(t,["parameters","autoTruncate"],d),o}function Fw(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["contents"]);if(s!=null){let d=vu(e,s);Array.isArray(d)&&(d=d.map(f=>f)),c(o,["requests[]","content"],d)}const l=a(t,["config"]);l!=null&&Dw(l,o);const u=a(t,["model"]);return u!==void 0&&c(o,["requests[]","model"],Y(e,u)),o}function Uw(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["contents"]);if(s!=null){let u=vu(e,s);Array.isArray(u)&&(u=u.map(d=>d)),c(o,["instances[]","content"],u)}const l=a(t,["config"]);return l!=null&&jw(l,o),o}function Vw(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),c(n,["embeddings"],l)}const s=a(e,["metadata"]);return s!=null&&c(n,["metadata"],s),n}function Gw(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>yw(u))),c(n,["embeddings"],l)}const s=a(e,["metadata"]);return s!=null&&c(n,["metadata"],s),n}function Hw(e,t){const n={},o=a(e,["endpoint"]);o!=null&&c(n,["name"],o);const r=a(e,["deployedModelId"]);return r!=null&&c(n,["deployedModelId"],r),n}function Bw(e,t){const n={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(e,["fileUri"]);o!=null&&c(n,["fileUri"],o);const r=a(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function zw(e,t){const n={},o=a(e,["id"]);o!=null&&c(n,["id"],o);const r=a(e,["args"]);r!=null&&c(n,["args"],r);const s=a(e,["name"]);if(s!=null&&c(n,["name"],s),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function qw(e,t){const n={},o=a(e,["allowedFunctionNames"]);o!=null&&c(n,["allowedFunctionNames"],o);const r=a(e,["mode"]);if(r!=null&&c(n,["mode"],r),a(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Ow(e,t){const n={},o=a(e,["description"]);o!=null&&c(n,["description"],o);const r=a(e,["name"]);r!=null&&c(n,["name"],r);const s=a(e,["parameters"]);s!=null&&c(n,["parameters"],s);const l=a(e,["parametersJsonSchema"]);l!=null&&c(n,["parametersJsonSchema"],l);const u=a(e,["response"]);u!=null&&c(n,["response"],u);const d=a(e,["responseJsonSchema"]);if(d!=null&&c(n,["responseJsonSchema"],d),a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function $w(e,t,n,o){const r={},s=a(t,["systemInstruction"]);n!==void 0&&s!=null&&c(n,["systemInstruction"],oi(Ee(s)));const l=a(t,["temperature"]);l!=null&&c(r,["temperature"],l);const u=a(t,["topP"]);u!=null&&c(r,["topP"],u);const d=a(t,["topK"]);d!=null&&c(r,["topK"],d);const f=a(t,["candidateCount"]);f!=null&&c(r,["candidateCount"],f);const p=a(t,["maxOutputTokens"]);p!=null&&c(r,["maxOutputTokens"],p);const m=a(t,["stopSequences"]);m!=null&&c(r,["stopSequences"],m);const h=a(t,["responseLogprobs"]);h!=null&&c(r,["responseLogprobs"],h);const g=a(t,["logprobs"]);g!=null&&c(r,["logprobs"],g);const v=a(t,["presencePenalty"]);v!=null&&c(r,["presencePenalty"],v);const w=a(t,["frequencyPenalty"]);w!=null&&c(r,["frequencyPenalty"],w);const C=a(t,["seed"]);C!=null&&c(r,["seed"],C);const y=a(t,["responseMimeType"]);y!=null&&c(r,["responseMimeType"],y);const x=a(t,["responseSchema"]);x!=null&&c(r,["responseSchema"],xu(x));const S=a(t,["responseJsonSchema"]);if(S!=null&&c(r,["responseJsonSchema"],S),a(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=a(t,["safetySettings"]);if(n!==void 0&&N!=null){let X=N;Array.isArray(X)&&(X=X.map(Xe=>jN(Xe))),c(n,["safetySettings"],X)}const E=a(t,["tools"]);if(n!==void 0&&E!=null){let X=uo(E);Array.isArray(X)&&(X=X.map(Xe=>zN(ao(Xe)))),c(n,["tools"],X)}const T=a(t,["toolConfig"]);if(n!==void 0&&T!=null&&c(n,["toolConfig"],BN(T)),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=a(t,["cachedContent"]);n!==void 0&&I!=null&&c(n,["cachedContent"],At(e,I));const k=a(t,["responseModalities"]);k!=null&&c(r,["responseModalities"],k);const b=a(t,["mediaResolution"]);b!=null&&c(r,["mediaResolution"],b);const A=a(t,["speechConfig"]);if(A!=null&&c(r,["speechConfig"],yu(A)),a(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=a(t,["thinkingConfig"]);D!=null&&c(r,["thinkingConfig"],D);const F=a(t,["imageConfig"]);F!=null&&c(r,["imageConfig"],yN(F));const $=a(t,["enableEnhancedCivicAnswers"]);if($!=null&&c(r,["enableEnhancedCivicAnswers"],$),a(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Ww(e,t,n,o){const r={},s=a(t,["systemInstruction"]);n!==void 0&&s!=null&&c(n,["systemInstruction"],Ee(s));const l=a(t,["temperature"]);l!=null&&c(r,["temperature"],l);const u=a(t,["topP"]);u!=null&&c(r,["topP"],u);const d=a(t,["topK"]);d!=null&&c(r,["topK"],d);const f=a(t,["candidateCount"]);f!=null&&c(r,["candidateCount"],f);const p=a(t,["maxOutputTokens"]);p!=null&&c(r,["maxOutputTokens"],p);const m=a(t,["stopSequences"]);m!=null&&c(r,["stopSequences"],m);const h=a(t,["responseLogprobs"]);h!=null&&c(r,["responseLogprobs"],h);const g=a(t,["logprobs"]);g!=null&&c(r,["logprobs"],g);const v=a(t,["presencePenalty"]);v!=null&&c(r,["presencePenalty"],v);const w=a(t,["frequencyPenalty"]);w!=null&&c(r,["frequencyPenalty"],w);const C=a(t,["seed"]);C!=null&&c(r,["seed"],C);const y=a(t,["responseMimeType"]);y!=null&&c(r,["responseMimeType"],y);const x=a(t,["responseSchema"]);x!=null&&c(r,["responseSchema"],xu(x));const S=a(t,["responseJsonSchema"]);S!=null&&c(r,["responseJsonSchema"],S);const N=a(t,["routingConfig"]);N!=null&&c(r,["routingConfig"],N);const E=a(t,["modelSelectionConfig"]);E!=null&&c(r,["modelConfig"],E);const T=a(t,["safetySettings"]);if(n!==void 0&&T!=null){let P=T;Array.isArray(P)&&(P=P.map(G=>G)),c(n,["safetySettings"],P)}const I=a(t,["tools"]);if(n!==void 0&&I!=null){let P=uo(I);Array.isArray(P)&&(P=P.map(G=>Eh(ao(G)))),c(n,["tools"],P)}const k=a(t,["toolConfig"]);n!==void 0&&k!=null&&c(n,["toolConfig"],k);const b=a(t,["labels"]);n!==void 0&&b!=null&&c(n,["labels"],b);const A=a(t,["cachedContent"]);n!==void 0&&A!=null&&c(n,["cachedContent"],At(e,A));const D=a(t,["responseModalities"]);D!=null&&c(r,["responseModalities"],D);const F=a(t,["mediaResolution"]);F!=null&&c(r,["mediaResolution"],F);const $=a(t,["speechConfig"]);$!=null&&c(r,["speechConfig"],yu($));const X=a(t,["audioTimestamp"]);X!=null&&c(r,["audioTimestamp"],X);const Xe=a(t,["thinkingConfig"]);Xe!=null&&c(r,["thinkingConfig"],Xe);const Ze=a(t,["imageConfig"]);if(Ze!=null&&c(r,["imageConfig"],CN(Ze)),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Tn=a(t,["modelArmorConfig"]);return n!==void 0&&Tn!=null&&c(n,["modelArmorConfig"],Tn),r}function ff(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["contents"]);if(s!=null){let u=Je(s);Array.isArray(u)&&(u=u.map(d=>oi(d))),c(o,["contents"],u)}const l=a(t,["config"]);return l!=null&&c(o,["generationConfig"],$w(e,l,o)),o}function pf(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["contents"]);if(s!=null){let u=Je(s);Array.isArray(u)&&(u=u.map(d=>d)),c(o,["contents"],u)}const l=a(t,["config"]);return l!=null&&c(o,["generationConfig"],Ww(e,l,o)),o}function mf(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>hw(p))),c(n,["candidates"],f)}const s=a(e,["modelVersion"]);s!=null&&c(n,["modelVersion"],s);const l=a(e,["promptFeedback"]);l!=null&&c(n,["promptFeedback"],l);const u=a(e,["responseId"]);u!=null&&c(n,["responseId"],u);const d=a(e,["usageMetadata"]);return d!=null&&c(n,["usageMetadata"],d),n}function hf(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>m)),c(n,["candidates"],p)}const s=a(e,["createTime"]);s!=null&&c(n,["createTime"],s);const l=a(e,["modelVersion"]);l!=null&&c(n,["modelVersion"],l);const u=a(e,["promptFeedback"]);u!=null&&c(n,["promptFeedback"],u);const d=a(e,["responseId"]);d!=null&&c(n,["responseId"],d);const f=a(e,["usageMetadata"]);return f!=null&&c(n,["usageMetadata"],f),n}function Jw(e,t,n){const o={};if(a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=a(e,["numberOfImages"]);t!==void 0&&r!=null&&c(t,["parameters","sampleCount"],r);const s=a(e,["aspectRatio"]);t!==void 0&&s!=null&&c(t,["parameters","aspectRatio"],s);const l=a(e,["guidanceScale"]);if(t!==void 0&&l!=null&&c(t,["parameters","guidanceScale"],l),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=a(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&c(t,["parameters","safetySetting"],u);const d=a(e,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const f=a(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&c(t,["parameters","includeSafetyAttributes"],f);const p=a(e,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const m=a(e,["language"]);t!==void 0&&m!=null&&c(t,["parameters","language"],m);const h=a(e,["outputMimeType"]);t!==void 0&&h!=null&&c(t,["parameters","outputOptions","mimeType"],h);const g=a(e,["outputCompressionQuality"]);if(t!==void 0&&g!=null&&c(t,["parameters","outputOptions","compressionQuality"],g),a(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=a(e,["imageSize"]);if(t!==void 0&&v!=null&&c(t,["parameters","sampleImageSize"],v),a(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function Kw(e,t,n){const o={},r=a(e,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const s=a(e,["negativePrompt"]);t!==void 0&&s!=null&&c(t,["parameters","negativePrompt"],s);const l=a(e,["numberOfImages"]);t!==void 0&&l!=null&&c(t,["parameters","sampleCount"],l);const u=a(e,["aspectRatio"]);t!==void 0&&u!=null&&c(t,["parameters","aspectRatio"],u);const d=a(e,["guidanceScale"]);t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d);const f=a(e,["seed"]);t!==void 0&&f!=null&&c(t,["parameters","seed"],f);const p=a(e,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const m=a(e,["personGeneration"]);t!==void 0&&m!=null&&c(t,["parameters","personGeneration"],m);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&c(t,["parameters","includeSafetyAttributes"],h);const g=a(e,["includeRaiReason"]);t!==void 0&&g!=null&&c(t,["parameters","includeRaiReason"],g);const v=a(e,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const w=a(e,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const C=a(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&c(t,["parameters","outputOptions","compressionQuality"],C);const y=a(e,["addWatermark"]);t!==void 0&&y!=null&&c(t,["parameters","addWatermark"],y);const x=a(e,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const S=a(e,["imageSize"]);t!==void 0&&S!=null&&c(t,["parameters","sampleImageSize"],S);const N=a(e,["enhancePrompt"]);return t!==void 0&&N!=null&&c(t,["parameters","enhancePrompt"],N),o}function Yw(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["prompt"]);s!=null&&c(o,["instances[0]","prompt"],s);const l=a(t,["config"]);return l!=null&&Jw(l,o),o}function Qw(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["prompt"]);s!=null&&c(o,["instances[0]","prompt"],s);const l=a(t,["config"]);return l!=null&&Kw(l,o),o}function Xw(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>cN(u))),c(n,["generatedImages"],l)}const s=a(e,["positivePromptSafetyAttributes"]);return s!=null&&c(n,["positivePromptSafetyAttributes"],Nh(s)),n}function Zw(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>ri(u))),c(n,["generatedImages"],l)}const s=a(e,["positivePromptSafetyAttributes"]);return s!=null&&c(n,["positivePromptSafetyAttributes"],Th(s)),n}function eN(e,t,n){const o={},r=a(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&c(t,["parameters","sampleCount"],r),a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=a(e,["durationSeconds"]);if(t!==void 0&&s!=null&&c(t,["parameters","durationSeconds"],s),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=a(e,["aspectRatio"]);t!==void 0&&l!=null&&c(t,["parameters","aspectRatio"],l);const u=a(e,["resolution"]);t!==void 0&&u!=null&&c(t,["parameters","resolution"],u);const d=a(e,["personGeneration"]);if(t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d),a(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=a(e,["negativePrompt"]);t!==void 0&&f!=null&&c(t,["parameters","negativePrompt"],f);const p=a(e,["enhancePrompt"]);if(t!==void 0&&p!=null&&c(t,["parameters","enhancePrompt"],p),a(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=a(e,["lastFrame"]);t!==void 0&&m!=null&&c(t,["instances[0]","lastFrame"],si(m));const h=a(e,["referenceImages"]);if(t!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>nT(v))),c(t,["instances[0]","referenceImages"],g)}if(a(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function tN(e,t,n){const o={},r=a(e,["numberOfVideos"]);t!==void 0&&r!=null&&c(t,["parameters","sampleCount"],r);const s=a(e,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const l=a(e,["fps"]);t!==void 0&&l!=null&&c(t,["parameters","fps"],l);const u=a(e,["durationSeconds"]);t!==void 0&&u!=null&&c(t,["parameters","durationSeconds"],u);const d=a(e,["seed"]);t!==void 0&&d!=null&&c(t,["parameters","seed"],d);const f=a(e,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=a(e,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const m=a(e,["personGeneration"]);t!==void 0&&m!=null&&c(t,["parameters","personGeneration"],m);const h=a(e,["pubsubTopic"]);t!==void 0&&h!=null&&c(t,["parameters","pubsubTopic"],h);const g=a(e,["negativePrompt"]);t!==void 0&&g!=null&&c(t,["parameters","negativePrompt"],g);const v=a(e,["enhancePrompt"]);t!==void 0&&v!=null&&c(t,["parameters","enhancePrompt"],v);const w=a(e,["generateAudio"]);t!==void 0&&w!=null&&c(t,["parameters","generateAudio"],w);const C=a(e,["lastFrame"]);t!==void 0&&C!=null&&c(t,["instances[0]","lastFrame"],ut(C));const y=a(e,["referenceImages"]);if(t!==void 0&&y!=null){let N=y;Array.isArray(N)&&(N=N.map(E=>oT(E))),c(t,["instances[0]","referenceImages"],N)}const x=a(e,["mask"]);t!==void 0&&x!=null&&c(t,["instances[0]","mask"],tT(x));const S=a(e,["compressionQuality"]);return t!==void 0&&S!=null&&c(t,["parameters","compressionQuality"],S),o}function nN(e,t){const n={},o=a(e,["name"]);o!=null&&c(n,["name"],o);const r=a(e,["metadata"]);r!=null&&c(n,["metadata"],r);const s=a(e,["done"]);s!=null&&c(n,["done"],s);const l=a(e,["error"]);l!=null&&c(n,["error"],l);const u=a(e,["response","generateVideoResponse"]);return u!=null&&c(n,["response"],iN(u)),n}function oN(e,t){const n={},o=a(e,["name"]);o!=null&&c(n,["name"],o);const r=a(e,["metadata"]);r!=null&&c(n,["metadata"],r);const s=a(e,["done"]);s!=null&&c(n,["done"],s);const l=a(e,["error"]);l!=null&&c(n,["error"],l);const u=a(e,["response"]);return u!=null&&c(n,["response"],lN(u)),n}function rN(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["prompt"]);s!=null&&c(o,["instances[0]","prompt"],s);const l=a(t,["image"]);l!=null&&c(o,["instances[0]","image"],si(l));const u=a(t,["video"]);u!=null&&c(o,["instances[0]","video"],_h(u));const d=a(t,["source"]);d!=null&&aN(d,o);const f=a(t,["config"]);return f!=null&&eN(f,o),o}function sN(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["prompt"]);s!=null&&c(o,["instances[0]","prompt"],s);const l=a(t,["image"]);l!=null&&c(o,["instances[0]","image"],ut(l));const u=a(t,["video"]);u!=null&&c(o,["instances[0]","video"],Ih(u));const d=a(t,["source"]);d!=null&&uN(d,o);const f=a(t,["config"]);return f!=null&&tN(f,o),o}function iN(e,t){const n={},o=a(e,["generatedSamples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>fN(u))),c(n,["generatedVideos"],l)}const r=a(e,["raiMediaFilteredCount"]);r!=null&&c(n,["raiMediaFilteredCount"],r);const s=a(e,["raiMediaFilteredReasons"]);return s!=null&&c(n,["raiMediaFilteredReasons"],s),n}function lN(e,t){const n={},o=a(e,["videos"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>pN(u))),c(n,["generatedVideos"],l)}const r=a(e,["raiMediaFilteredCount"]);r!=null&&c(n,["raiMediaFilteredCount"],r);const s=a(e,["raiMediaFilteredReasons"]);return s!=null&&c(n,["raiMediaFilteredReasons"],s),n}function aN(e,t,n){const o={},r=a(e,["prompt"]);t!==void 0&&r!=null&&c(t,["instances[0]","prompt"],r);const s=a(e,["image"]);t!==void 0&&s!=null&&c(t,["instances[0]","image"],si(s));const l=a(e,["video"]);return t!==void 0&&l!=null&&c(t,["instances[0]","video"],_h(l)),o}function uN(e,t,n){const o={},r=a(e,["prompt"]);t!==void 0&&r!=null&&c(t,["instances[0]","prompt"],r);const s=a(e,["image"]);t!==void 0&&s!=null&&c(t,["instances[0]","image"],ut(s));const l=a(e,["video"]);return t!==void 0&&l!=null&&c(t,["instances[0]","video"],Ih(l)),o}function cN(e,t){const n={},o=a(e,["_self"]);o!=null&&c(n,["image"],SN(o));const r=a(e,["raiFilteredReason"]);r!=null&&c(n,["raiFilteredReason"],r);const s=a(e,["_self"]);return s!=null&&c(n,["safetyAttributes"],Nh(s)),n}function ri(e,t){const n={},o=a(e,["_self"]);o!=null&&c(n,["image"],wh(o));const r=a(e,["raiFilteredReason"]);r!=null&&c(n,["raiFilteredReason"],r);const s=a(e,["_self"]);s!=null&&c(n,["safetyAttributes"],Th(s));const l=a(e,["prompt"]);return l!=null&&c(n,["enhancedPrompt"],l),n}function dN(e,t){const n={},o=a(e,["_self"]);o!=null&&c(n,["mask"],wh(o));const r=a(e,["labels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),c(n,["labels"],s)}return n}function fN(e,t){const n={},o=a(e,["video"]);return o!=null&&c(n,["video"],ZN(o)),n}function pN(e,t){const n={},o=a(e,["_self"]);return o!=null&&c(n,["video"],eT(o)),n}function mN(e,t){const n={},o=a(e,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const r=a(e,["responseJsonSchema"]);r!=null&&c(n,["responseJsonSchema"],r);const s=a(e,["audioTimestamp"]);s!=null&&c(n,["audioTimestamp"],s);const l=a(e,["candidateCount"]);l!=null&&c(n,["candidateCount"],l);const u=a(e,["enableAffectiveDialog"]);u!=null&&c(n,["enableAffectiveDialog"],u);const d=a(e,["frequencyPenalty"]);d!=null&&c(n,["frequencyPenalty"],d);const f=a(e,["logprobs"]);f!=null&&c(n,["logprobs"],f);const p=a(e,["maxOutputTokens"]);p!=null&&c(n,["maxOutputTokens"],p);const m=a(e,["mediaResolution"]);m!=null&&c(n,["mediaResolution"],m);const h=a(e,["presencePenalty"]);h!=null&&c(n,["presencePenalty"],h);const g=a(e,["responseLogprobs"]);g!=null&&c(n,["responseLogprobs"],g);const v=a(e,["responseMimeType"]);v!=null&&c(n,["responseMimeType"],v);const w=a(e,["responseModalities"]);w!=null&&c(n,["responseModalities"],w);const C=a(e,["responseSchema"]);C!=null&&c(n,["responseSchema"],C);const y=a(e,["routingConfig"]);y!=null&&c(n,["routingConfig"],y);const x=a(e,["seed"]);x!=null&&c(n,["seed"],x);const S=a(e,["speechConfig"]);S!=null&&c(n,["speechConfig"],S);const N=a(e,["stopSequences"]);N!=null&&c(n,["stopSequences"],N);const E=a(e,["temperature"]);E!=null&&c(n,["temperature"],E);const T=a(e,["thinkingConfig"]);T!=null&&c(n,["thinkingConfig"],T);const I=a(e,["topK"]);I!=null&&c(n,["topK"],I);const k=a(e,["topP"]);if(k!=null&&c(n,["topP"],k),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function hN(e,t,n){const o={},r=a(t,["model"]);return r!=null&&c(o,["_url","name"],Y(e,r)),o}function gN(e,t,n){const o={},r=a(t,["model"]);return r!=null&&c(o,["_url","name"],Y(e,r)),o}function vN(e,t){const n={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=a(e,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function xN(e,t){const n={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=a(e,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function yN(e,t){const n={},o=a(e,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const r=a(e,["imageSize"]);if(r!=null&&c(n,["imageSize"],r),a(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function CN(e,t){const n={},o=a(e,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const r=a(e,["imageSize"]);r!=null&&c(n,["imageSize"],r);const s=a(e,["personGeneration"]);s!=null&&c(n,["personGeneration"],s);const l=a(e,["outputMimeType"]);l!=null&&c(n,["imageOutputOptions","mimeType"],l);const u=a(e,["outputCompressionQuality"]);return u!=null&&c(n,["imageOutputOptions","compressionQuality"],u),n}function SN(e,t){const n={},o=a(e,["bytesBase64Encoded"]);o!=null&&c(n,["imageBytes"],nn(o));const r=a(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function wh(e,t){const n={},o=a(e,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const r=a(e,["bytesBase64Encoded"]);r!=null&&c(n,["imageBytes"],nn(r));const s=a(e,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function si(e,t){const n={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=a(e,["imageBytes"]);o!=null&&c(n,["bytesBase64Encoded"],nn(o));const r=a(e,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function ut(e,t){const n={},o=a(e,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const r=a(e,["imageBytes"]);r!=null&&c(n,["bytesBase64Encoded"],nn(r));const s=a(e,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function wN(e,t,n,o){const r={},s=a(t,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const l=a(t,["pageToken"]);n!==void 0&&l!=null&&c(n,["_query","pageToken"],l);const u=a(t,["filter"]);n!==void 0&&u!=null&&c(n,["_query","filter"],u);const d=a(t,["queryBase"]);return n!==void 0&&d!=null&&c(n,["_url","models_url"],hh(e,d)),r}function NN(e,t,n,o){const r={},s=a(t,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const l=a(t,["pageToken"]);n!==void 0&&l!=null&&c(n,["_query","pageToken"],l);const u=a(t,["filter"]);n!==void 0&&u!=null&&c(n,["_query","filter"],u);const d=a(t,["queryBase"]);return n!==void 0&&d!=null&&c(n,["_url","models_url"],hh(e,d)),r}function TN(e,t,n){const o={},r=a(t,["config"]);return r!=null&&wN(e,r,o),o}function EN(e,t,n){const o={},r=a(t,["config"]);return r!=null&&NN(e,r,o),o}function _N(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["nextPageToken"]);r!=null&&c(n,["nextPageToken"],r);const s=a(e,["_self"]);if(s!=null){let l=gh(s);Array.isArray(l)&&(l=l.map(u=>Xl(u))),c(n,["models"],l)}return n}function IN(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["nextPageToken"]);r!=null&&c(n,["nextPageToken"],r);const s=a(e,["_self"]);if(s!=null){let l=gh(s);Array.isArray(l)&&(l=l.map(u=>Zl(u))),c(n,["models"],l)}return n}function kN(e,t){const n={},o=a(e,["maskMode"]);o!=null&&c(n,["maskMode"],o);const r=a(e,["segmentationClasses"]);r!=null&&c(n,["maskClasses"],r);const s=a(e,["maskDilation"]);return s!=null&&c(n,["dilation"],s),n}function Xl(e,t){const n={},o=a(e,["name"]);o!=null&&c(n,["name"],o);const r=a(e,["displayName"]);r!=null&&c(n,["displayName"],r);const s=a(e,["description"]);s!=null&&c(n,["description"],s);const l=a(e,["version"]);l!=null&&c(n,["version"],l);const u=a(e,["_self"]);u!=null&&c(n,["tunedModelInfo"],qN(u));const d=a(e,["inputTokenLimit"]);d!=null&&c(n,["inputTokenLimit"],d);const f=a(e,["outputTokenLimit"]);f!=null&&c(n,["outputTokenLimit"],f);const p=a(e,["supportedGenerationMethods"]);p!=null&&c(n,["supportedActions"],p);const m=a(e,["temperature"]);m!=null&&c(n,["temperature"],m);const h=a(e,["maxTemperature"]);h!=null&&c(n,["maxTemperature"],h);const g=a(e,["topP"]);g!=null&&c(n,["topP"],g);const v=a(e,["topK"]);v!=null&&c(n,["topK"],v);const w=a(e,["thinking"]);return w!=null&&c(n,["thinking"],w),n}function Zl(e,t){const n={},o=a(e,["name"]);o!=null&&c(n,["name"],o);const r=a(e,["displayName"]);r!=null&&c(n,["displayName"],r);const s=a(e,["description"]);s!=null&&c(n,["description"],s);const l=a(e,["versionId"]);l!=null&&c(n,["version"],l);const u=a(e,["deployedModels"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>Hw(g))),c(n,["endpoints"],h)}const d=a(e,["labels"]);d!=null&&c(n,["labels"],d);const f=a(e,["_self"]);f!=null&&c(n,["tunedModelInfo"],ON(f));const p=a(e,["defaultCheckpointId"]);p!=null&&c(n,["defaultCheckpointId"],p);const m=a(e,["checkpoints"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(g=>g)),c(n,["checkpoints"],h)}return n}function AN(e,t){const n={},o=a(e,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const r=a(e,["codeExecutionResult"]);r!=null&&c(n,["codeExecutionResult"],r);const s=a(e,["executableCode"]);s!=null&&c(n,["executableCode"],s);const l=a(e,["fileData"]);l!=null&&c(n,["fileData"],Bw(l));const u=a(e,["functionCall"]);u!=null&&c(n,["functionCall"],zw(u));const d=a(e,["functionResponse"]);d!=null&&c(n,["functionResponse"],d);const f=a(e,["inlineData"]);f!=null&&c(n,["inlineData"],mw(f));const p=a(e,["text"]);p!=null&&c(n,["text"],p);const m=a(e,["thought"]);m!=null&&c(n,["thought"],m);const h=a(e,["thoughtSignature"]);h!=null&&c(n,["thoughtSignature"],h);const g=a(e,["videoMetadata"]);return g!=null&&c(n,["videoMetadata"],g),n}function bN(e,t){const n={},o=a(e,["productImage"]);return o!=null&&c(n,["image"],ut(o)),n}function RN(e,t,n){const o={},r=a(e,["numberOfImages"]);t!==void 0&&r!=null&&c(t,["parameters","sampleCount"],r);const s=a(e,["baseSteps"]);t!==void 0&&s!=null&&c(t,["parameters","baseSteps"],s);const l=a(e,["outputGcsUri"]);t!==void 0&&l!=null&&c(t,["parameters","storageUri"],l);const u=a(e,["seed"]);t!==void 0&&u!=null&&c(t,["parameters","seed"],u);const d=a(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&c(t,["parameters","safetySetting"],d);const f=a(e,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=a(e,["addWatermark"]);t!==void 0&&p!=null&&c(t,["parameters","addWatermark"],p);const m=a(e,["outputMimeType"]);t!==void 0&&m!=null&&c(t,["parameters","outputOptions","mimeType"],m);const h=a(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&c(t,["parameters","outputOptions","compressionQuality"],h);const g=a(e,["enhancePrompt"]);t!==void 0&&g!=null&&c(t,["parameters","enhancePrompt"],g);const v=a(e,["labels"]);return t!==void 0&&v!=null&&c(t,["labels"],v),o}function MN(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["source"]);s!=null&&LN(s,o);const l=a(t,["config"]);return l!=null&&RN(l,o),o}function PN(e,t){const n={},o=a(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>ri(s))),c(n,["generatedImages"],r)}return n}function LN(e,t,n){const o={},r=a(e,["prompt"]);t!==void 0&&r!=null&&c(t,["instances[0]","prompt"],r);const s=a(e,["personImage"]);t!==void 0&&s!=null&&c(t,["instances[0]","personImage","image"],ut(s));const l=a(e,["productImages"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>bN(d))),c(t,["instances[0]","productImages"],u)}return o}function DN(e,t){const n={},o=a(e,["referenceImage"]);o!=null&&c(n,["referenceImage"],ut(o));const r=a(e,["referenceId"]);r!=null&&c(n,["referenceId"],r);const s=a(e,["referenceType"]);s!=null&&c(n,["referenceType"],s);const l=a(e,["maskImageConfig"]);l!=null&&c(n,["maskImageConfig"],kN(l));const u=a(e,["controlImageConfig"]);u!=null&&c(n,["controlImageConfig"],Sw(u));const d=a(e,["styleImageConfig"]);d!=null&&c(n,["styleImageConfig"],d);const f=a(e,["subjectImageConfig"]);return f!=null&&c(n,["subjectImageConfig"],f),n}function Nh(e,t){const n={},o=a(e,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const r=a(e,["safetyAttributes","scores"]);r!=null&&c(n,["scores"],r);const s=a(e,["contentType"]);return s!=null&&c(n,["contentType"],s),n}function Th(e,t){const n={},o=a(e,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const r=a(e,["safetyAttributes","scores"]);r!=null&&c(n,["scores"],r);const s=a(e,["contentType"]);return s!=null&&c(n,["contentType"],s),n}function jN(e,t){const n={},o=a(e,["category"]);if(o!=null&&c(n,["category"],o),a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=a(e,["threshold"]);return r!=null&&c(n,["threshold"],r),n}function FN(e,t){const n={},o=a(e,["image"]);return o!=null&&c(n,["image"],ut(o)),n}function UN(e,t,n){const o={},r=a(e,["mode"]);t!==void 0&&r!=null&&c(t,["parameters","mode"],r);const s=a(e,["maxPredictions"]);t!==void 0&&s!=null&&c(t,["parameters","maxPredictions"],s);const l=a(e,["confidenceThreshold"]);t!==void 0&&l!=null&&c(t,["parameters","confidenceThreshold"],l);const u=a(e,["maskDilation"]);t!==void 0&&u!=null&&c(t,["parameters","maskDilation"],u);const d=a(e,["binaryColorThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","binaryColorThreshold"],d);const f=a(e,["labels"]);return t!==void 0&&f!=null&&c(t,["labels"],f),o}function VN(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["source"]);s!=null&&HN(s,o);const l=a(t,["config"]);return l!=null&&UN(l,o),o}function GN(e,t){const n={},o=a(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>dN(s))),c(n,["generatedMasks"],r)}return n}function HN(e,t,n){const o={},r=a(e,["prompt"]);t!==void 0&&r!=null&&c(t,["instances[0]","prompt"],r);const s=a(e,["image"]);t!==void 0&&s!=null&&c(t,["instances[0]","image"],ut(s));const l=a(e,["scribbleImage"]);return t!==void 0&&l!=null&&c(t,["instances[0]","scribble"],FN(l)),o}function BN(e,t){const n={},o=a(e,["retrievalConfig"]);o!=null&&c(n,["retrievalConfig"],o);const r=a(e,["functionCallingConfig"]);return r!=null&&c(n,["functionCallingConfig"],qw(r)),n}function zN(e,t){const n={};if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(e,["computerUse"]);o!=null&&c(n,["computerUse"],o);const r=a(e,["fileSearch"]);r!=null&&c(n,["fileSearch"],r);const s=a(e,["codeExecution"]);if(s!=null&&c(n,["codeExecution"],s),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=a(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>h)),c(n,["functionDeclarations"],m)}const u=a(e,["googleMaps"]);u!=null&&c(n,["googleMaps"],vN(u));const d=a(e,["googleSearch"]);d!=null&&c(n,["googleSearch"],xN(d));const f=a(e,["googleSearchRetrieval"]);f!=null&&c(n,["googleSearchRetrieval"],f);const p=a(e,["urlContext"]);return p!=null&&c(n,["urlContext"],p),n}function Eh(e,t){const n={},o=a(e,["retrieval"]);o!=null&&c(n,["retrieval"],o);const r=a(e,["computerUse"]);if(r!=null&&c(n,["computerUse"],r),a(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(e,["codeExecution"]);s!=null&&c(n,["codeExecution"],s);const l=a(e,["enterpriseWebSearch"]);l!=null&&c(n,["enterpriseWebSearch"],l);const u=a(e,["functionDeclarations"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>Ow(g))),c(n,["functionDeclarations"],h)}const d=a(e,["googleMaps"]);d!=null&&c(n,["googleMaps"],d);const f=a(e,["googleSearch"]);f!=null&&c(n,["googleSearch"],f);const p=a(e,["googleSearchRetrieval"]);p!=null&&c(n,["googleSearchRetrieval"],p);const m=a(e,["urlContext"]);return m!=null&&c(n,["urlContext"],m),n}function qN(e,t){const n={},o=a(e,["baseModel"]);o!=null&&c(n,["baseModel"],o);const r=a(e,["createTime"]);r!=null&&c(n,["createTime"],r);const s=a(e,["updateTime"]);return s!=null&&c(n,["updateTime"],s),n}function ON(e,t){const n={},o=a(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(n,["baseModel"],o);const r=a(e,["createTime"]);r!=null&&c(n,["createTime"],r);const s=a(e,["updateTime"]);return s!=null&&c(n,["updateTime"],s),n}function $N(e,t,n){const o={},r=a(e,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const s=a(e,["description"]);t!==void 0&&s!=null&&c(t,["description"],s);const l=a(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&c(t,["defaultCheckpointId"],l),o}function WN(e,t,n){const o={},r=a(e,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const s=a(e,["description"]);t!==void 0&&s!=null&&c(t,["description"],s);const l=a(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&c(t,["defaultCheckpointId"],l),o}function JN(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","name"],Y(e,r));const s=a(t,["config"]);return s!=null&&$N(s,o),o}function KN(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["config"]);return s!=null&&WN(s,o),o}function YN(e,t,n){const o={},r=a(e,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const s=a(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&c(t,["parameters","safetySetting"],s);const l=a(e,["personGeneration"]);t!==void 0&&l!=null&&c(t,["parameters","personGeneration"],l);const u=a(e,["includeRaiReason"]);t!==void 0&&u!=null&&c(t,["parameters","includeRaiReason"],u);const d=a(e,["outputMimeType"]);t!==void 0&&d!=null&&c(t,["parameters","outputOptions","mimeType"],d);const f=a(e,["outputCompressionQuality"]);t!==void 0&&f!=null&&c(t,["parameters","outputOptions","compressionQuality"],f);const p=a(e,["enhanceInputImage"]);t!==void 0&&p!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],p);const m=a(e,["imagePreservationFactor"]);t!==void 0&&m!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],m);const h=a(e,["labels"]);t!==void 0&&h!=null&&c(t,["labels"],h);const g=a(e,["numberOfImages"]);t!==void 0&&g!=null&&c(t,["parameters","sampleCount"],g);const v=a(e,["mode"]);return t!==void 0&&v!=null&&c(t,["parameters","mode"],v),o}function QN(e,t,n){const o={},r=a(t,["model"]);r!=null&&c(o,["_url","model"],Y(e,r));const s=a(t,["image"]);s!=null&&c(o,["instances[0]","image"],ut(s));const l=a(t,["upscaleFactor"]);l!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],l);const u=a(t,["config"]);return u!=null&&YN(u,o),o}function XN(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>ri(l))),c(n,["generatedImages"],s)}return n}function ZN(e,t){const n={},o=a(e,["uri"]);o!=null&&c(n,["uri"],o);const r=a(e,["encodedVideo"]);r!=null&&c(n,["videoBytes"],nn(r));const s=a(e,["encoding"]);return s!=null&&c(n,["mimeType"],s),n}function eT(e,t){const n={},o=a(e,["gcsUri"]);o!=null&&c(n,["uri"],o);const r=a(e,["bytesBase64Encoded"]);r!=null&&c(n,["videoBytes"],nn(r));const s=a(e,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function tT(e,t){const n={},o=a(e,["image"]);o!=null&&c(n,["_self"],ut(o));const r=a(e,["maskMode"]);return r!=null&&c(n,["maskMode"],r),n}function nT(e,t){const n={},o=a(e,["image"]);o!=null&&c(n,["image"],si(o));const r=a(e,["referenceType"]);return r!=null&&c(n,["referenceType"],r),n}function oT(e,t){const n={},o=a(e,["image"]);o!=null&&c(n,["image"],ut(o));const r=a(e,["referenceType"]);return r!=null&&c(n,["referenceType"],r),n}function _h(e,t){const n={},o=a(e,["uri"]);o!=null&&c(n,["uri"],o);const r=a(e,["videoBytes"]);r!=null&&c(n,["encodedVideo"],nn(r));const s=a(e,["mimeType"]);return s!=null&&c(n,["encoding"],s),n}function Ih(e,t){const n={},o=a(e,["uri"]);o!=null&&c(n,["gcsUri"],o);const r=a(e,["videoBytes"]);r!=null&&c(n,["bytesBase64Encoded"],nn(r));const s=a(e,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rT(e,t){const n={},o=a(e,["displayName"]);return t!==void 0&&o!=null&&c(t,["displayName"],o),n}function sT(e){const t={},n=a(e,["config"]);return n!=null&&rT(n,t),t}function iT(e,t){const n={},o=a(e,["force"]);return t!==void 0&&o!=null&&c(t,["_query","force"],o),n}function lT(e){const t={},n=a(e,["name"]);n!=null&&c(t,["_url","name"],n);const o=a(e,["config"]);return o!=null&&iT(o,t),t}function aT(e){const t={},n=a(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function uT(e,t){const n={},o=a(e,["customMetadata"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),c(t,["customMetadata"],s)}const r=a(e,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),n}function cT(e){const t={},n=a(e,["name"]);n!=null&&c(t,["name"],n);const o=a(e,["metadata"]);o!=null&&c(t,["metadata"],o);const r=a(e,["done"]);r!=null&&c(t,["done"],r);const s=a(e,["error"]);s!=null&&c(t,["error"],s);const l=a(e,["response"]);return l!=null&&c(t,["response"],fT(l)),t}function dT(e){const t={},n=a(e,["fileSearchStoreName"]);n!=null&&c(t,["_url","file_search_store_name"],n);const o=a(e,["fileName"]);o!=null&&c(t,["fileName"],o);const r=a(e,["config"]);return r!=null&&uT(r,t),t}function fT(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=a(e,["parent"]);o!=null&&c(t,["parent"],o);const r=a(e,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function pT(e,t){const n={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=a(e,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),n}function mT(e){const t={},n=a(e,["config"]);return n!=null&&pT(n,t),t}function hT(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=a(e,["fileSearchStores"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),c(t,["fileSearchStores"],s)}return t}function kh(e,t){const n={},o=a(e,["mimeType"]);t!==void 0&&o!=null&&c(t,["mimeType"],o);const r=a(e,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const s=a(e,["customMetadata"]);if(t!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),c(t,["customMetadata"],u)}const l=a(e,["chunkingConfig"]);return t!==void 0&&l!=null&&c(t,["chunkingConfig"],l),n}function gT(e){const t={},n=a(e,["fileSearchStoreName"]);n!=null&&c(t,["_url","file_search_store_name"],n);const o=a(e,["config"]);return o!=null&&kh(o,t),t}function vT(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xT="Content-Type",yT="X-Server-Timeout",CT="User-Agent",ea="x-goog-api-client",ST="1.41.0",wT=`google-genai-sdk/${ST}`,NT="v1beta1",TT="v1beta",ET=5,_T=[408,429,500,502,503,504];class IT{constructor(t){var n,o,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!u?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:NT}else{if(!this.clientOptions.apiKey)throw new sr({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:TT,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===Jl.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t,n),r=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))r.searchParams.append(l,String(u));let s={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=t.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,r.toString(),t.abortSignal),this.unaryApiCall(r,s,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[r,s]of Object.entries(n))typeof s=="object"?o[r]=Object.assign(Object.assign({},o[r]),s):s!==void 0&&(o[r]=s);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t,n),r=this.constructUrl(t.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=t.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,r.toString(),t.abortSignal),this.streamApiCall(r,s,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,r){if(n&&n.timeout||r){const s=new AbortController,l=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>s.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{s.abort()}),t.signal=l}return n&&n.extraBody!==null&&kT(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await gf(r),new Kl(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await gf(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return it(this,arguments,function*(){var o;const r=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";const u="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:p}=yield H(r.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=s.decode(p,{stream:!0});try{const v=JSON.parse(m);if("error"in v){const w=JSON.parse(JSON.stringify(v.error)),C=w.status,y=w.code,x=`got status: ${C}. ${JSON.stringify(v)}`;if(y>=400&&y<600)throw new sr({message:x,status:y})}}catch(v){if(v.name==="ApiError")throw v}l+=m;let h=-1,g=0;for(;;){h=-1,g=0;for(const C of d){const y=l.indexOf(C);y!==-1&&(h===-1||y<h)&&(h=y,g=C.length)}if(h===-1)break;const v=l.substring(0,h);l=l.substring(h+g);const w=v.trim();if(w.startsWith(u)){const C=w.substring(u.length).trim();try{const y=new Response(C,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield H(new Kl(y))}catch(y){throw new Error(`exception parsing stream chunk ${C}. ${y}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,n){var o;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,n);const r=this.clientOptions.httpOptions.retryOptions;return v1(async()=>{const l=await fetch(t,n);if(l.ok)return l;throw _T.includes(l.status)?new Error(`Retryable HTTP Error: ${l.statusText}`):new ih(`Non-retryable exception ${l.statusText} sending request`)},{retries:((o=r.attempts)!==null&&o!==void 0?o:ET)-1})}getDefaultHeaders(){const t={},n=wT+" "+this.clientOptions.userAgentExtra;return t[CT]=n,t[ea]=n,t[xT]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[r,s]of Object.entries(t.headers))o.append(r,s);t.timeout&&t.timeout>0&&o.append(yT,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,l=await s.stat(t);r.sizeBytes=String(l.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const d={file:r},f=this.getFileName(t),p=L("upload/v1beta/files",d._url),m=await this.fetchUploadUrl(p,r.sizeBytes,r.mimeType,f,d,n==null?void 0:n.httpOptions);return s.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,o){var r;const s=this.clientOptions.uploader,l=await s.stat(n),u=String(l.size),d=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,p=this.getFileName(n),m={};o!=null&&kh(o,m);const h=await this.fetchUploadUrl(f,u,d,p,m,o==null?void 0:o.httpOptions);return s.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,r,s,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const f=await this.request({path:t,body:JSON.stringify(s),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function gf(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new sr({message:r,status:n}):new Error(r)}}function kT(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const s=JSON.parse(e.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(s,l){const u=Object.assign({},s);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=l[d],p=u[d];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?u[d]=o(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),u[d]=f)}return u}const r=o(n,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AT="mcp_used/unknown";let bT=!1;function Ah(e){for(const t of e)if(RT(t)||typeof t=="object"&&"inputSchema"in t)return!0;return bT}function bh(e){var t;const n=(t=e[ea])!==null&&t!==void 0?t:"";e[ea]=(n+` ${AT}`).trimStart()}function RT(e){return e!==null&&typeof e=="object"&&e instanceof Su}function MT(e){return it(this,arguments,function*(n,o=100){let r,s=0;for(;s<o;){const l=yield H(n.listTools({cursor:r}));for(const u of l.tools)yield yield H(u),s++;if(!l.nextCursor)break;r=l.nextCursor}})}class Su{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Su(t,n)}async initialize(){var t,n,o,r;if(this.mcpTools.length>0)return;const s={},l=[];for(const p of this.mcpClients)try{for(var u=!0,d=(n=void 0,lt(MT(p))),f;f=await d.next(),t=f.done,!t;u=!0){r=f.value,u=!1;const m=r;l.push(m);const h=m.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=p}}catch(m){n={error:m}}finally{try{!u&&!t&&(o=d.return)&&await o.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),sC(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,s);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function PT(e,t,n){const o=new Q1;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),t(o)}class LT{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),l=FT(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const p=new Promise(S=>{f=S}),m=t.callbacks,h=function(){f({})},g=this.apiClient,v={onopen:h,onmessage:S=>{PT(g,m.onmessage,S)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(S){},onclose:(o=m==null?void 0:m.onclose)!==null&&o!==void 0?o:function(S){}},w=this.webSocketFactory.create(d,jT(l),v);w.connect(),await p;const x={setup:{model:Y(this.apiClient,t.model)}};return w.send(JSON.stringify(x)),new DT(w,this.apiClient)}}class DT{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=rw(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=ow(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Vn.PLAY)}pause(){this.sendPlaybackControl(Vn.PAUSE)}stop(){this.sendPlaybackControl(Vn.STOP)}resetContext(){this.sendPlaybackControl(Vn.RESET_CONTEXT)}close(){this.conn.close()}}function jT(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function FT(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function VT(e,t,n){const o=new Y1;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const s=JSON.parse(r);if(e.isVertexAI()){const l=lw(s);Object.assign(o,l)}else Object.assign(o,s);t(o)}class GT{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new LT(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,r,s,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&Ah(t.config.tools)&&bh(m);const h=qT(m);if(this.apiClient.isVertexAI()){const b=this.apiClient.getProject(),A=this.apiClient.getLocation(),D=this.apiClient.getApiKey(),F=!!b&&!!A||!!D;this.apiClient.getCustomBaseUrl()&&!F?p=d:(p=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,p))}else{const b=this.apiClient.getApiKey();let A="BidiGenerateContent",D="key";b!=null&&b.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),A="BidiGenerateContentConstrained",D="access_token"),p=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${A}?${D}=${b}`}let g=()=>{};const v=new Promise(b=>{g=b}),w=t.callbacks,C=function(){var b;(b=w==null?void 0:w.onopen)===null||b===void 0||b.call(w),g({})},y=this.apiClient,x={onopen:C,onmessage:b=>{VT(y,w.onmessage,b)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(b){},onclose:(o=w==null?void 0:w.onclose)!==null&&o!==void 0?o:function(b){}},S=this.webSocketFactory.create(p,zT(h),x);S.connect(),await v;let N=Y(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const b=this.apiClient.getProject(),A=this.apiClient.getLocation();b&&A&&(N=`projects/${b}/locations/${A}/`+N)}let E={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ks.AUDIO]}:t.config.responseModalities=[ks.AUDIO]),!((s=t.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const T=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],I=[];for(const b of T)if(this.isCallableTool(b)){const A=b;I.push(await A.tool())}else I.push(b);I.length>0&&(t.config.tools=I);const k={model:N,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?E=nw(this.apiClient,k):E=tw(this.apiClient,k),delete E.config,S.send(JSON.stringify(E)),new BT(S,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const HT={turnComplete:!0};class BT{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Je(n.turns),t.isVertexAI()||(o=o.map(r=>oi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const s of o){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!t.isVertexAI()&&!("id"in s))throw new Error(UT)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},HT),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:iw(t)}:n={realtimeInput:sw(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function zT(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function qT(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vf=10;function xf(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Jn(l)){r=!0;break}if(!r)return!0;const s=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Jn(e){return"callTool"in e&&typeof e.callTool=="function"}function OT(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(r=>Jn(r)))!==null&&o!==void 0?o:!1}function yf(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,r)=>{if(Jn(o))return;const s=o;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(r)}),n}function Cf(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $T extends kt{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,r,s,l,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!OT(n)||xf(n.config))return await this.generateContentInternal(d);const f=yf(n);if(f.length>0){const w=f.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let p,m;const h=Je(d.contents),g=(s=(r=(o=d.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:vf;let v=0;for(;v<g&&(p=await this.generateContentInternal(d),!(!p.functionCalls||p.functionCalls.length===0));){const w=p.candidates[0].content,C=[];for(const y of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Jn(y)){const S=await y.callTool(p.functionCalls);C.push(...S)}v++,m={role:"user",parts:C},d.contents=Je(d.contents),d.contents.push(w),d.contents.push(m),Cf(d.config)&&(h.push(w),h.push(m))}return Cf(d.config)&&(p.automaticFunctionCallingHistory=h),p},this.generateContentStream=async n=>{var o,r,s,l,u;if(this.maybeMoveToResponseJsonSchem(n),xf(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const d=yf(n);if(d.length>0){const m=d.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(s=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,p=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let s;const l=[];if(o!=null&&o.generatedImages)for(const d of o.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((r=d==null?void 0:d.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=d==null?void 0:d.safetyAttributes:l.push(d);let u;return s?u={generatedImages:l,positivePromptSafetyAttributes:s,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Nn(Et.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,s,l,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,r;const s=(n=t.config)===null||n===void 0?void 0:n.tools;if(!s)return t;const l=await Promise.all(s.map(async d=>Jn(d)?await d.tool():d)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&Ah(t.config.tools)){const d=(r=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),bh(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,o,r;const s=new Map;for(const l of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Jn(l)){const u=l,d=await u.tool();for(const f of(r=d.functionDeclarations)!==null&&r!==void 0?r:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,u)}}return s}async processAfcStream(t){var n,o,r;const s=(r=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:vf;let l=!1,u=0;const d=await this.initAfcToolsMap(t);return function(f,p,m){return it(this,arguments,function*(){for(var h,g,v,w,C,y;u<s;){l&&(u++,l=!1);const E=yield H(f.processParamsMaybeAddMcpUsage(m)),T=yield H(f.generateContentStreamInternal(E)),I=[],k=[];try{for(var x=!0,S=(g=void 0,lt(T)),N;N=yield H(S.next()),h=N.done,!h;x=!0){w=N.value,x=!1;const b=w;if(yield yield H(b),b.candidates&&(!((C=b.candidates[0])===null||C===void 0)&&C.content)){k.push(b.candidates[0].content);for(const A of(y=b.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<s&&A.functionCall){if(!A.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(A.functionCall.name)){const D=yield H(p.get(A.functionCall.name).callTool([A.functionCall]));I.push(...D)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${A.functionCall.name}`)}}}}catch(b){g={error:b}}finally{try{!x&&!h&&(v=S.return)&&(yield H(v.call(S)))}finally{if(g)throw g.error}}if(I.length>0){l=!0;const b=new So;b.candidates=[{content:{role:"user",parts:I}}],yield yield H(b);const A=[];A.push(...k),A.push({role:"user",parts:I});const D=Je(m.contents).concat(A);m.contents=D}else break}})}(this,d,t)}async generateContentInternal(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=pf(this.apiClient,t);return u=L("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=hf(p),h=new So;return Object.assign(h,m),h})}else{const f=ff(this.apiClient,t);return u=L("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=mf(p),h=new So;return Object.assign(h,m),h})}}async generateContentStreamInternal(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=pf(this.apiClient,t);return u=L("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return it(this,arguments,function*(){var h,g,v,w;try{for(var C=!0,y=lt(m),x;x=yield H(y.next()),h=x.done,!h;C=!0){w=x.value,C=!1;const S=w,N=hf(yield H(S.json()),t);N.sdkHttpResponse={headers:S.headers};const E=new So;Object.assign(E,N),yield yield H(E)}}catch(S){g={error:S}}finally{try{!C&&!h&&(v=y.return)&&(yield H(v.call(y)))}finally{if(g)throw g.error}}})})}else{const f=ff(this.apiClient,t);return u=L("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),l.then(function(m){return it(this,arguments,function*(){var h,g,v,w;try{for(var C=!0,y=lt(m),x;x=yield H(y.next()),h=x.done,!h;C=!0){w=x.value,C=!1;const S=w,N=mf(yield H(S.json()),t);N.sdkHttpResponse={headers:S.headers};const E=new So;Object.assign(E,N),yield yield H(E)}}catch(S){g={error:S}}finally{try{!C&&!h&&(v=y.return)&&(yield H(v.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Uw(this.apiClient,t);return u=L("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Gw(p),h=new Jd;return Object.assign(h,m),h})}else{const f=Fw(this.apiClient,t);return u=L("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Vw(p),h=new Jd;return Object.assign(h,m),h})}}async generateImagesInternal(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Qw(this.apiClient,t);return u=L("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Zw(p),h=new Kd;return Object.assign(h,m),h})}else{const f=Yw(this.apiClient,t);return u=L("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Xw(p),h=new Kd;return Object.assign(h,m),h})}}async editImageInternal(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI()){const u=Pw(this.apiClient,t);return s=L("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),r.then(d=>{const f=Lw(d),p=new U1;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI()){const u=QN(this.apiClient,t);return s=L("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),r.then(d=>{const f=XN(d),p=new V1;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI()){const u=MN(this.apiClient,t);return s=L("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=PN(d),p=new G1;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI()){const u=VN(this.apiClient,t);return s=L("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=GN(d),p=new H1;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=gN(this.apiClient,t);return u=L("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>Zl(p))}else{const f=hN(this.apiClient,t);return u=L("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>Xl(p))}}async listInternal(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=EN(this.apiClient,t);return u=L("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=IN(p),h=new Yd;return Object.assign(h,m),h})}else{const f=TN(this.apiClient,t);return u=L("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=_N(p),h=new Yd;return Object.assign(h,m),h})}}async update(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=KN(this.apiClient,t);return u=L("{model}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>Zl(p))}else{const f=JN(this.apiClient,t);return u=L("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>Xl(p))}}async delete(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Aw(this.apiClient,t);return u=L("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Rw(p),h=new Qd;return Object.assign(h,m),h})}else{const f=kw(this.apiClient,t);return u=L("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=bw(p),h=new Qd;return Object.assign(h,m),h})}}async countTokens(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Ew(this.apiClient,t);return u=L("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Iw(p),h=new Xd;return Object.assign(h,m),h})}else{const f=Tw(this.apiClient,t);return u=L("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=_w(p),h=new Xd;return Object.assign(h,m),h})}}async computeTokens(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI()){const u=vw(this.apiClient,t);return s=L("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),r.then(d=>{const f=xw(d),p=new B1;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=sN(this.apiClient,t);return u=L("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>{const m=oN(p),h=new As;return Object.assign(h,m),h})}else{const f=rN(this.apiClient,t);return u=L("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>{const m=nN(p),h=new As;return Object.assign(h,m),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WT extends kt{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let s;o&&"httpOptions"in o&&(s=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let s;o&&"httpOptions"in o&&(s=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=M1(t);return u=L("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l}else{const f=R1(t);return u=L("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l}}async fetchPredictVideosOperationInternal(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI()){const u=T1(t);return s=L("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JT(e){const t={},n=a(e,["data"]);if(n!=null&&c(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function KT(e){const t={},n=a(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>rE(s))),c(t,["parts"],r)}const o=a(e,["role"]);return o!=null&&c(t,["role"],o),t}function YT(e,t,n){const o={},r=a(t,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const s=a(t,["newSessionExpireTime"]);n!==void 0&&s!=null&&c(n,["newSessionExpireTime"],s);const l=a(t,["uses"]);n!==void 0&&l!=null&&c(n,["uses"],l);const u=a(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&c(n,["bidiGenerateContentSetup"],oE(e,u));const d=a(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&c(n,["fieldMask"],d),o}function QT(e,t){const n={},o=a(t,["config"]);return o!=null&&c(n,["config"],YT(e,o,n)),n}function XT(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const o=a(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function ZT(e){const t={},n=a(e,["id"]);n!=null&&c(t,["id"],n);const o=a(e,["args"]);o!=null&&c(t,["args"],o);const r=a(e,["name"]);if(r!=null&&c(t,["name"],r),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function eE(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function tE(e){const t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function nE(e,t){const n={},o=a(e,["generationConfig"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig"],o);const r=a(e,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const s=a(e,["temperature"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig","temperature"],s);const l=a(e,["topP"]);t!==void 0&&l!=null&&c(t,["setup","generationConfig","topP"],l);const u=a(e,["topK"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","topK"],u);const d=a(e,["maxOutputTokens"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","maxOutputTokens"],d);const f=a(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);const p=a(e,["seed"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","seed"],p);const m=a(e,["speechConfig"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","speechConfig"],Cu(m));const h=a(e,["thinkingConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","thinkingConfig"],h);const g=a(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=a(e,["systemInstruction"]);t!==void 0&&v!=null&&c(t,["setup","systemInstruction"],KT(Ee(v)));const w=a(e,["tools"]);if(t!==void 0&&w!=null){let T=uo(w);Array.isArray(T)&&(T=T.map(I=>iE(ao(I)))),c(t,["setup","tools"],T)}const C=a(e,["sessionResumption"]);t!==void 0&&C!=null&&c(t,["setup","sessionResumption"],sE(C));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&c(t,["setup","inputAudioTranscription"],y);const x=a(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&c(t,["setup","outputAudioTranscription"],x);const S=a(e,["realtimeInputConfig"]);t!==void 0&&S!=null&&c(t,["setup","realtimeInputConfig"],S);const N=a(e,["contextWindowCompression"]);t!==void 0&&N!=null&&c(t,["setup","contextWindowCompression"],N);const E=a(e,["proactivity"]);if(t!==void 0&&E!=null&&c(t,["setup","proactivity"],E),a(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function oE(e,t){const n={},o=a(t,["model"]);o!=null&&c(n,["setup","model"],Y(e,o));const r=a(t,["config"]);return r!=null&&c(n,["config"],nE(r,n)),n}function rE(e){const t={},n=a(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);const o=a(e,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);const r=a(e,["executableCode"]);r!=null&&c(t,["executableCode"],r);const s=a(e,["fileData"]);s!=null&&c(t,["fileData"],XT(s));const l=a(e,["functionCall"]);l!=null&&c(t,["functionCall"],ZT(l));const u=a(e,["functionResponse"]);u!=null&&c(t,["functionResponse"],u);const d=a(e,["inlineData"]);d!=null&&c(t,["inlineData"],JT(d));const f=a(e,["text"]);f!=null&&c(t,["text"],f);const p=a(e,["thought"]);p!=null&&c(t,["thought"],p);const m=a(e,["thoughtSignature"]);m!=null&&c(t,["thoughtSignature"],m);const h=a(e,["videoMetadata"]);return h!=null&&c(t,["videoMetadata"],h),t}function sE(e){const t={},n=a(e,["handle"]);if(n!=null&&c(t,["handle"],n),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function iE(e){const t={};if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=a(e,["computerUse"]);n!=null&&c(t,["computerUse"],n);const o=a(e,["fileSearch"]);o!=null&&c(t,["fileSearch"],o);const r=a(e,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=a(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(m=>m)),c(t,["functionDeclarations"],p)}const l=a(e,["googleMaps"]);l!=null&&c(t,["googleMaps"],eE(l));const u=a(e,["googleSearch"]);u!=null&&c(t,["googleSearch"],tE(u));const d=a(e,["googleSearchRetrieval"]);d!=null&&c(t,["googleSearchRetrieval"],d);const f=a(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lE(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(s=>`${n}.${s}`);t.push(...r)}else t.push(n)}return t.join(",")}function aE(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const s=o.setup;typeof s=="object"&&s!==null?(e.bidiGenerateContentSetup=s,n=s):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const s=lE(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)s?e.fieldMask=s:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];s&&d.push(s),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class uE extends kt{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=QT(this.apiClient,t);s=L("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=aE(u,t.config);return r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cE(e,t){const n={},o=a(e,["force"]);return t!==void 0&&o!=null&&c(t,["_query","force"],o),n}function dE(e){const t={},n=a(e,["name"]);n!=null&&c(t,["_url","name"],n);const o=a(e,["config"]);return o!=null&&cE(o,t),t}function fE(e){const t={},n=a(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function pE(e,t){const n={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=a(e,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),n}function mE(e){const t={},n=a(e,["parent"]);n!=null&&c(t,["_url","parent"],n);const o=a(e,["config"]);return o!=null&&pE(o,t),t}function hE(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=a(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=a(e,["documents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),c(t,["documents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gE extends kt{constructor(t){super(),this.apiClient=t,this.list=async n=>new Nn(Et.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fE(t);return s=L("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(t){var n,o;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=dE(t);r=L("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mE(t);return s=L("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=hE(d),p=new z1;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vE extends kt{constructor(t,n=new gE(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new Nn(Et.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sT(t);return s=L("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async get(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=aT(t);return s=L("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(t){var n,o;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=lT(t);r=L("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mT(t);return s=L("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=hT(d),p=new q1;return Object.assign(p,f),p})}}async uploadToFileSearchStoreInternal(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gT(t);return s=L("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=vT(d),p=new O1;return Object.assign(p,f),p})}}async importFile(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dT(t);return s=L("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=cT(d),p=new hu;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Rh=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Rh=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const xE=()=>Rh();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ta(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const na=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qe extends Error{}class be extends Qe{constructor(t,n,o,r){super(`${be.makeMessage(t,n,o)}`),this.status=t,this.headers=r,this.error=n}static makeMessage(t,n,o){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,n,o,r){if(!t||!r)return new ii({message:o,cause:na(n)});const s=n;return t===400?new Ph(t,s,o,r):t===401?new Lh(t,s,o,r):t===403?new Dh(t,s,o,r):t===404?new jh(t,s,o,r):t===409?new Fh(t,s,o,r):t===422?new Uh(t,s,o,r):t===429?new Vh(t,s,o,r):t>=500?new Gh(t,s,o,r):new be(t,s,o,r)}}class oa extends be{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ii extends be{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Mh extends ii{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Ph extends be{}class Lh extends be{}class Dh extends be{}class jh extends be{}class Fh extends be{}class Uh extends be{}class Vh extends be{}class Gh extends be{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yE=/^[a-z][a-z0-9+.-]*:/i,CE=e=>yE.test(e);let ra=e=>(ra=Array.isArray,ra(e));const SE=ra;let wE=SE;const Sf=wE;function NE(e){if(!e)return!0;for(const t in e)return!1;return!0}function TE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const EE=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Qe(`${e} must be an integer`);if(t<0)throw new Qe(`${e} must be a positive integer`);return t},_E=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IE=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _n="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kE(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const AE=()=>{var e,t,n,o,r;const s=kE();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_n,"X-Stainless-OS":Nf(Deno.build.os),"X-Stainless-Arch":wf(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_n,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_n,"X-Stainless-OS":Nf((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":wf((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const l=bE();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_n,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_n,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function bE(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,s=o[2]||0,l=o[3]||0;return{browser:t,version:`${r}.${s}.${l}`}}}return null}const wf=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Nf=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Dr;const RE=()=>Dr??(Dr=AE());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ME(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Hh(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function PE(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Hh({start(){},async pull(n){const{done:o,value:r}=await t.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function Bh(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function LE(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const o=e.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DE=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zh=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function zi(e,t,n){return zh(),new File(e,t??"unknown_file",n)}function jE(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const FE=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qh=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",UE=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&qh(e),VE=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function GE(e,t,n){if(zh(),e=await e,UE(e))return e instanceof File?e:zi([await e.arrayBuffer()],e.name);if(VE(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),zi(await sa(r),t,n)}const o=await sa(e);if(t||(t=jE(e)),!(n!=null&&n.type)){const r=o.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return zi(o,t,n)}async function sa(e){var t,n,o,r,s;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(qh(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(FE(e))try{for(var u=!0,d=lt(e),f;f=await d.next(),t=f.done,!t;u=!0){r=f.value,u=!1;const p=r;l.push(...await sa(p))}}catch(p){n={error:p}}finally{try{!u&&!t&&(o=d.return)&&await o.call(d)}finally{if(n)throw n.error}}else{const p=(s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof e}${p?`; constructor: ${p}`:""}${HE(e)}`)}return l}function HE(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oh{constructor(t){this._client=t}}Oh._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $h(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Tf=Object.freeze(Object.create(null)),BE=(e=$h)=>function(n,...o){if(n.length===1)return n[0];let r=!1;const s=[],l=n.reduce((p,m,h)=>{var g,v,w;/[?#]/.test(m)&&(r=!0);const C=o[h];let y=(r?encodeURIComponent:e)(""+C);return h!==o.length&&(C==null||typeof C=="object"&&C.toString===((w=Object.getPrototypeOf((v=Object.getPrototypeOf((g=C.hasOwnProperty)!==null&&g!==void 0?g:Tf))!==null&&v!==void 0?v:Tf))===null||w===void 0?void 0:w.toString))&&(y=C+"",s.push({start:p.length+m.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),p+m+(h===o.length?"":y)},""),u=l.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=d.exec(u))!==null;)s.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(s.sort((p,m)=>p.start-m.start),s.length>0){let p=0;const m=s.reduce((h,g)=>{const v=" ".repeat(g.start-p),w="^".repeat(g.length);return p=g.start+g.length,h+v+w},"");throw new Qe(`Path parameters result in path with invalid segments:
${s.map(h=>h.error).join(`
`)}
${l}
${m}`)}return l},jr=BE($h);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wh extends Oh{create(t,n){var o;const{api_version:r=this._client.apiVersion}=t,s=Rs(t,["api_version"]);if("model"in s&&"agent_config"in s)throw new Qe("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new Qe("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(jr`/${r}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(o=t.stream)!==null&&o!==void 0?o:!1}))}delete(t,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(jr`/${r}/interactions/${t}`,o)}cancel(t,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(jr`/${r}/interactions/${t}/cancel`,o)}get(t,n={},o){var r;const s=n??{},{api_version:l=this._client.apiVersion}=s,u=Rs(s,["api_version"]);return this._client.get(jr`/${l}/interactions/${t}`,Object.assign(Object.assign({query:u},o),{stream:(r=n==null?void 0:n.stream)!==null&&r!==void 0?r:!1}))}}Wh._key=Object.freeze(["interactions"]);class Jh extends Wh{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zE(e){let t=0;for(const r of e)t+=r.length;const n=new Uint8Array(t);let o=0;for(const r of e)n.set(r,o),o+=r.length;return n}let Fr;function wu(e){let t;return(Fr??(t=new globalThis.TextEncoder,Fr=t.encode.bind(t)))(e)}let Ur;function Ef(e){let t;return(Ur??(t=new globalThis.TextDecoder,Ur=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class li{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?wu(t):t;this.buffer=zE([this.buffer,n]);const o=[];let r;for(;(r=qE(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(Ef(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,l=Ef(this.buffer.subarray(0,s));o.push(l),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}li.NEWLINE_CHARS=new Set([`
`,"\r"]);li.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function qE(e,t){for(let r=t??0;r<e.length;r++){if(e[r]===10)return{preceding:r,index:r+1,carriage:!1};if(e[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function OE(e){for(let o=0;o<e.length-1;o++){if(e[o]===10&&e[o+1]===10||e[o]===13&&e[o+1]===13)return o+2;if(e[o]===13&&e[o+1]===10&&o+3<e.length&&e[o+2]===13&&e[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ms={off:0,error:200,warn:300,info:400,debug:500},_f=(e,t,n)=>{if(e){if(TE(Ms,e))return e;Ie(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Ms))}`)}};function Io(){}function Vr(e,t,n){return!t||Ms[e]>Ms[n]?Io:t[e].bind(t)}const $E={error:Io,warn:Io,info:Io,debug:Io};let If=new WeakMap;function Ie(e){var t;const n=e.logger,o=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return $E;const r=If.get(n);if(r&&r[0]===o)return r[1];const s={error:Vr("error",n,o),warn:Vr("warn",n,o),info:Vr("info",n,o),debug:Vr("debug",n,o)};return If.set(n,[o,s]),s}const an=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gn{constructor(t,n,o){this.iterator=t,this.controller=n,this.client=o}static fromSSEResponse(t,n,o){let r=!1;const s=o?Ie(o):console;function l(){return it(this,arguments,function*(){var d,f,p,m;if(r)throw new Qe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let h=!1;try{try{for(var g=!0,v=lt(WE(t,n)),w;w=yield H(v.next()),d=w.done,!d;g=!0){m=w.value,g=!1;const C=m;if(!h)if(C.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield H(JSON.parse(C.data))}catch(y){throw s.error("Could not parse message into JSON:",C.data),s.error("From chunk:",C.raw),y}}}catch(C){f={error:C}}finally{try{!g&&!d&&(p=v.return)&&(yield H(p.call(v)))}finally{if(f)throw f.error}}h=!0}catch(C){if(ta(C))return yield H(void 0);throw C}finally{h||n.abort()}})}return new Gn(l,n,o)}static fromReadableStream(t,n,o){let r=!1;function s(){return it(this,arguments,function*(){var d,f,p,m;const h=new li,g=Bh(t);try{for(var v=!0,w=lt(g),C;C=yield H(w.next()),d=C.done,!d;v=!0){m=C.value,v=!1;const y=m;for(const x of h.decode(y))yield yield H(x)}}catch(y){f={error:y}}finally{try{!v&&!d&&(p=w.return)&&(yield H(p.call(w)))}finally{if(f)throw f.error}}for(const y of h.flush())yield yield H(y)})}function l(){return it(this,arguments,function*(){var d,f,p,m;if(r)throw new Qe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let h=!1;try{try{for(var g=!0,v=lt(s()),w;w=yield H(v.next()),d=w.done,!d;g=!0){m=w.value,g=!1;const C=m;h||C&&(yield yield H(JSON.parse(C)))}}catch(C){f={error:C}}finally{try{!g&&!d&&(p=v.return)&&(yield H(p.call(v)))}finally{if(f)throw f.error}}h=!0}catch(C){if(ta(C))return yield H(void 0);throw C}finally{h||n.abort()}})}return new Gn(l,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],o=this.iterator(),r=s=>({next:()=>{if(s.length===0){const l=o.next();t.push(l),n.push(l)}return s.shift()}});return[new Gn(()=>r(t),this.controller,this.client),new Gn(()=>r(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return Hh({async start(){n=t[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:s}=await n.next();if(s)return o.close();const l=wu(JSON.stringify(r)+`
`);o.enqueue(l)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function WE(e,t){return it(this,arguments,function*(){var o,r,s,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Qe("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Qe("Attempted to iterate over a response with no body");const u=new KE,d=new li,f=Bh(e.body);try{for(var p=!0,m=lt(JE(f)),h;h=yield H(m.next()),o=h.done,!o;p=!0){l=h.value,p=!1;const g=l;for(const v of d.decode(g)){const w=u.decode(v);w&&(yield yield H(w))}}}catch(g){r={error:g}}finally{try{!p&&!o&&(s=m.return)&&(yield H(s.call(m)))}finally{if(r)throw r.error}}for(const g of d.flush()){const v=u.decode(g);v&&(yield yield H(v))}})}function JE(e){return it(this,arguments,function*(){var n,o,r,s;let l=new Uint8Array;try{for(var u=!0,d=lt(e),f;f=yield H(d.next()),n=f.done,!n;u=!0){s=f.value,u=!1;const p=s;if(p==null)continue;const m=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?wu(p):p;let h=new Uint8Array(l.length+m.length);h.set(l),h.set(m,l.length),l=h;let g;for(;(g=OE(l))!==-1;)yield yield H(l.slice(0,g)),l=l.slice(g)}}catch(p){o={error:p}}finally{try{!u&&!n&&(r=d.return)&&(yield H(r.call(d)))}finally{if(o)throw o.error}}l.length>0&&(yield yield H(l))})}class KE{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,o,r]=YE(t,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function YE(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function QE(e,t){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:s}=t,l=await(async()=>{var u;if(t.options.stream)return Ie(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Gn.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const d=n.headers.get("content-type"),f=(u=d==null?void 0:d.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Ie(e).debug(`[${o}] response parsed`,an({retryOfRequestLogID:r,url:n.url,status:n.status,body:l,durationMs:Date.now()-s})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nu extends Promise{constructor(t,n,o=QE){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=t}_thenUnwrap(t){return new Nu(this.client,this.responsePromise,async(n,o)=>t(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kh=Symbol("brand.privateNullableHeaders");function*XE(e){if(!e)return;if(Kh in e){const{values:o,nulls:r}=e;yield*o.entries();for(const s of r)yield[s,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Sf(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const s=Sf(o[1])?o[1]:[o[1]];let l=!1;for(const u of s)u!==void 0&&(t&&!l&&(l=!0,yield[r,null]),yield[r,u])}}const wo=e=>{const t=new Headers,n=new Set;for(const o of e){const r=new Set;for(const[s,l]of XE(o)){const u=s.toLowerCase();r.has(u)||(t.delete(s),r.add(u)),l===null?(t.delete(s),n.add(u)):(t.append(s,l),n.delete(u))}}return{[Kh]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qi=e=>{var t,n,o,r,s,l;if(typeof globalThis.process<"u")return(o=(n=(t=x1)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(l=(s=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||s===void 0?void 0:s.call(r,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yh;class ai{constructor(t){var n,o,r,s,l,u,d,{baseURL:f=qi("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(n=qi("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,h=Rs(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:p,apiVersion:m},h),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(o=g.timeout)!==null&&o!==void 0?o:ai.DEFAULT_TIMEOUT,this.logger=(r=g.logger)!==null&&r!==void 0?r:console;const v="warn";this.logLevel=v,this.logLevel=(l=(s=_f(g.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:_f(qi("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:v,this.fetchOptions=g.fetchOptions,this.maxRetries=(u=g.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(d=g.fetch)!==null&&d!==void 0?d:ME(),this.encoder=DE,this._options=g,this.apiKey=p,this.apiVersion=m,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=wo([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return wo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return wo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new Qe(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${_n}`}defaultIdempotencyKey(){return`stainless-node-retry-${xE()}`}makeStatusError(t,n,o,r){return be.generate(t,n,o,r)}buildURL(t,n,o){const r=!this.baseURLOverridden()&&o||this.baseURL,s=CE(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return NE(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:o}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:t,path:n},r)))}request(t,n=null){return new Nu(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,o){var r,s,l;const u=await t,d=(r=u.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=d),await this.prepareOptions(u);const{req:f,url:p,timeout:m}=await this.buildRequest(u,{retryCount:d-n});await this.prepareRequest(f,{url:p,options:u});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=o===void 0?"":`, retryOf: ${o}`,v=Date.now();if(Ie(this).debug(`[${h}] sending request`,an({retryOfRequestLogID:o,method:u.method,url:p,options:u,headers:f.headers})),!((s=u.signal)===null||s===void 0)&&s.aborted)throw new oa;const w=new AbortController,C=await this.fetchWithTimeout(p,f,m,w).catch(na),y=Date.now();if(C instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new oa;const N=ta(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return Ie(this).info(`[${h}] connection ${N?"timed out":"failed"} - ${S}`),Ie(this).debug(`[${h}] connection ${N?"timed out":"failed"} (${S})`,an({retryOfRequestLogID:o,url:p,durationMs:y-v,message:C.message})),this.retryRequest(u,n,o??h);throw Ie(this).info(`[${h}] connection ${N?"timed out":"failed"} - error; no more retries left`),Ie(this).debug(`[${h}] connection ${N?"timed out":"failed"} (error; no more retries left)`,an({retryOfRequestLogID:o,url:p,durationMs:y-v,message:C.message})),N?new Mh:new ii({cause:C})}const x=`[${h}${g}] ${f.method} ${p} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${y-v}ms`;if(!C.ok){const S=await this.shouldRetry(C);if(n&&S){const b=`retrying, ${n} attempts remaining`;return await LE(C.body),Ie(this).info(`${x} - ${b}`),Ie(this).debug(`[${h}] response error (${b})`,an({retryOfRequestLogID:o,url:C.url,status:C.status,headers:C.headers,durationMs:y-v})),this.retryRequest(u,n,o??h,C.headers)}const N=S?"error; no more retries left":"error; not retryable";Ie(this).info(`${x} - ${N}`);const E=await C.text().catch(b=>na(b).message),T=_E(E),I=T?void 0:E;throw Ie(this).debug(`[${h}] response error (${N})`,an({retryOfRequestLogID:o,url:C.url,status:C.status,headers:C.headers,message:I,durationMs:Date.now()-v})),this.makeStatusError(C.status,T,I,C.headers)}return Ie(this).info(x),Ie(this).debug(`[${h}] response start`,an({retryOfRequestLogID:o,url:C.url,status:C.status,headers:C.headers,durationMs:y-v})),{response:C,options:u,controller:w,requestLogID:h,retryOfRequestLogID:o,startTime:v}}async fetchWithTimeout(t,n,o,r){const s=n||{},{signal:l,method:u}=s,d=Rs(s,["signal","method"]),f=this._makeAbort(r);l&&l.addEventListener("abort",f,{once:!0});const p=setTimeout(f,o),m=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,h=Object.assign(Object.assign(Object.assign({signal:r.signal},m?{duplex:"half"}:{}),{method:"GET"}),d);u&&(h.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,h)}finally{clearTimeout(p)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,o,r){var s;let l;const u=r==null?void 0:r.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(l=f)}const d=r==null?void 0:r.get("retry-after");if(d&&!l){const f=parseFloat(d);Number.isNaN(f)?l=Date.parse(d)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(s=t.maxRetries)!==null&&s!==void 0?s:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await IE(l),this.makeRequest(t,n-1,o)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,l=Math.min(.5*Math.pow(2,s),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var o,r,s;const l=Object.assign({},t),{method:u,path:d,query:f,defaultBaseURL:p}=l,m=this.buildURL(d,f,p);"timeout"in l&&EE("timeout",l.timeout),l.timeout=(o=l.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:l}),v=await this.buildHeaders({options:t,method:u,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:v},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(s=l.fetchOptions)!==null&&s!==void 0?s:{}),url:m,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:o,retryCount:r}){let s={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let u=wo([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),RE()),this._options.defaultHeaders,o,t.headers,l]);return this.validateHeaders(u),u.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const o=wo([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&o.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:PE(t)}:this.encoder({body:t,headers:o})}}ai.DEFAULT_TIMEOUT=6e4;class xe extends ai{constructor(){super(...arguments),this.interactions=new Jh(this)}}Yh=xe;xe.GeminiNextGenAPIClient=Yh;xe.GeminiNextGenAPIClientError=Qe;xe.APIError=be;xe.APIConnectionError=ii;xe.APIConnectionTimeoutError=Mh;xe.APIUserAbortError=oa;xe.NotFoundError=jh;xe.ConflictError=Fh;xe.RateLimitError=Vh;xe.BadRequestError=Ph;xe.AuthenticationError=Lh;xe.InternalServerError=Gh;xe.PermissionDeniedError=Dh;xe.UnprocessableEntityError=Uh;xe.toFile=GE;xe.Interactions=Jh;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZE(e,t){const n={},o=a(e,["name"]);return o!=null&&c(n,["_url","name"],o),n}function e_(e,t){const n={},o=a(e,["name"]);return o!=null&&c(n,["_url","name"],o),n}function t_(e,t){const n={},o=a(e,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function n_(e,t){const n={},o=a(e,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function o_(e,t,n){const o={};if(a(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=a(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),a(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=a(e,["epochCount"]);t!==void 0&&s!=null&&c(t,["tuningTask","hyperparameters","epochCount"],s);const l=a(e,["learningRateMultiplier"]);if(l!=null&&c(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),a(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(a(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(a(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const u=a(e,["batchSize"]);t!==void 0&&u!=null&&c(t,["tuningTask","hyperparameters","batchSize"],u);const d=a(e,["learningRate"]);if(t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","learningRate"],d),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(a(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(a(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(a(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(a(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(a(e,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return o}function r_(e,t,n){const o={};let r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const T=a(e,["validationDataset"]);t!==void 0&&T!=null&&c(t,["supervisedTuningSpec"],Oi(T))}else if(r==="PREFERENCE_TUNING"){const T=a(e,["validationDataset"]);t!==void 0&&T!=null&&c(t,["preferenceOptimizationSpec"],Oi(T))}else if(r==="DISTILLATION"){const T=a(e,["validationDataset"]);t!==void 0&&T!=null&&c(t,["distillationSpec"],Oi(T))}const s=a(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&c(t,["tunedModelDisplayName"],s);const l=a(e,["description"]);t!==void 0&&l!=null&&c(t,["description"],l);let u=a(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const T=a(e,["epochCount"]);t!==void 0&&T!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(u==="PREFERENCE_TUNING"){const T=a(e,["epochCount"]);t!==void 0&&T!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}else if(u==="DISTILLATION"){const T=a(e,["epochCount"]);t!==void 0&&T!=null&&c(t,["distillationSpec","hyperParameters","epochCount"],T)}let d=a(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const T=a(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(d==="PREFERENCE_TUNING"){const T=a(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}else if(d==="DISTILLATION"){const T=a(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&c(t,["distillationSpec","hyperParameters","learningRateMultiplier"],T)}let f=a(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const T=a(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(f==="PREFERENCE_TUNING"){const T=a(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}else if(f==="DISTILLATION"){const T=a(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&c(t,["distillationSpec","exportLastCheckpointOnly"],T)}let p=a(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const T=a(e,["adapterSize"]);t!==void 0&&T!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(p==="PREFERENCE_TUNING"){const T=a(e,["adapterSize"]);t!==void 0&&T!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}else if(p==="DISTILLATION"){const T=a(e,["adapterSize"]);t!==void 0&&T!=null&&c(t,["distillationSpec","hyperParameters","adapterSize"],T)}let m=a(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const T=a(e,["tuningMode"]);t!==void 0&&T!=null&&c(t,["supervisedTuningSpec","tuningMode"],T)}const h=a(e,["customBaseModel"]);t!==void 0&&h!=null&&c(t,["customBaseModel"],h);let g=a(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const T=a(e,["batchSize"]);t!==void 0&&T!=null&&c(t,["supervisedTuningSpec","hyperParameters","batchSize"],T)}let v=a(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const T=a(e,["learningRate"]);t!==void 0&&T!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRate"],T)}const w=a(e,["labels"]);t!==void 0&&w!=null&&c(t,["labels"],w);const C=a(e,["beta"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],C);const y=a(e,["baseTeacherModel"]);t!==void 0&&y!=null&&c(t,["distillationSpec","baseTeacherModel"],y);const x=a(e,["tunedTeacherModelSource"]);t!==void 0&&x!=null&&c(t,["distillationSpec","tunedTeacherModelSource"],x);const S=a(e,["sftLossWeightMultiplier"]);t!==void 0&&S!=null&&c(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],S);const N=a(e,["outputUri"]);t!==void 0&&N!=null&&c(t,["outputUri"],N);const E=a(e,["encryptionSpec"]);return t!==void 0&&E!=null&&c(t,["encryptionSpec"],E),o}function s_(e,t){const n={},o=a(e,["baseModel"]);o!=null&&c(n,["baseModel"],o);const r=a(e,["preTunedModel"]);r!=null&&c(n,["preTunedModel"],r);const s=a(e,["trainingDataset"]);s!=null&&g_(s);const l=a(e,["config"]);return l!=null&&o_(l,n),n}function i_(e,t){const n={},o=a(e,["baseModel"]);o!=null&&c(n,["baseModel"],o);const r=a(e,["preTunedModel"]);r!=null&&c(n,["preTunedModel"],r);const s=a(e,["trainingDataset"]);s!=null&&v_(s,n,t);const l=a(e,["config"]);return l!=null&&r_(l,n,t),n}function l_(e,t){const n={},o=a(e,["name"]);return o!=null&&c(n,["_url","name"],o),n}function a_(e,t){const n={},o=a(e,["name"]);return o!=null&&c(n,["_url","name"],o),n}function u_(e,t,n){const o={},r=a(e,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const s=a(e,["pageToken"]);t!==void 0&&s!=null&&c(t,["_query","pageToken"],s);const l=a(e,["filter"]);return t!==void 0&&l!=null&&c(t,["_query","filter"],l),o}function c_(e,t,n){const o={},r=a(e,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const s=a(e,["pageToken"]);t!==void 0&&s!=null&&c(t,["_query","pageToken"],s);const l=a(e,["filter"]);return t!==void 0&&l!=null&&c(t,["_query","filter"],l),o}function d_(e,t){const n={},o=a(e,["config"]);return o!=null&&u_(o,n),n}function f_(e,t){const n={},o=a(e,["config"]);return o!=null&&c_(o,n),n}function p_(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["nextPageToken"]);r!=null&&c(n,["nextPageToken"],r);const s=a(e,["tunedModels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Qh(u))),c(n,["tuningJobs"],l)}return n}function m_(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["nextPageToken"]);r!=null&&c(n,["nextPageToken"],r);const s=a(e,["tuningJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>ia(u))),c(n,["tuningJobs"],l)}return n}function h_(e,t){const n={},o=a(e,["name"]);o!=null&&c(n,["model"],o);const r=a(e,["name"]);return r!=null&&c(n,["endpoint"],r),n}function g_(e,t){const n={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=a(e,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),c(n,["examples","examples"],r)}return n}function v_(e,t,n){const o={};let r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=a(e,["gcsUri"]);t!==void 0&&l!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=a(e,["gcsUri"]);t!==void 0&&l!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(r==="DISTILLATION"){const l=a(e,["gcsUri"]);t!==void 0&&l!=null&&c(t,["distillationSpec","promptDatasetUri"],l)}let s=a(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=a(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=a(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(s==="DISTILLATION"){const l=a(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&c(t,["distillationSpec","promptDatasetUri"],l)}if(a(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Qh(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["name"]);r!=null&&c(n,["name"],r);const s=a(e,["state"]);s!=null&&c(n,["state"],ph(s));const l=a(e,["createTime"]);l!=null&&c(n,["createTime"],l);const u=a(e,["tuningTask","startTime"]);u!=null&&c(n,["startTime"],u);const d=a(e,["tuningTask","completeTime"]);d!=null&&c(n,["endTime"],d);const f=a(e,["updateTime"]);f!=null&&c(n,["updateTime"],f);const p=a(e,["description"]);p!=null&&c(n,["description"],p);const m=a(e,["baseModel"]);m!=null&&c(n,["baseModel"],m);const h=a(e,["_self"]);return h!=null&&c(n,["tunedModel"],h_(h)),n}function ia(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["name"]);r!=null&&c(n,["name"],r);const s=a(e,["state"]);s!=null&&c(n,["state"],ph(s));const l=a(e,["createTime"]);l!=null&&c(n,["createTime"],l);const u=a(e,["startTime"]);u!=null&&c(n,["startTime"],u);const d=a(e,["endTime"]);d!=null&&c(n,["endTime"],d);const f=a(e,["updateTime"]);f!=null&&c(n,["updateTime"],f);const p=a(e,["error"]);p!=null&&c(n,["error"],p);const m=a(e,["description"]);m!=null&&c(n,["description"],m);const h=a(e,["baseModel"]);h!=null&&c(n,["baseModel"],h);const g=a(e,["tunedModel"]);g!=null&&c(n,["tunedModel"],g);const v=a(e,["preTunedModel"]);v!=null&&c(n,["preTunedModel"],v);const w=a(e,["supervisedTuningSpec"]);w!=null&&c(n,["supervisedTuningSpec"],w);const C=a(e,["preferenceOptimizationSpec"]);C!=null&&c(n,["preferenceOptimizationSpec"],C);const y=a(e,["distillationSpec"]);y!=null&&c(n,["distillationSpec"],y);const x=a(e,["tuningDataStats"]);x!=null&&c(n,["tuningDataStats"],x);const S=a(e,["encryptionSpec"]);S!=null&&c(n,["encryptionSpec"],S);const N=a(e,["partnerModelTuningSpec"]);N!=null&&c(n,["partnerModelTuningSpec"],N);const E=a(e,["customBaseModel"]);E!=null&&c(n,["customBaseModel"],E);const T=a(e,["experiment"]);T!=null&&c(n,["experiment"],T);const I=a(e,["labels"]);I!=null&&c(n,["labels"],I);const k=a(e,["outputUri"]);k!=null&&c(n,["outputUri"],k);const b=a(e,["pipelineJob"]);b!=null&&c(n,["pipelineJob"],b);const A=a(e,["serviceAccount"]);A!=null&&c(n,["serviceAccount"],A);const D=a(e,["tunedModelDisplayName"]);D!=null&&c(n,["tunedModelDisplayName"],D);const F=a(e,["veoTuningSpec"]);return F!=null&&c(n,["veoTuningSpec"],F),n}function x_(e,t){const n={},o=a(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=a(e,["name"]);r!=null&&c(n,["name"],r);const s=a(e,["metadata"]);s!=null&&c(n,["metadata"],s);const l=a(e,["done"]);l!=null&&c(n,["done"],l);const u=a(e,["error"]);return u!=null&&c(n,["error"],u),n}function Oi(e,t){const n={},o=a(e,["gcsUri"]);o!=null&&c(n,["validationDatasetUri"],o);const r=a(e,["vertexDatasetResource"]);return r!=null&&c(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y_ extends kt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Nn(Et.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:r});return s.baseModel=void 0,await this.tuneInternal(s)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),s=await this.tuneMldevInternal(r);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:Wl.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=a_(t);return u=L("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>ia(p))}else{const f=l_(t);return u=L("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>Qh(p))}}async listInternal(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=f_(t);return u=L("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=m_(p),h=new Zd;return Object.assign(h,m),h})}else{const f=d_(t);return u=L("tunedModels",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=p_(p),h=new Zd;return Object.assign(h,m),h})}}async cancel(t){var n,o,r,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=e_(t);return u=L("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=n_(p),h=new ef;return Object.assign(h,m),h})}else{const f=ZE(t);return u=L("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=t_(p),h=new ef;return Object.assign(h,m),h})}}async tuneInternal(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI()){const u=i_(t,t);return s=L("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),r.then(d=>ia(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=s_(t);return s=L("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),r.then(d=>x_(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C_{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const S_=1024*1024*8,w_=3,N_=1e3,T_=2,Ps="x-goog-upload-status";async function E_(e,t,n){var o;const r=await Xh(e,t,n),s=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Ps])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function __(e,t,n){var o;const r=await Xh(e,t,n),s=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Ps])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=lh(s),u=new gu;return Object.assign(u,l),u}async function Xh(e,t,n){var o,r;let s=0,l=0,u=new Kl(new Response),d="upload";for(s=e.size;l<s;){const f=Math.min(S_,s-l),p=e.slice(l,l+f);l+f>=s&&(d+=", finalize");let m=0,h=N_;for(;m<w_&&(u=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[Ps]));)m++,await k_(h),h=h*T_;if(l+=f,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[Ps])!=="active")break;if(s<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function I_(e){return{size:e.size,type:e.type}}function k_(e){return new Promise(t=>setTimeout(t,e))}class A_{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await E_(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await __(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await I_(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b_{create(t,n,o){return new R_(t,n,o)}}class R_{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kf="x-goog-api-key";class M_{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(kf)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(kf,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P_="gl-node/";class L_{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new xe({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout,maxRetries:(t=n==null?void 0:n.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=o.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=w1(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new M_(this.apiKey);this.apiClient=new IT({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:P_+"web",uploader:new A_,downloader:new C_}),this.models=new $T(this.apiClient),this.live=new GT(this.apiClient,r,new b_),this.batches=new XC(this.apiClient),this.chats=new PS(this.models,this.apiClient),this.caches=new bS(this.apiClient),this.files=new OS(this.apiClient),this.operations=new WT(this.apiClient),this.authTokens=new uE(this.apiClient),this.tunings=new y_(this.apiClient),this.fileSearchStores=new vE(this.apiClient)}}var D_={};const $i=[{id:"diagram",label:"Scientific Diagram",prompt:"A clean, 2D vector-style scientific diagram of "},{id:"3d",label:"3D Render",prompt:"A high quality 3D render, studio lighting, scientific visualization of "},{id:"sketch",label:"Lab Sketch",prompt:"A hand-drawn style laboratory sketch of "},{id:"photo",label:"Photorealistic",prompt:"A photorealistic macro photography style image of "}],j_=[{id:"1:1",label:"Square (1:1)"},{id:"16:9",label:"Landscape (16:9)"},{id:"4:3",label:"Standard (4:3)"},{id:"3:4",label:"Portrait (3:4)"}],F_=()=>{const[e,t]=_.useState(""),[n,o]=_.useState($i[0].id),[r,s]=_.useState("1:1"),[l,u]=_.useState(!1),[d,f]=_.useState(null),[p,m]=_.useState(null),h=async()=>{var v,w,C;if(e.trim()){u(!0),m(null),f(null);try{const y=D_.API_KEY;if(!y)throw new Error("API Key is missing. Please configure process.env.API_KEY.");const x=new L_({apiKey:y}),S=$i.find(I=>I.id===n),N=`${(S==null?void 0:S.prompt)||""}${e}`,E=await x.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:N}]},config:{imageConfig:{aspectRatio:r}}});let T=!1;if((C=(w=(v=E.candidates)==null?void 0:v[0])==null?void 0:w.content)!=null&&C.parts){for(const I of E.candidates[0].content.parts)if(I.inlineData){const k=I.inlineData.data,b=I.inlineData.mimeType||"image/png";f(`data:${b};base64,${k}`),T=!0;break}}if(!T)throw new Error("No image data found in response.")}catch(y){console.error(y),m(y.message||"Failed to generate image. Please check API quota or key.")}finally{u(!1)}}},g=()=>{if(d){const v=document.createElement("a");v.href=d,v.download=`lab-illustration-${Date.now()}.png`,document.body.appendChild(v),v.click(),document.body.removeChild(v)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ve,{title:"AI Illustrator",description:"Generate scientific diagrams, 3D visualizations, and concept art using Gemini AI."}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsx("div",{className:"lg:col-span-5 space-y-6",children:i.jsx(O,{title:"Configuration",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block",children:"Visual Style"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:$i.map(v=>i.jsx("button",{onClick:()=>o(v.id),className:`px-3 py-3 rounded-xl text-sm font-bold border transition-all text-left ${n===v.id?"bg-violet-50 border-violet-500 text-violet-700 ring-1 ring-violet-500/20":"bg-white border-slate-200 text-slate-600 hover:border-violet-300"}`,children:v.label},v.id))})]}),i.jsx(Yt,{label:"Aspect Ratio",value:r,onChange:v=>s(v.target.value),children:j_.map(v=>i.jsx("option",{value:v.id,children:v.label},v.id))}),i.jsxs("div",{className:"pt-2",children:[i.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block",children:"Description"}),i.jsx("textarea",{value:e,onChange:v=>t(v.target.value),className:"w-full h-32 p-4 rounded-2xl border-2 border-slate-200 bg-slate-50 focus:bg-white focus:border-violet-500 focus:ring-0 resize-none transition-colors text-slate-900 placeholder-slate-400",placeholder:"e.g. A cross-section of a mitochondrion showing cristae and matrix..."})]}),p&&i.jsxs("div",{className:"p-4 bg-red-50 rounded-xl flex items-start text-red-700 text-sm border border-red-100",children:[i.jsx(su,{size:18,className:"mr-2 mt-0.5 flex-shrink-0"}),p]}),i.jsx(B,{onClick:h,disabled:l||!e.trim(),size:"lg",className:"w-full bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-500 hover:to-indigo-500 shadow-lg shadow-violet-500/20 text-white",children:l?i.jsxs("span",{className:"flex items-center",children:[i.jsx(ht,{className:"animate-spin mr-2",size:18})," Generating..."]}):i.jsxs("span",{className:"flex items-center",children:[i.jsx(iy,{className:"mr-2",size:18})," Generate Image"]})})]})})}),i.jsx("div",{className:"lg:col-span-7",children:i.jsx(O,{className:"h-full min-h-[500px] flex flex-col items-center justify-center bg-slate-50/50 border-2 border-dashed border-slate-200 relative overflow-hidden",children:d?i.jsxs("div",{className:"relative w-full h-full flex flex-col animate-fadeIn",children:[i.jsx("div",{className:"flex-1 flex items-center justify-center bg-slate-100 p-4 rounded-t-[30px] overflow-hidden",children:i.jsx("img",{src:d,alt:"Generated result",className:"max-w-full max-h-[600px] object-contain rounded-lg shadow-xl"})}),i.jsxs("div",{className:"bg-white p-4 border-t border-slate-200 flex justify-between items-center rounded-b-[30px]",children:[i.jsxs("div",{className:"text-sm text-slate-500 font-medium flex items-center",children:[i.jsx(lu,{size:16,className:"text-emerald-500 mr-2"}),"Generated successfully"]}),i.jsx(B,{onClick:g,variant:"outline",size:"sm",icon:i.jsx(ti,{size:16}),children:"Download"})]})]}):i.jsx("div",{className:"text-center text-slate-400 p-8",children:l?i.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[i.jsx("div",{className:"h-24 w-24 bg-slate-200 rounded-full mb-4"}),i.jsx("div",{className:"h-4 w-48 bg-slate-200 rounded mb-2"}),i.jsx("div",{className:"h-4 w-32 bg-slate-200 rounded"}),i.jsx("p",{className:"mt-8 text-violet-500 font-medium",children:"Dreaming up your science..."})]}):i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(au,{size:64,className:"mb-4 opacity-20"}),i.jsx("h3",{className:"text-lg font-bold text-slate-500",children:"No Image Generated"}),i.jsx("p",{className:"text-sm mt-2 max-w-xs text-slate-400",children:"Enter a prompt and click generate to create scientific illustrations using AI."})]})})})})]})]})},U_=()=>(_.useEffect(()=>{const e=n=>{n.preventDefault()},t=n=>{n.key==="F12"&&n.preventDefault(),(n.ctrlKey||n.metaKey)&&n.shiftKey&&["I","J","C"].includes(n.key.toUpperCase())&&n.preventDefault(),(n.ctrlKey||n.metaKey)&&n.key.toUpperCase()==="U"&&n.preventDefault()};return document.addEventListener("contextmenu",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("contextmenu",e),document.removeEventListener("keydown",t)}},[]),i.jsx(kx,{children:i.jsx(ky,{children:i.jsxs(yx,{children:[i.jsx(ce,{path:"/",element:i.jsx(My,{})}),i.jsx(ce,{path:"/dilution",element:i.jsx(Py,{})}),i.jsx(ce,{path:"/molarity",element:i.jsx(Ly,{})}),i.jsx(ce,{path:"/ph",element:i.jsx(Fy,{})}),i.jsx(ce,{path:"/protein",element:i.jsx(Uy,{})}),i.jsx(ce,{path:"/percent",element:i.jsx(Vy,{})}),i.jsx(ce,{path:"/protocols",element:i.jsx(Dy,{})}),i.jsx(ce,{path:"/oops",element:i.jsx(Gy,{})}),i.jsx(ce,{path:"/primers",element:i.jsx($y,{})}),i.jsx(ce,{path:"/sds",element:i.jsx(Jy,{})}),i.jsx(ce,{path:"/cellcount",element:i.jsx(Ky,{})}),i.jsx(ce,{path:"/log",element:i.jsx(Yy,{})}),i.jsx(ce,{path:"/timer",element:i.jsx(e1,{})}),i.jsx(ce,{path:"/fasta",element:i.jsx(s1,{})}),i.jsx(ce,{path:"/restriction",element:i.jsx(i1,{})}),i.jsx(ce,{path:"/admin",element:i.jsx(a1,{})}),i.jsx(ce,{path:"/cookies",element:i.jsx(u1,{})}),i.jsx(ce,{path:"/ai-image",element:i.jsx(F_,{})}),i.jsx(ce,{path:"*",element:i.jsx(vx,{to:"/",replace:!0})})]})})})),Zh=document.getElementById("root");if(!Zh)throw new Error("Could not find root element to mount to");const V_=Wi.createRoot(Zh);V_.render(i.jsx(Vf.StrictMode,{children:i.jsx(U_,{})}));
